var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},__extends=function(e,t){function i(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},__assign=Object.assign||function(e){for(var t,i=1,n=arguments.length;n>i;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},__rest=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]]);return i},__decorate=function(e,t,i,n){var o,r=arguments.length,a=3>r?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(3>r?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a},__param=function(e,t){return function(i,n){t(i,n,e)}},__metadata=function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},__awaiter=function(e,t,i,n){function o(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(t){r(t)}}function s(e){try{l(n["throw"](e))}catch(t){r(t)}}function l(e){e.done?i(e.value):o(e.value).then(a,s)}l((n=n.apply(e,t||[])).next())})},__generator=function(e,t){function i(e){return function(t){return n([e,t])}}function n(i){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,r&&(a=2&i[0]?r["return"]:i[0]?r["throw"]||((a=r["return"])&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(a=l.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1],a=i;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(i);break}a[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(n){i=[6,n],r=0}finally{o=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var o,r,a,s,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},__exportStar=function(e,t){for(var i in e)"default"===i||t.hasOwnProperty(i)||__createBinding(t,e,i)},__createBinding=Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]},__values=function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,o,r=i.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r["return"])&&i.call(r)}finally{if(o)throw o.error}}return a},__spread=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e},__spreadArrays=function(){for(var e=0,t=0,i=arguments.length;i>t;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;i>t;t++)for(var r=arguments[t],a=0,s=r.length;s>a;a++,o++)n[o]=r[a];return n},__await=function(e){return this instanceof __await?(this.v=e,this):new __await(e)},__asyncGenerator=function(e,t,i){function n(e){c[e]&&(h[e]=function(t){return new Promise(function(i,n){d.push([e,t,i,n])>1||o(e,t)})})}function o(e,t){try{r(c[e](t))}catch(i){l(d[0][3],i)}}function r(e){e.value instanceof __await?Promise.resolve(e.value.v).then(a,s):l(d[0][2],e)}function a(e){o("next",e)}function s(e){o("throw",e)}function l(e,t){e(t),d.shift(),d.length&&o(d[0][0],d[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var h,c=i.apply(e,t||[]),d=[];return h={},n("next"),n("throw"),n("return"),h[Symbol.asyncIterator]=function(){return this},h},__asyncDelegator=function(e){function t(t,o){i[t]=e[t]?function(i){return(n=!n)?{value:__await(e[t](i)),done:"return"===t}:o?o(i):i}:o}var i,n;return i={},t("next"),t("throw",function(e){throw e}),t("return"),i[Symbol.iterator]=function(){return this},i},__asyncValues=function(e){function t(t){n[t]=e[t]&&function(n){return new Promise(function(o,r){n=e[t](n),i(o,r,n.done,n.value)})}}function i(e,t,i,n){Promise.resolve(n).then(function(t){e({value:t,done:i})},t)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=e[Symbol.asyncIterator];return o?o.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),n={},t("next"),t("throw"),t("return"),n[Symbol.asyncIterator]=function(){return this},n)},__makeTemplateObject=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__setModuleDefault=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t},__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&__createBinding(t,e,i);return __setModuleDefault(t,e),t},__importDefault=function(e){return e&&e.__esModule?e:{"default":e}},__classPrivateFieldGet=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet=function(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i},__reflect=function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i};!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var o in e)t.d(n,o,function(t){return e[t]}.bind(null,o));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){i(1),i(2),i(3),i(4),i(5),i(6),i(0),i(7),i(8),i(9),i(10),i(11),i(12),i(13),i(14),i(15),i(16),i(17),i(18),i(19),i(20),i(21),i(22),i(23),i(24),i(25),i(26),i(27),i(28),i(29),i(30),i(31),i(32),i(33),i(34),i(35),i(36),i(37),i(38),i(39),i(40),i(41),i(42),i(43),i(44),i(45),i(46),i(47),i(48),i(49),i(50),i(51),i(52),i(53),i(54),i(55),i(56),i(57),i(58),i(59),i(60),i(61),i(62),i(63),i(64),i(65),i(66),i(67),i(68),i(69),i(70),i(71),i(72),i(73),i(74),i(75),i(76),i(77),i(78),i(79),i(80),i(81),i(82),i(83),i(84),i(85),i(86),i(87),i(88),i(89),i(90),i(91);var n=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(e){this.runGame()},t.prototype.runGame=function(){var e=this;codeBase.SceneManager.instance.Init(),codeBase.GlobalSetting.initData(),codeBase.HeartBeat.init(),this.loadingView=new codeBase.LoadingUI,codeBase.SceneManager.instance.showScene(this.loadingView),codeBase.EventManager.addEventListener(codeBase.EventType.LOADINGUI_FINISH,function(){e.loadResource(),e.createGameScene()},this)},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return t.sent(),[4,RES.loadGroup("preload",0,this.loadingView)];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),console.error(e),[3,4];case 4:return[2]}})})},t.prototype.createGameScene=function(){egret.setTimeout(function(){codeBase.SceneManager.instance.showScene(new codeBase.MainScene)},this,1e3)},t}(egret.DisplayObjectContainer);window.Main=n,__reflect(n.prototype,"Main",[])},function(e,t){var i,i=window.codeBase;!function(e){var t=function(e){function t(){var t=e.call(this)||this;t._isAddedToStage=!1,t._top=0/0,t._left=0/0,t._bottom=0/0,t._right=0/0,t._horizontalCenter=0/0,t._verticalCenter=0/0,t._hasInvalidatePosition=!1,t._drawDelay=!1,t._hasInvalidate=!1,t._data=null,t._enabled=!0;var i=t;return i._drawDelay=!1,i.addEventListener(egret.Event.ADDED_TO_STAGE,i.onAddToStage,i),t}return __extends(t,e),t.prototype.onAddToStage=function(e){var t=this;t._isAddedToStage=!0,t.removeEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.createChildren(),t.initData(),t.onInvalidatePosition(),t.invalidate()},t.prototype.initData=function(){},t.prototype.createChildren=function(){var e=this;e.touchEnabled=!1},Object.defineProperty(t.prototype,"width",{get:function(){return this.$getWidth()},set:function(t){t>=0&&(e.prototype.$setWidth.call(this,t),this.onInvalidatePosition(),this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.$getHeight()},set:function(t){t>=0&&(e.prototype.$setHeight.call(this,t),this.onInvalidatePosition(),this.invalidate())},enumerable:!1,configurable:!0}),t.prototype.setSize=function(e,t){var i=this;(i.width!=e||i.height!=t)&&(i.width=e,i.height=t,i.onInvalidatePosition(),i.invalidate())},Object.defineProperty(t.prototype,"top",{get:function(){return this._top},set:function(e){var t=this;t._top!=e&&(t._top=e,t.onInvalidatePosition())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this._left},set:function(e){var t=this;t._left!=e&&(t._left=e,t.onInvalidatePosition())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this._bottom},set:function(e){var t=this;t._bottom!=e&&(t._bottom=e,t.onInvalidatePosition())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this._right},set:function(e){var t=this;t._right!=e&&(t._right=e,t.onInvalidatePosition())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"horizontalCenter",{get:function(){return this._horizontalCenter},set:function(e){var t=this;t._horizontalCenter!=e&&(t._horizontalCenter=e,t.onInvalidatePosition())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticalCenter",{get:function(){return this._verticalCenter},set:function(e){var t=this;t._verticalCenter!=e&&(t._verticalCenter=e,t.onInvalidatePosition())},enumerable:!1,configurable:!0}),t.prototype.onInvalidatePosition=function(){var e=this;if(!e._hasInvalidatePosition){e._hasInvalidatePosition=!0,e.addEventListener(egret.Event.ENTER_FRAME,e.resetPosition,e);for(var i=void 0,n=0;n<e.numChildren;n++)i=e.getChildAt(n),i instanceof t&&i.onInvalidatePosition()}},t.prototype.resetPosition=function(){var e=this,i=e.parent;if(null!=i){var n=i.width,o=i.height,r=e.width,a=e.height;(isNaN(n)||void 0==o)&&(n=0),(isNaN(o)||void 0==o)&&(o=0),(isNaN(r)||void 0==r)&&(r=0),(isNaN(a)||void 0==a)&&(r=0);var s=!1,l=!1;if(!isNaN(e._top)&&isNaN(e._bottom)?e.y=e._top:!isNaN(e._bottom)&&isNaN(e._top)?e.y=o-e._bottom-a:isNaN(e._top)||isNaN(e._bottom)||(e.y=e._top,a=o-e._top-e._bottom,e.height!=a&&(e.height=a,l=!0)),!isNaN(e._left)&&isNaN(e._right)?e.x=e._left:!isNaN(e._right)&&isNaN(e.left)?e.x=n-e._right-r:isNaN(e.left)||isNaN(e._right)||(e.x=e._left,r=n-e._left-e._right,e.width!=r&&(e.width=r,s=!0)),isNaN(e._horizontalCenter)||s||(e.x=(n-r)/2+e._horizontalCenter),isNaN(e._verticalCenter)||l||(e.y=(o-a)/2+e._verticalCenter),s||l)for(var h=void 0,c=0;c<e.numChildren;c++)h=e.getChildAt(c),h instanceof t&&h.onInvalidatePosition()}e.removeEventListener(egret.Event.ENTER_FRAME,e.resetPosition,e),e._hasInvalidatePosition=!1},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),t.prototype.clean=function(){},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cx",{get:function(){return this.width/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cy",{get:function(){return this.height/2},enumerable:!1,configurable:!0}),t.prototype.removeFromParent=function(){this.parent&&this.parent.removeChild(this)},t.prototype.getGlobalXY=function(){var e=new egret.Point(0,0);return this.localToGlobal(e.x,e.y,e),e},Object.defineProperty(t.prototype,"actualWidth",{get:function(){return this.width*this.scaleX},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualHeight",{get:function(){return this.height*this.scaleX},enumerable:!1,configurable:!0}),t.prototype.getRegPoint=function(){var e=new egret.Point(0,0);return 0!=this.anchorOffsetX&&(e.x=this.anchorOffsetX),0!=this.anchorOffsetY&&(e.y=this.anchorOffsetY),e},t.prototype.invalidate=function(){var e=this;e._hasInvalidate||e._drawDelay||(e.addEventListener(egret.Event.ENTER_FRAME,e.onInvalidate,e),e._hasInvalidate=!0)},t.prototype.onInvalidate=function(e){var t=this;t.draw(),t.removeEventListener(egret.Event.ENTER_FRAME,t.onInvalidate,t),t._hasInvalidate=!1},t.prototype.draw=function(){},Object.defineProperty(t.prototype,"drawDelay",{get:function(){return this._drawDelay},set:function(e){var t=this;t._drawDelay=e,t._drawDelay?(t.removeEventListener(egret.Event.ENTER_FRAME,t.onInvalidate,t),t._hasInvalidate=!1):t.invalidate()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAddedToStage",{get:function(){return this._isAddedToStage},enumerable:!1,configurable:!0}),t}(egret.DisplayObjectContainer);e.BaseGroup=t,__reflect(t.prototype,"codeBase.BaseGroup",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e._showBg=!1,e._bgColor=13421772,e._bgImage=null,e._bgTexture=null,e._scale9GridRect=null,e.scale9RectData=[],e._fillMode="scale",e._border=!1,e._clip=!0,e._touchNonePixel=!1,e}return __extends(i,t),i.prototype.createChildren=function(){t.prototype.createChildren.call(this)},Object.defineProperty(i.prototype,"bgColor",{get:function(){return this._bgColor},set:function(e){this._bgColor!=e&&this._showBg&&(this._bgColor=e,this._bgTexture=null,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fillMode",{get:function(){return this._fillMode},set:function(e){this._fillMode!=e&&(this._fillMode=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showBg",{get:function(){return this._showBg},set:function(e){this._showBg!=e&&(this._showBg=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clip",{get:function(){return this._clip},set:function(e){e!=this._clip&&(this._clip=e,this.invalidate())},enumerable:!1,configurable:!0}),i.prototype.draw=function(){if(0!=this.width&&0!=this.height){if(t.prototype.draw.call(this),this._clip){var i=e.ObjectPool.getByClass(egret.Rectangle);this.scrollRect&&(e.ObjectPool.recycleClass(this.scrollRect),this.scrollRect=null),i.width=this.width,i.height=this.height,i.x=0,i.y=0,this.scrollRect=i}else this.scrollRect=null;this._showBg||this._touchNonePixel&&this.touchEnabled?(this.addDefaultSkin(),this._bgImage&&(this._bgImage.visible=!0,this._touchNonePixel&&!this._showBg?this._bgImage.alpha=0:this._bgImage.alpha=1)):this._bgImage&&(this._bgImage.visible=!1,this._bgImage.parent&&this._bgImage.parent.removeChild(this._bgImage))}},i.prototype.addDefaultSkin=function(){if(this.width>0&&this.height>0)if(null==this._bgImage&&(this._bgImage=new egret.Bitmap),null==this._bgTexture){this._bgImage.fillMode=egret.BitmapFillMode.SCALE;var e=new egret.Shape;e.width=this.width,e.height=this.height,e.graphics.beginFill(this._bgColor,1),e.graphics.drawRect(0,0,this.width,this.height),e.graphics.endFill(),this._border&&(e.graphics.lineStyle(1,65280,1),e.graphics.drawRect(0,0,this.width,this.height));var t=new egret.RenderTexture;t.drawToTexture(e),this._bgTexture=t,this._bgImage.texture=this._bgTexture}else this._bgImage.texture=this._bgTexture;this._bgImage&&(this._showBg||this._touchNonePixel&&this.touchEnabled)&&(this._bgImage.parent||this.addChildAt(this._bgImage,0),4==this.scale9RectData.length?(null==this._scale9GridRect&&(this._scale9GridRect=this.scale9Rect()),this._scale9GridRect.x=this.scale9RectData[0],this._scale9GridRect.y=this.scale9RectData[2],this._scale9GridRect.width=this._bgImage.texture.$getTextureWidth()-(this.scale9RectData[0]+this.scale9RectData[1]),this._scale9GridRect.height=this._bgImage.texture.$getTextureHeight()-(this.scale9RectData[2]+this.scale9RectData[3]),this._bgImage.scale9Grid=this._scale9GridRect):this._bgImage.scale9Grid=null,this._bgImage.width=this.width,this._bgImage.height=this.height,this._bgImage.fillMode=this._fillMode)},Object.defineProperty(i.prototype,"border",{get:function(){return this._border},set:function(e){this._border!=e&&(this._border=e,this.invalidate())},enumerable:!1,configurable:!0}),i.prototype.getDefaultSkin=function(){return this._bgImage},Object.defineProperty(i.prototype,"bgTexture",{get:function(){return this._bgTexture},set:function(e){this._bgTexture!=e&&(this._bgTexture=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"touchNonePixel",{get:function(){return this._touchNonePixel},set:function(e){e!=this._touchNonePixel&&(this._touchNonePixel=e,this.invalidate())},enumerable:!1,configurable:!0}),i.prototype.scale9Grid=function(e){void 0===e&&(e=[]);4==e.length?this.scale9RectData=e.concat():this.scale9RectData.length=0,this.invalidate()},i.prototype.scale9Rect=function(){var e=new egret.Rectangle;return e.x=1,e.y=1,e.width=1,e.height=1,e},i}(e.BaseGroup);e.Group=t,__reflect(t.prototype,"codeBase.Group",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.list=null,t}return __extends(t,e),t.prototype.initData=function(){},t.prototype.createChildren=function(){e.prototype.createChildren.call(this)},t.prototype.draw=function(){e.prototype.draw.call(this)},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.invalidate()},enumerable:!1,configurable:!0}),t.prototype.refresh=function(){this.data=this._data},Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){this.setSelected(e)},enumerable:!1,configurable:!0}),t.prototype.setSelected=function(e){this._selected!=e&&(this._selected=e,this.invalidate())},t.prototype.destroy=function(){},t.prototype.validateNow=function(){},t}(e.Group);e.DefaultRenderer=t,__reflect(t.prototype,"codeBase.DefaultRenderer",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.prototype.initData=function(){},i.prototype.draw=function(){this.itemImage&&(this.width=this.itemImage.texture.textureWidth,this.height=this.itemImage.texture.textureHeight)},i.prototype.destroy=function(){var e=this;e.itemImage&&(e.itemImage.parent&&e.itemImage.parent.removeChild(e.itemImage),e.itemImage=null)},i.prototype.validateNow=function(){var t=this;t.data&&(t.itemImage||(t.itemImage=new e.Image,t.addChild(t.itemImage)),t.itemImage.texture=RES.getRes(t.data.res),t.onInvalidate(null))},i}(e.DefaultRenderer);e.ListItemRenderer=t,__reflect(t.prototype,"codeBase.ListItemRenderer",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.isClear=!1,e}return __extends(i,t),i.prototype.initData=function(){t.prototype.initData.call(this);var i=this;i.stage=e.curStage(),i.modulePath="",i.skeletonPath=i.modulePath+"/skeleton/",i.videopath="video/"+i.modulePath+"/"},i.prototype.hide=function(){console.log("remove"+egret.getQualifiedClassName(this))},i}(e.BaseGroup);e.BaseScene=t,__reflect(t.prototype,"codeBase.BaseScene",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.prototype.initData=function(){t.prototype.initData.call(this),this.createView()},i.prototype.createView=function(){this.textField=new e.Label,this.addChild(this.textField),this.textField.horizontalCenter=0,this.textField.verticalCenter=0,this.textField.width=1920,this.textField.height=100,this.textField.hAlign=egret.HorizontalAlign.CENTER,this.textField.autoSize=!1,this.textField.showBg=!0,this.textField.bgColor=e.TextColors.blue,this.textField.fontSize=36,this.textField.text="Loading...",e.MyEvent.sendEvent(e.EventType.LOADINGUI_FINISH)},i.prototype.onProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},i}(e.BaseScene);e.LoadingUI=t,__reflect(t.prototype,"codeBase.LoadingUI",["RES.PromiseTaskReporter"])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(e,t){this.framekey="",this.frameNames=[],this.frameTextures=[];var i=this;i.framekey=e,i.frameNames=__spreadArrays(t),i.init()}return e.prototype.init=function(){for(var e=this,t=e.frameNames.length,i=0;t>i;++i)e.frameTextures[i]=RES.getRes(e.frameNames[i])},e.prototype.setFrameData=function(e,t){var i=this;i.framekey=e,i.frameNames=__spreadArrays(t)},e}();e.ImageData=t,__reflect(t.prototype,"codeBase.ImageData",[]);var i=function(){function e(){this.frameListener=[],this.frameListenerObj=[],this.frameIndex=[]}return e}();e.AnimationData=i,__reflect(i.prototype,"codeBase.AnimationData",[]);var n=function(e){function n(t,i,n,o,r){void 0===r&&(r=0);var a=e.call(this)||this;a.mCurFrame=0,a.mDelta=0,a.mFrameDelta=0,a.FPS=5,a.SpriteFrames=new Array,a.IsPlaying=!1,a.Foward=!0,a.AutoPlay=!1,a.Loop=1,a.loopCounter=0,a.currentAnimationData=null,a.FrameCount=0,a.defaultAnimationKey="",a.ax=.5,a.ay=.5,a.color=-1;var s=a;return s.AddAnimation(t,i,n,o,r),s.defaultAnimationKey=t,s.currentAnimationData=s.SpriteFrames[0],s.initImage(),s.addEventListener(egret.Event.ADDED_TO_STAGE,s.AddToStage,s),a}return __extends(n,e),n.prototype.AddToStage=function(e){var t=this;n._init||(n._init=!0,n.mLastTime=egret.getTimer(),n._stage=t.stage,n._stage.addEventListener(egret.Event.ENTER_FRAME,n.frameUpdate,t)),t.removeEventListener(egret.Event.ADDED_TO_STAGE,t.AddToStage,t),t.animationRun=new i,t.animationRun.fun=t.animationUpdate,t.animationRun.funObj=t,n.animationRunData.push(t.animationRun)},n.prototype.removeFromStage=function(e){var t=this,i=n.animationRunData.indexOf(t.animationRun);-1!=i&&n.animationRunData.splice(i,1),t.removeEventListener(egret.Event.REMOVED_FROM_STAGE,t.removeFromStage,t)},n.prototype.Init=function(){var e=this;e.mDelta=0,e.mCurFrame=0,e.IsPlaying=!0,e.mFrameDelta=1/e.FPS,e.Foward||(e.mCurFrame=e.FrameCount-1),e.ImageSource.texture=e.currentAnimationData.frameTextures[e.mCurFrame],e.initImage()},n.prototype.initImage=function(){var e=this;e.ImageSource||(e.ImageSource=new egret.Bitmap,e.addChild(e.ImageSource),e.setSprite(0)),e.ImageSource.anchorOffsetX=e.ImageSource.width*e.ax,e.ImageSource.anchorOffsetY=e.ImageSource.height*e.ay,e.width=e.ImageSource.width,e.height=e.ImageSource.height},n.prototype.animationUpdate=function(e){var t=this;if(t.IsPlaying&&t.currentAnimationData&&0!=t.FrameCount&&(e>1&&(e=0),t.mDelta+=e,t.mDelta>t.mFrameDelta)){if(t.mDelta-=t.mFrameDelta,t.frameListener(t.mCurFrame),t.Foward?t.mCurFrame++:t.mCurFrame--,t.mCurFrame>=t.FrameCount){if(t.Loop-=1,0==t.Loop)return t.IsPlaying=!1,void t.completeListener();t.mCurFrame=0}else if(t.mCurFrame<0){if(t.Loop-=1,0==t.Loop)return t.IsPlaying=!1,void t.completeListener();t.mCurFrame=t.FrameCount-1}t.setSprite(t.mCurFrame)}},n.frameUpdate=function(e){n.mCurrentTime=egret.getTimer(),n.mGapTime=(n.mCurrentTime-n.mLastTime)/1e3,n.mLastTime=n.mCurrentTime;for(var t=n.animationRunData.length,i=0;t>i;++i)n.animationRunData[i].fun.call(n.animationRunData[i].funObj,n.mGapTime)},n.prototype.AddAnimation=function(e,i,n,o,r){if(void 0===r&&(r=0),0==n)return void alert("动画帧数据为空");if(""==e)return void alert("动画键值为空");for(var a=this,s=!1,l=0;l<a.SpriteFrames.length;++l)if(a.SpriteFrames[l].framekey==e){s=!0;break}if(!s){for(var h=[],l=0;n>l;++l)h[l]=o+"."+i+(""+(r+l));var c=new t(e,h);a.SpriteFrames.push(c)}return a},n.prototype.show=function(e,t,i){var n=this;e.addChild(n),n.x=t,n.y=i},n.prototype.play=function(e,t,i){void 0===t&&(t=1),void 0===i&&(i=!0);var n=this;n.currentAnimationData=null,n.FrameCount=0,n.Loop=t,n.Foward=i;for(var o=0;o<n.SpriteFrames.length;++o)if(n.SpriteFrames[o].framekey==e){n.currentAnimationData=n.SpriteFrames[o],n.FrameCount=n.currentAnimationData.frameNames.length;break}0==n.FrameCount?alert("不存在key对应的动画帧"):n.Init()},n.prototype.stop=function(e){void 0===e&&(e=!1);var t=this;t.currentAnimationData&&(t.IsPlaying=!1,t.setSprite(0),e&&t.clear())},n.prototype.setFPS=function(e){this.FPS=e,this.mFrameDelta=1/this.FPS},n.prototype.setSprite=function(e){var t=this;t.ImageSource.texture=t.currentAnimationData.frameTextures[e]},n.prototype.clear=function(){var e=this,t=n.animationRunData.indexOf(e.animationRun);-1!=t&&n.animationRunData.splice(t,1)},n.dispose=function(){var e=this;n._init&&(n._init=!1,n._stage.removeEventListener(egret.Event.ENTER_FRAME,n.frameUpdate,e)),n.animationRunData.length=0},n.prototype.setAnchorPoint=function(e,t){var i=this;i.ax=e,i.ay=t;var n=i.ImageSource.x,o=i.ImageSource.y;i.ImageSource.anchorOffsetX=i.ImageSource.width*i.ax,i.ImageSource.anchorOffsetY=i.ImageSource.height*i.ay,i.ImageSource.x=n,i.ImageSource.y=o},n.prototype.setColor=function(e){this.color=e},n.prototype.frameListener=function(e){var t,i=this,n=i.animationRun.frameIndex.length;for(t=0;n>t;++t)i.animationRun.frameIndex[t]==e&&i.animationRun.frameListener[t].call(i.animationRun.frameListenerObj[t],i)},n.prototype.completeListener=function(){var e=this;if(e.animationRun.completeFun){var t=e.animationRun.completeFun,i=e.animationRun.completeFunObj;e.animationRun.completeFun=null,e.animationRun.completeFunObj=null,t.call(i,e)}},n.prototype.addCompleteListener=function(e,t){var i=this;i.animationRun.completeFun=e,i.animationRun.completeFunObj=t},n.prototype.addFrameListener=function(e,t,i){var n,o=this,r=o.animationRun.frameIndex.length;for(n=0;r>n&&o.animationRun.frameIndex[n]!=i;++n);n==r&&(o.animationRun.frameListener.push(e),o.animationRun.frameListenerObj.push(t),o.animationRun.frameIndex.push(i))},n.mLastTime=0,n.mCurrentTime=0,n.mGapTime=0,n._init=!1,n.animationRunData=[],n}(egret.Sprite);e.ImageAnimation=n,__reflect(n.prototype,"codeBase.ImageAnimation",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){}return e.showParticleEffect=function(e,t,i,n,o){var r=new particle.GravityParticleSystem(n,o);return r.start(),r.emitterX=t,r.emitterY=i,e.addChild(r),r},e}();e.ParticleUtil=t,__reflect(t.prototype,"codeBase.ParticleUtil",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){this.dragonBonesTime=0/0}return Object.defineProperty(e,"Instance",{get:function(){return e.inst||(e.inst=new e,e.inst.init()),e.inst},enumerable:!1,configurable:!0}),e.prototype.init=function(){var e=this;e.worldClock=new dragonBones.WorldClock},e.prototype.createMovieClipAnimation=function(e,t,i){var n=new egret.MovieClipDataFactory(e,t),o=new egret.MovieClip(n.generateMovieClipData(i));return o},e.prototype.initDragonBonesData=function(e,t){var i=e+t+"_ske.json",n=e+t+"_tex.json",o=e+t+"_tex.png",r=RES.getRes(i),a=RES.getRes(n),s=RES.getRes(o);dragonBones.EgretFactory.factory.parseDragonBonesData(r,t),dragonBones.EgretFactory.factory.parseTextureAtlasData(a,s,t)},e.prototype.createSkeletonDisplay=function(e,t,i,n){var o=this,r=dragonBones.EgretFactory.factory.getDragonBonesData(t),a=dragonBones.EgretFactory.factory.getTextureAtlasData(t);r&&a||o.initDragonBonesData(e,t);var s=dragonBones.EgretFactory.factory.buildArmatureDisplay(i,n);return s},e.prototype.createSkeletonArmature=function(e,t,i,n){var o=this,r=dragonBones.EgretFactory.factory.getDragonBonesData(t),a=dragonBones.EgretFactory.factory.getTextureAtlasData(t);r&&a||o.initDragonBonesData(e,t);var s=dragonBones.EgretFactory.factory.buildArmature(i,n);return o.worldClock.clock.add(s),o.dragonBonesTime!=o.dragonBonesTime&&(o.dragonBonesTime=egret.getTimer(),egret.startTick(o.onTicker,o)),s},e.prototype.onTicker=function(e){var t=this,i=e,n=i-t.dragonBonesTime;return t.dragonBonesTime=i,t.worldClock.clock.advanceTime(n/1e3),!1},e.prototype.dispose=function(){var e=this;e.dragonBonesTime==e.dragonBonesTime&&(egret.stopTick(e.onTicker,e),e.dragonBonesTime=0/0)},e}();e.SkeletonUtil=t,__reflect(t.prototype,"codeBase.SkeletonUtil",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){this._straightCost=10,this._diagCost=14,this.avoidSideGrids=!1,this.nowVersion=1,this.openSet=new Array,this.closeSet=new Array,this.TwoOneTwoZero=2*Math.cos(Math.PI/3),this.heuristic=this.euclidian2}return Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},enumerable:!1,configurable:!0}),t.prototype.floydPath=function(t,i,n){var o=n.concat(),r=o.length,a=0;if(r>2){var s=new e.Node(0,0,1),l=new e.Node(0,0,1);for(this.floydVector(s,o[r-1],o[r-2]),a=r-3;a>=0;a--)this.floydVector(l,o[a+1],o[a]),s.row==l.row&&s.column==l.column?o.splice(a+1,1):(s.row=l.row,s.column=l.column)}if(r=o.length,r>2)for(a=r-3;a>=0;a--)this.hasBarrier(o[a+2],o[a])||o.splice(a+1,1);var h=new Array;for(h.push(t),a=1;a<o.length-1;a++)h.push(o[a].point);return h.push(i),o.length=0,h},t.prototype.hasBarrier=function(e,t){Math.abs(egret.Point.distance(e.point,t.point)),this.grid.cellSize/2;return!1},t.prototype.floydVector=function(e,t,i){e.row=t.row-i.row,e.column=t.column-i.column},t.prototype.justMin=function(e,t){return e.f<t.f},t.prototype.pushOpenSetNode=function(t){this.openSet.push(t),e.BinaryHeap.upAdjust(this.openSet)},t.prototype.popOpenSetNode=function(){if(this.openSet.length>0){var t=this.openSet[0];return this.openSet.length>1?(this.openSet[0]=this.openSet[this.openSet.length-1],e.BinaryHeap.downAdjust(this.openSet,0,this.openSet.length-1)):this.openSet.length=0,t}return null},t.prototype.findPath=function(t){for(this._grid=t,this._startNode=this._grid.startNode,this._endNode=this._grid.endNode,this._startNode.g=0,this.openSet.length=0,this.closeSet.length=0,e.BinaryHeap.setJudgeFunction(this.justMin),this.pushOpenSetNode(this._startNode);this.openSet.length>0;){var i=this.popOpenSetNode();if(this.closeSet.push(i),i==this._endNode)return this.buildPath(),!0;for(var n=t.getNeighbourNodes(i,0),o=void 0,r=0;r<n.length;++r)if(o=n[r],o.walkable&&!(this.closeSet.indexOf(o)>=0)){if(this.avoidSideGrids){if(o.row!=i.row&&o.column<i.column){var a=this.grid.getLeftNode(i),s=this.grid.getUpNode(i),l=this.grid.getDownNode(i);
if(o.row<i.row&&a&&!a.walkable||s&&!s.walkable)continue;if(o.row>i.row&&a&&!a.walkable||l&&!l.walkable)continue}if(o.row!=i.row&&o.column>i.column){var h=this.grid.getLeftNode(i),s=this.grid.getUpNode(i),l=this.grid.getDownNode(i);if(o.row<i.row&&(h&&!h.walkable||s&&!s.walkable))continue;if(o.row>i.row&&(h&&!h.walkable||l&&!l.walkable))continue}}var c=i.g+this.getDistanceNodes2(i,o),d=this.openSet.indexOf(o);(c<o.g||0>d)&&(o.g=c,o.h=this.manhattan2(o),o.f=o.g+o.h,o.parent=i,0>d&&this.pushOpenSetNode(o))}}return!1},t.prototype.getDistanceNodes=function(e,t){var i=Math.abs(e.point.x-t.point.x),n=Math.abs(e.point.y-t.point.y);return Math.sqrt(i*i+n*n)},t.prototype.getDistanceNodes2=function(e,t){var i=Math.abs(e.row-t.row),n=Math.abs(e.column-t.column);return i>n?this._diagCost*n+this._straightCost*(i-n):this._diagCost*i+this._straightCost*(n-i)},t.prototype.buildPath=function(){this.path=new Array;var e=this._endNode;for(this.path.push(e);e!=this._startNode;)e=e.parent,this.path.unshift(e)},t.prototype.manhattan=function(e){return Math.abs(e.point.x-this._endNode.point.x)+Math.abs(e.point.y-this._endNode.point.y)},t.prototype.manhattan2=function(e){var t=Math.abs(e.row-this._endNode.row),i=Math.abs(e.column-this._endNode.column);return(t+i)*this._straightCost},t.prototype.euclidian=function(e){var t=e.point.x-this._endNode.point.x,i=e.point.y-this._endNode.point.y;return Math.sqrt(t*t+i*i)},t.prototype.euclidian2=function(e){var t=e.row-this._endNode.row,i=e.column-this._endNode.column;return Math.sqrt(t*t+i*i)*this._straightCost},t.prototype.diagonal=function(e){var t=Math.abs(e.point.x-this._endNode.point.x),i=Math.abs(e.point.y-this._endNode.point.y),n=Math.min(t,i),o=t+i;return this._diagCost*n+this._straightCost*(o-2*n)},t.prototype.chineseCheckersEuclidian2=function(e){var t=e.column/this.TwoOneTwoZero,i=e.row+e.column/2,n=i-this._endNode.row-this._endNode.column/2,o=t-this._endNode.column/this.TwoOneTwoZero;return this.sqrt(n*n+o*o)},t.prototype.sqrt=function(e){return Math.sqrt(e)},t}();e.AStar=t,__reflect(t.prototype,"codeBase.AStar",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(e){void 0===e&&(e=null),this.a=new Array,this.justMinFun=function(e,t){return this.x<this.y},this.a.push(-1),null!=e&&(this.justMinFun=e)}return e.prototype.ins=function(e){var t=this.a.length;this.a[t]=e;for(var i=t>>1;t>1&&this.justMinFun(this.a[t],this.a[i]);){var n=this.a[t];this.a[t]=this.a[i],this.a[i]=n,t=i,i=t>>1}},e.prototype.pop=function(){var e=this.a[1];this.a[1]=this.a[this.a.length-1],this.a.pop();for(var t=1,i=this.a.length,n=t<<1,o=n+1;i>n;){if(i>o)var r=this.justMinFun(this.a[o],this.a[n])?o:n;else r=n;if(!this.justMinFun(this.a[r],this.a[t]))break;var a=this.a[t];this.a[t]=this.a[r],this.a[r]=a,t=r,n=t<<1,o=n+1}return e},e.setJudgeFunction=function(t){null!=t&&(e.judgeFun=t)},e.upAdjust=function(t){void 0===t&&(t=[]);for(var i=t.length-1,n=Math.floor((i-1)/2),o=t[i];i>0&&e.judgeFun(o,t[n]);)t[i]=t[n],i=n,n=Math.floor((i-1)/2);t[i]=o},e.downAdjust=function(t,i,n){for(var o=t[i],r=2*i+1;n>r&&(n>r+1&&e.judgeFun(t[r+1],t[r])&&r++,!e.judgeFun(o,t[r]));)t[i]=t[r],i=r,r=2*r+1;t[i]=o},e.buildHeap=function(e){void 0===e&&(e=[]);for(var t=this,i=Math.floor(e.length/2);i>=0;i--)t.downAdjust(e,i,e.length-1)},e}();e.BinaryHeap=t,__reflect(t.prototype,"codeBase.BinaryHeap",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(t,i){void 0===i&&(i=0),this._startNode=null,this._endNode=null,this._nodes=null,this._numRows=0,this._numCols=0,this._cellSize=20,this.type=0,this._numRows=t.length,this._numCols=t[0].length,this._cellSize=i,this._nodes=new Array;for(var n=0;n<this._numRows;n++){this._nodes[n]=new Array;for(var o=0;o<this._numCols;o++){var r=1==t[n][o].type?0:1;this._nodes[n][o]=new e.Node(n,o,r),this._nodes[n][o].point.x=o*this._cellSize+this._cellSize/2,this._nodes[n][o].point.y=n*this._cellSize+this._cellSize/2}}}return Object.defineProperty(t.prototype,"cellSize",{get:function(){return this._cellSize},enumerable:!1,configurable:!0}),t.prototype.getNeighbourNodes=function(e,t){void 0===t&&(t=0);var i,n,o=[];if(0==t)for(var r=-1;1>=r;++r)for(var a=-1;1>=a;++a)(0!=r||0!=a)&&(i=e.row+r,n=e.column+a,i>=0&&i<this._numRows&&n>=0&&n<this._numCols&&o.push(this._nodes[i][n]));else 1==t&&(i=e.row-1,n=e.column,i>=0&&i<this._numRows&&n>=0&&n<this._numCols&&o.push(this._nodes[i][n]),i=e.row+1,n=e.column,i>=0&&i<this._numRows&&n>=0&&n<this._numCols&&o.push(this._nodes[i][n]),i=e.row,n=e.column-1,i>=0&&i<this._numRows&&n>=0&&n<this._numCols&&o.push(this._nodes[i][n]),i=e.row,n=e.column+1,i>=0&&i<this._numRows&&n>=0&&n<this._numCols&&o.push(this._nodes[i][n]));return o},t.prototype.getType=function(){return this.type},t.prototype.getNodeByPoint=function(e){var t=Math.floor(e.y/this.cellSize),i=Math.floor(e.x/this.cellSize);return t=Math.min(t,this.numRows-1),t=Math.max(t,0),i=Math.min(i,this.numCols-1),i=Math.max(i,0),this.getNode(t,i)},t.prototype.getNode=function(e,t){return this._nodes[e][t]},t.prototype.getLeftNode=function(e){return e.column-1>=0?this._nodes[e.row][e.column-1]:null},t.prototype.getRightNode=function(e){return e.column+1<this._numCols?this._nodes[e.row][e.column+1]:null},t.prototype.getUpNode=function(e){return e.row-1>=0?this._nodes[e.row-1][e.column]:null},t.prototype.getDownNode=function(e){return e.row+1<this._numRows?this._nodes[e.row+1][e.column]:null},t.prototype.setEndNode=function(e,t){this._endNode=this._nodes[e][t]},t.prototype.setStartNode=function(e,t){this._startNode=this._nodes[e][t]},t.prototype.setWalkable=function(e,t,i){this._nodes[e][t].walkable=i},Object.defineProperty(t.prototype,"endNode",{get:function(){return this._endNode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numCols",{get:function(){return this._numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numRows",{get:function(){return this._numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startNode",{get:function(){return this._startNode},enumerable:!1,configurable:!0}),t}();e.Grid=t,__reflect(t.prototype,"codeBase.Grid",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(e,t){this.node=null,this.cost=0,this.node=e,this.cost=t}return e}();e.Link=t,__reflect(t.prototype,"codeBase.Link",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(e,t,i){void 0===i&&(i=0),this.row=0,this.column=0,this.f=0,this.g=0,this.h=0,this.walkable=!0,this.alpha=1,this.data=0,this.parent=null,this.version=1,this.point=null,this.row=e,this.column=t,this.data=i,0==this.data?this.walkable=!1:this.walkable=!0,this.point=new egret.Point}return e}();e.Node=t,__reflect(t.prototype,"codeBase.Node",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){}return e.bezierMove=function(e,t,i,n,o,r,a,s){void 0===o&&(o=1e3),void 0===r&&(r=null),void 0===a&&(a=null),void 0===s&&(s=null),e.factor||(e.factor=0),e.factor=0,e.x=t.x,e.y=t.y,egret.Tween.get(e,{onChange:function(){var o=e.factor;e.x=(1-o)*(1-o)*t.x+2*o*(1-o)*i.x+o*o*n.x,e.y=(1-o)*(1-o)*t.y+2*o*(1-o)*i.y+o*o*n.y},onChangeObj:e}).to({factor:1},o,r).call(function(){a&&s&&a.call(s,[e])},this)},e}();e.BezierUtil=t,__reflect(t.prototype,"codeBase.BezierUtil",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(e){function t(t,i){var n=e.call(this)||this;n.animateTime=600,n._positive=!0;var o=n;o.texture=t,o.posSide=t,o.negSide=i,o.touchEnabled=!0,o.addEventListener(egret.TouchEvent.TOUCH_TAP,o.onTouch,o);var r="\n            attribute vec2 aVertexPosition;\n            attribute vec2 aTextureCoord;\n            attribute vec2 aColor;\n\n            uniform vec2 projectionVector;\n\n            varying vec2 vTextureCoord;\n            varying vec4 vColor;\n\n            const vec2 center = vec2(-1.0, 1.0);\n\n            void main(void) {\n                gl_Position = vec4( (aVertexPosition / projectionVector) + center , 0.0, 1.0);\n                vTextureCoord = aTextureCoord;\n                vColor = vec4(aColor.x, aColor.x, aColor.x, aColor.x);\n            }\n        ",a="\n            precision lowp float;\n            varying vec2 vTextureCoord;\n            varying vec4 vColor;\n            uniform sampler2D uSampler;\n\n            uniform float time;\n            uniform float duration;\n            uniform float max;\n\n            void main() {\n                vec2 uv = vTextureCoord.xy;\n                vec2 texCoord = uv;\n                float scale = max;\n                float angle = time / duration * 3.1416;\n                float scaletime = duration * 0.2;\n\n                if(time < scaletime) scale = time / scaletime * (max - 1.0) + 1.0;\n                if(time > duration - scaletime) scale = (duration - time) / scaletime * (max - 1.0) + 1.0;\n\n                if(time > duration / 2.0) angle = (duration - time) / duration * 3.1416;\n                float direct = 1.0;\n                if(time > duration / 2.0) direct = -1.0;\n                texCoord.y = uv.y + (uv.y - 0.5) * sin(angle) * 0.5 * (uv.x - 0.5) * direct;\n                \n                if(uv.x > 0.5) texCoord.x = (uv.x - 0.5) / cos(angle) + 0.5;\n                else texCoord.x = 0.5 - (0.5 - uv.x) / cos(angle);\n\n                texCoord.x = (texCoord.x - 0.5) / scale + 0.5;\n                texCoord.y = (texCoord.y - 0.5) / scale + 0.5;\n\n                gl_FragColor = texture2D(uSampler, texCoord);\n            }\n        ";return o.customFilter=new egret.CustomFilter(r,a,{time:0,duration:o.animateTime,max:1.1}),o.customFilter.padding=.3*o.width,o.filters=[],n}return __extends(t,e),Object.defineProperty(t.prototype,"positive",{set:function(e){var t=this;t._positive=e,t.texture=e?t.posSide:t.negSide},enumerable:!1,configurable:!0}),t.prototype.onTouch=function(e){var t=this;t.touchEnabled=!1,t.startTime=Date.now(),t.startFace=t._positive,t.addEventListener(egret.Event.ENTER_FRAME,t.update,t),t.filters=[t.customFilter]},t.prototype.update=function(){var e=this,t=Date.now()-e.startTime;return t>e.animateTime?(e.removeEventListener(egret.Event.ENTER_FRAME,e.update,e),e.filters=[],e.touchEnabled=!0,!1):(t>e.animateTime/2&&e._positive==e.startFace&&(e.positive=!e.startFace),void(e.customFilter.uniforms.time=t))},t}(egret.Bitmap);e.FlippingCard=t,__reflect(t.prototype,"codeBase.FlippingCard",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){this.targetIndexList=[],this.rabbitStatus=[]}return Object.defineProperty(e,"Instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e}();e.GameData=t,__reflect(t.prototype,"codeBase.GameData",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.prototype.addEventListener=function(t,i,n,o,r){void 0===o&&(o=!1),void 0===r&&(r=1),e.prototype.addEventListener.call(this,t,i,n,o,r)},t.prototype.removeEventListener=function(t,i,n,o){void 0===o&&(o=!1),e.prototype.removeEventListener.call(this,t,i,n,o)},t.prototype.hasEventListener=function(t){return e.prototype.hasEventListener.call(this,t)},t.prototype.once=function(t,i,n,o){void 0===o&&(o=!1),e.prototype.once.call(this,t,i,n,o)},t.prototype.dispatchEvent=function(t){var i=egret.getTimer(),n=e.prototype.dispatchEvent.call(this,t);egret.getTimer()-i;return n},t.prototype.willTrigger=function(t){return e.prototype.willTrigger.call(this,t)},t}(egret.EventDispatcher);e.GameDispatcher=t,__reflect(t.prototype,"codeBase.GameDispatcher",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(e){function t(t){void 0===t&&(t=!1);var i=e.call(this)||this;return i.size=100,i.rect=new egret.Rectangle,i.touchEnabled=t,i}return __extends(t,e),t.prototype.show=function(e,t,i,n){var o=this;o.eraseImageTexture=n,o.x=t,o.y=i,e.addChild(o),o.onAddedToStage(null)},t.prototype.onAddedToStage=function(e){var t=this;t.eraseImg=new egret.Bitmap(t.eraseImageTexture),t.addChild(t.eraseImg),t.width=t.eraseImg.width,t.height=t.eraseImg.height,t.eraserSp=new egret.Sprite,t.addChild(t.eraserSp),t.eraserSp.visible=!1,t.renderTexture=new egret.RenderTexture,t._bitmapMask=new egret.Bitmap,t._bitmapMask.blendMode=egret.BlendMode.ERASE,t._reverseMask=new egret.Sprite,t._reverseMask.graphics.beginFill(0,1),t._reverseMask.graphics.drawRect(0,0,t.width,t.height),t._reverseMask.graphics.endFill(),t._reverseMask.addChild(t._bitmapMask),t.renderTex=new egret.RenderTexture,t.reverseMask=new egret.Bitmap,t.addChild(t.reverseMask),t.touchEnabled&&(t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.onTapBegin,t),t.addEventListener(egret.TouchEvent.TOUCH_END,t.onTapEnd,t))},t.prototype.controlStart=function(e,t){var i=this;i.startPoint=i.eraserSp.globalToLocal(e,t),i.clamErasePoint(),i.eraserSp.graphics.lineStyle(i.size,0),i.eraserSp.graphics.moveTo(i.startPoint.x,i.startPoint.y),i.eraserSp.graphics.lineTo(i.startPoint.x,i.startPoint.y),i.createReverseMask2()},t.prototype.controlMove=function(e,t){var i=this;return i.startPoint?(i.movePoint=i.eraserSp.globalToLocal(e,t),i.clamErasePoint(),void(i.movePoint.x>i.eraseImg.x+i.eraseImg.width||i.movePoint.x<i.eraseImg.x||i.movePoint.y>i.eraseImg.y+i.eraseImg.height||i.movePoint.y<i.eraseImg.y||(i.eraserSp.graphics.lineTo(i.movePoint.x,i.movePoint.y),i.createReverseMask2()))):void i.controlStart(e,t)},t.prototype.onTapBegin=function(e){var t=this;t.controlStart(e.stageX,e.stageY),t.hasEventListener(egret.TouchEvent.TOUCH_MOVE)||t.addEventListener(egret.TouchEvent.TOUCH_MOVE,t.mouseMove,t)},t.prototype.mouseMove=function(e){var t=this;t.controlMove(e.stageX,e.stageY)},t.prototype.onTapEnd=function(e){this.hasEventListener(egret.TouchEvent.TOUCH_MOVE)&&this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)},t.prototype.clamErasePoint=function(){var e=this;e.startPoint&&(e.startPoint.x>e.width-e.size/2&&(e.startPoint.x=e.width-e.size/2),e.startPoint.x<e.size/2&&(e.startPoint.x=e.size/2),e.startPoint.y>e.height-e.size/2&&(e.startPoint.y=e.height-e.size/2),e.startPoint.y<e.size/2&&(e.startPoint.y=e.size/2)),e.movePoint&&(e.movePoint.x>e.width-e.size/2&&(e.movePoint.x=e.width-e.size/2),e.movePoint.x<e.size/2&&(e.movePoint.x=e.size/2),e.movePoint.y>e.height-e.size/2&&(e.movePoint.y=e.height-e.size/2),e.movePoint.y<e.size/2&&(e.movePoint.y=e.size/2))},t.prototype.createReverseMask2=function(){var e=this;e.rect.setTo(0,0,e.width,e.height),e.renderTexture.drawToTexture(e.eraserSp,e.rect),e._bitmapMask.texture=e.renderTexture,e.renderTex.drawToTexture(e._reverseMask),e.reverseMask.texture=e.renderTex,e.mask||(e.mask=e.reverseMask)},t}(egret.DisplayObjectContainer);e.MaskEraser=t,__reflect(t.prototype,"codeBase.MaskEraser",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){}return e.getByClass=function(t,i,n){void 0===i&&(i=""),void 0===n&&(n=!0);var o=egret.getQualifiedClassName(t);o=i+o;var r=e.getObject(o,n);return null==r&&(r=new t),n||e.recycleClass(r,i),r},e.recycleClass=function(t,i){if(void 0===i&&(i=""),t){var n=egret.getQualifiedClassName(t);n=i+n,e.recycleObject(n,t)}},e.hasClass=function(t,i){return void 0===i&&(i=""),e.getByClass(t,i,!1)},e.getObject=function(t,i){if(void 0===i&&(i=!0),e._dataPool.hasOwnProperty(t)&&e._dataPool[t].length>0){var n=null;return i?(n=e._dataPool[t].pop(),0==e._dataPool[t].length&&delete e._dataPool[t]):n=e._dataPool[t][0],n}return null},e.setObject=function(t,i){e.recycleObject(t,i)},e.recycleObject=function(t,i){i&&(e._dataPool.hasOwnProperty(t)||(e._dataPool[t]=[]),i.hasOwnProperty("destroy")&&i.destroy(),e._dataPool[t].indexOf(i)<0&&e._dataPool[t].push(i))},e.hasObject=function(t){return e.getObject(t,!1)},e.dispose=function(t){var i=egret.getQualifiedClassName(t);e.disposeObjects(i)},e.disposeObjects=function(t){e._dataPool.hasOwnProperty(t)&&(e._dataPool[t].length=0,delete e._dataPool[t])},e._dataPool={},e}();e.ObjectPool=t,__reflect(t.prototype,"codeBase.ObjectPool",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(e,t,i,n,o,r){void 0===t&&(t=1e3),this.curNumber=0,this.gridGroup=new egret.Sprite,this.switchTime=1e3;var a=this;a.switchType=e||5,a.txNumber=o||20,a.XNumber=r||5,a.callFun=i,a.funObj=n,a.switchTime=t,a.switchScreen()}return e.prototype.switchScreen=function(){var e=this,t=egret.MainContext.instance.stage,i=t.stageWidth,n=t.stageHeight;e.gridGroup.width=i,e.gridGroup.height=n,e.gridGroup.touchEnabled=!1,e.gridGroup.touchChildren=!1,t.addChild(e.gridGroup);for(var o=e.txNumber/e.XNumber,r=0;r<e.txNumber;r++){var a=i/e.XNumber,s=n/o,l=r%e.XNumber*a,h=Math.floor(r/e.XNumber)*s,c=new egret.RenderTexture,d=(c.drawToTexture(t,new egret.Rectangle(l,h,a,s)),new egret.Bitmap);d.texture=c,d.anchorOffsetX=a/2,d.anchorOffsetY=s/2,d.x=l+a/2,d.y=h+s/2,e.gridGroup.addChild(d),d.touchEnabled=!1,5==e.switchType&&(e.switchType=Math.ceil(4*Math.random()));var u=egret.Tween.get(d);switch(e.switchType){case 1:u.to({scaleX:0,scaleY:0,alpha:0,rotation:359},e.switchTime,egret.Ease.circIn).call(e.onComplete,e);break;case 2:var p=t.stageWidth,f=-p;r%2||(f=2*p),u.to({x:f,alpha:0},e.switchTime,egret.Ease.circIn).call(e.onComplete,e);break;case 3:var g=t.stageHeight,_=-g;r%2||(_=2*g),u.to({y:_,alpha:0},e.switchTime,egret.Ease.circIn).call(e.onComplete,e);break;case 4:u.to({scaleX:.2,scaleY:1,alpha:0,blurFliter:0},e.switchTime,egret.Ease.backInOut).call(e.onComplete,e);break;default:u.to({scaleX:1,scaleY:0,alpha:0},e.switchTime,egret.Ease.circIn).call(e.onComplete,e)}}},e.prototype.onComplete=function(){var e=this;e.curNumber+=1,e.curNumber==e.txNumber&&(egret.MainContext.instance.stage.removeChild(e.gridGroup),e.callFun&&e.funObj&&e.callFun.call(e.funObj))},e}();e.ScreenSwitch=t,__reflect(t.prototype,"codeBase.ScreenSwitch",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.dataEvent=new Object,e.init(),e}return __extends(i,t),i.prototype.init=function(){},i.prototype.initData=function(){},i.prototype.createChildren=function(){},i.prototype.dispEvent=function(t,i,n){if(void 0===i&&(i=null),void 0===n&&(n=null),this.dataEvent){var o=this.dataEvent[t];if(null!=o){var r=new e.LayoutEvent;r.currentTarget=this,r.data=i,r.type=t,r.dataType=n,o["this"]?o.apply(o["this"],[r]):o(r)}}},i.prototype.addEvent=function(e,t,i){void 0===i&&(i=null);var n=this;n.dataEvent&&null==n.dataEvent[e]&&(t["this"]=i,n.dataEvent[e]=t)},i.prototype.removeEvent=function(e,t){var i=this;i.dataEvent&&i.dataEvent[e]&&delete i.dataEvent[e]},i.prototype.removeFromParent=function(e){void 0===e&&(e=!1);var t=this,i=this.parent;e&&t.dispose(),i&&i.contains(t)&&i.removeChild(t),i=null},i.prototype.removeChildAll=function(e){for(void 0===e&&(e=!1);this.numChildren>0;)this.removeChildIndex(0,e)},i.prototype.removeChildIndex=function(e,t){var n=this;if(e>=0||e<n.numChildren){var o=n.getChildAt(e);if(o instanceof i)o.removeFromParent(t);else{var r=this.getChildAt(e);r.parent&&r.parent.removeChild(r)}}},i.prototype.dispose=function(){var e=this;e.removeChildAll(!0),e.dataEvent=null},i}(e.BaseGroup);e.BasicLayout=t,__reflect(t.prototype,"codeBase.BasicLayout",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(egret.TextField);e.TextField=t,__reflect(t.prototype,"codeBase.TextField",[]);var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(egret.Sprite);e.Sprite=i,__reflect(i.prototype,"codeBase.Sprite",[]);var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(egret.Shape);e.Shape=n,__reflect(n.prototype,"codeBase.Shape",[]);var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(egret.DisplayObject);e.DisplayObject=o,__reflect(o.prototype,"codeBase.DisplayObject",[]);var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(egret.DisplayObjectContainer);e.DisplayObjectContainer=r,__reflect(r.prototype,"codeBase.DisplayObjectContainer",[]);var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(egret.Point);e.Point=a,__reflect(a.prototype,"codeBase.Point",[]);var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(egret.Rectangle);e.Rectangle=s,__reflect(s.prototype,"codeBase.Rectangle",[]);var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(egret.Bitmap);e.Bitmap=l,__reflect(l.prototype,"codeBase.Bitmap",[]);var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(egret.BitmapData);e.BitmapData=h,__reflect(h.prototype,"codeBase.BitmapData",[]);var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(egret.Stage);e.Stage=c,__reflect(c.prototype,"codeBase.Stage",[]);var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(egret.Tween);e.Tween=d,__reflect(d.prototype,"codeBase.Tween",[]);var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(egret.Ease);e.Ease=u,__reflect(u.prototype,"codeBase.Ease",[]);var p=function(e){function t(t,i,n){void 0===t&&(t=""),void 0===i&&(i=null),void 0===n&&(n=null);var o=e.call(this)||this;return o.type=t,o.data=i,o.currentTarget=n,o}return __extends(t,e),t.MOUSE_OVER="event-over",t.MOUSE_OUT="event-out",t.MOUSE_DOWN="event-down",t.MOUSE_MOVE="event-move",t.MOUSE_UP="event-up",t.CLICK="event-click",t.CHANGE="change",t.COMPLETE="complete",t.ERROR="error",t.RENDER_COMPLETE="render complete",t.UPDATE="update",t.START="start",t.MOVE="move",t.OVER="over",t.PAUSE="pause",t.STOP="stop",t.PLAY="play",t.OPEN="open",t.CLOSE="close",t}(egret.EventDispatcher);e.LayoutEvent=p,__reflect(p.prototype,"codeBase.LayoutEvent",[]);var f=function(){function e(){}return e.fontName="黑体",e}();e.FONT=f,__reflect(f.prototype,"codeBase.FONT",[]);var g=function(){function e(){}return e.SHAPE_RECT="shape rect",e.SHAPE_RECT_ROUND="shape rect round",e.SHAPE_CIRCLE="shape circle",e.VER_DEBUG="debug",e.VER_RELEASE="release",e}();e.LayoutConst=g,__reflect(g.prototype,"codeBase.LayoutConst",[]);var _=function(){function e(){}return Object.defineProperty(e,"random",{get:function(){return 16777215*Math.random()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"white",{get:function(){return 16777215},enumerable:!1,configurable:!0}),Object.defineProperty(e,"black",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"gray",{get:function(){return 6710886},enumerable:!1,configurable:!0}),Object.defineProperty(e,"red",{get:function(){return 16711680},enumerable:!1,configurable:!0}),Object.defineProperty(e,"green",{get:function(){return 65280},enumerable:!1,configurable:!0}),Object.defineProperty(e,"bule",{get:function(){return 255},enumerable:!1,configurable:!0}),Object.defineProperty(e,"skinNormal",{get:function(){return 1382684},enumerable:!1,configurable:!0}),Object.defineProperty(e,"skinDown",{get:function(){return 10066329},enumerable:!1,configurable:!0}),Object.defineProperty(e,"titleBackground",{get:function(){return 2106923},enumerable:!1,configurable:!0}),e.getRandomArray=function(e){for(var t=[],i=0;e>i;i++)t.push(16777215*Math.random());return t},e.lightenDarkenColor=function(e,t){var i=(e>>16)+t;i>255?i=255:0>i&&(i=0);var n=(e>>8&255)+t;n>255?n=255:0>n&&(n=0);var o=(255&e)+t;return o>255?o=255:0>o&&(o=0),o|n<<8|i<<16},e}();e.Color=_,__reflect(_.prototype,"codeBase.Color",[]);var v=function(){function e(){}return Object.defineProperty(e,"randomRect",{get:function(){return m.getRect(60,60,_.random)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"randomCircle",{get:function(){return m.getCircle(50,_.random)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"switchOff",{get:function(){return m.getSwitch(_.skinNormal,_.white)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"switchOn",{get:function(){return m.getSwitch(_.skinNormal,_.white,1)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"progressBackground",{get:function(){return m.getRect(300,20,_.skinNormal)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"progressValue",{get:function(){return m.getRect(300,20,_.skinDown)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"sliderBackground",{get:function(){return m.getRect(300,10,_.skinNormal)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"sliderValue",{get:function(){return m.getRect(300,10,_.skinDown)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"sliderBar",{get:function(){return m.getCircle(15,_.white)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scrollBar",{get:function(){return m.getRect(10,10,_.skinNormal)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"pnBarPrevNormal",{get:function(){return m.getPolygon(3,20,_.skinNormal,180)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"pnBarPrevDown",{get:function(){return m.getPolygon(3,20,_.skinDown,180)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"pnBarNextNormal",{get:function(){return m.getPolygon(3,20,_.skinNormal)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"pnBarNextDown",{get:function(){return m.getPolygon(3,20,_.skinDown)},enumerable:!1,configurable:!0}),e}();e.Skin=v,__reflect(v.prototype,"codeBase.Skin",[]);var y=function(){function e(){}return e.displayRank=function(e,t,i,n,o,r,a){void 0===t&&(t=1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=1);for(var s,l=0;l<e.length;l++)s=e[l],s.x=o+Math.floor(l%t)*(s.width+i)*a,s.y=r+Math.floor(l/t)*(s.height+n)*a},e}();e.SimpleLayout=y,__reflect(y.prototype,"codeBase.SimpleLayout",[]);var m=function(){function e(){}return e.getLineRect=function(e,t,n,o,r,a){void 0===n&&(n=0),void 0===o&&(o=1),void 0===r&&(r=0),void 0===a&&(a=0);var s=new i;return s.graphics.lineStyle(o,n),s.graphics.drawRect(r,a,e,t),s.graphics.endFill(),s},e.getLineCircle=function(e,t,n,o,r){void 0===t&&(t=0),void 0===n&&(n=1),void 0===o&&(o=0),void 0===r&&(r=0);var a=new i;return a.graphics.lineStyle(n,t),a.graphics.drawCircle(o,r,e),a.graphics.endFill(),a},e.getMatrixRect=function(e,t,n,o,r){void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0);var a=new i,s=new egret.Matrix;return s.createGradientBox(e,t,Math.PI*r,0,0),a.graphics.beginGradientFill(egret.GradientType.LINEAR,[n,o],[1,1],[0,255],s),a.graphics.drawRect(0,0,e,t),a.graphics.endFill(),a},e.getRect=function(e,t,n,o,r){void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0);var a=new i;return a.graphics.beginFill(n),a.graphics.drawRect(o,r,e,t),a.graphics.endFill(),a},e.getRectAndX=function(e,t,i,n,o){void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0);var r=this.getRect(e,t,i,n,o);return r.addChild(this.getX(e,t,i,1,n,o)),r},e.getX=function(e,t,n,o,r,a){void 0===n&&(n=0),void 0===o&&(o=1),void 0===r&&(r=0),void 0===a&&(a=0);var s=new i,l=new i;l.graphics.lineStyle(o,n),l.graphics.moveTo(0,0),l.graphics.lineTo(e,t);var h=new i;return h.graphics.lineStyle(o,n),h.graphics.moveTo(e,0),h.graphics.lineTo(0,t),s.addChild(l),s.addChild(h),s},e.getRoundRect=function(e,t,n,o,r,a,s){void 0===n&&(n=0),void 0===o&&(o=5),void 0===r&&(r=5),void 0===a&&(a=0),void 0===s&&(s=0);var l=new i;return l.graphics.beginFill(n),l.graphics.drawRoundRect(a,s,e,t,o,r),l.graphics.endFill(),l},e.getCircle=function(e,t,n,o){void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=0);var r=new i;return r.graphics.beginFill(t),r.graphics.drawCircle(n,o,e),r.graphics.endFill(),r},e.getPolygon=function(e,t,n,o){void 0===e&&(e=3),void 0===t&&(t=10),void 0===n&&(n=0),void 0===o&&(o=0);var r=new i;r.rotation=o,r.graphics.beginFill(n);for(var a=0;e>=a;a++){var s=Math.cos(a*(360/e)*Math.PI/180)*t,l=Math.sin(a*(360/e)*Math.PI/180)*t;0==a?r.graphics.moveTo(s,l):r.graphics.lineTo(s,l)}return r.graphics.endFill(),r},e.getArrowRoundRect=function(e,t,n,o,r){void 0===o&&(o=0),void 0===r&&(r=0);var a=new i;a.addChild(this.getRoundRect(e,t,n));var s=this.getPolygon(3,e/3,o,30+r);return s.x=a.width>>1,s.y=a.height>>1,a.addChild(s),a},e.getScrollLineBar=function(e,t,n){for(var o=new i,r=t/3,a=0;3>a;a++){var s=this.getRect(e,1,n,0,a*r);o.addChild(s)}return o},e.getAddRoundRect=function(e,t,n){var o=new i;o.addChild(this.getRoundRect(e,t,n));var r=this.getRect(e/2,2,0,e/4,t/2-1),a=this.getRect(2,t/2,0,e/2-1,t/4);return o.addChild(r),o.addChild(a),o},e.getRemoveRoundRect=function(e,t,n){var o=new i;o.addChild(this.getRoundRect(e,t,n));var r=this.getRect(e/2,2,0,e/4,t/2-1);return o.addChild(r),o},e.getRoundRectText=function(e,n,o,r){void 0===r&&(r="click");var a=new i;a.addChild(this.getRoundRect(e,n,o));var s=new t;return s.name="text",s.text=r,s.x=a.width-s.width>>1,s.y=a.height-s.height>>1,a.addChild(s),a},e.getSwitch=function(t,i,n){void 0===t&&(t=16777215),void 0===i&&(i=0),void 0===n&&(n=0);var o=e.getRoundRect(80,50,t,60,60);return o.addChild(e.getCircle(22,i,0==n?25:55,25)),o},e.getGridding=function(e,t){void 0===t&&(t=0);var n=new i;n.graphics.lineStyle(.1,t);for(var o=e.width/e.x,r=e.height/e.y,a=0;a<e.x;a++)n.graphics.moveTo(0,a*r),n.graphics.lineTo(e.width,a*r);for(a=0;a<e.y;a++)n.graphics.moveTo(a*o,0),n.graphics.lineTo(a*o,e.height);return n},e.getHeart=function(e,t){void 0===e&&(e=15),void 0===t&&(t=16711680);var n=new i;return n.graphics.beginFill(t),n.graphics.moveTo(0,0),n.graphics.lineTo(0,2*-e),n.graphics.cubicCurveTo(e,2.5*-e,2*e,1.5*-e,0,0),n.graphics.moveTo(0,0),n.graphics.lineTo(0,2*-e),n.graphics.cubicCurveTo(-e,2.5*-e,2*-e,1.5*-e,0,0),n.graphics.endFill(),n.anchorOffsetX=-n.width/2,n.anchorOffsetY=-n.height,n},e}();e.LayoutUI=m,__reflect(m.prototype,"codeBase.LayoutUI",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(i,n,o,r,a){void 0===o&&(o=e.Style.VERTICAL),void 0===r&&(r=10),void 0===a&&(a=[]);var s=t.call(this)||this;s.itemInterval=0,s.items=[];var l=s;return l.alignType=o,l.itemInterval=r,l.contentView=new e.BaseGroup,l.scrollBar=new e.Scroller(i,n,l.contentView,o),l.addChild(l.scrollBar),l.width=i,l.height=n,l.initItem(a),s}return __extends(i,t),i.prototype.initItem=function(e){var t=this;e.forEach(function(e){t.addItem(e)}),t.layout(t.alignType,t.itemInterval)},i.prototype.addItem=function(e){var t=this;t.contentView.addChild(e),e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.onTouch,t),e.addEventListener(egret.TouchEvent.TOUCH_END,t.onTouch,t),t.items.push(e)},i.prototype.removeItem=function(t){var i=this;i.contentView.contains(t)&&(i.contentView.removeChild(t),t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,i.onTouch,i),t.removeEventListener(egret.TouchEvent.TOUCH_END,i.onTouch,i),t instanceof e.BasicLayout&&t.dispose&&t.dispose instanceof Function&&t.dispose(),i.layout(i.alignType,i.itemInterval))},i.prototype.layout=function(t,i){var n=this;t==e.Style.VERTICAL?n.items.forEach(function(e,t){e.x=0,e.y=0+t*(e.height+i)}):t==e.Style.HORIZONTAL&&n.items.forEach(function(e,t){e.x=0+t*(e.width+i),e.y=0})},i.prototype.renderList=function(e,t,i){void 0===t&&(t=[]),void 0===i&&(i=!0);var n=this;if(e&&t){n.clear(),n.executeSelected=i,n.itemRenderer=e,n.dataProvider=t.concat();for(var o=0;o<t.length;++o){var r=new e;
r.data=t[o],r.dataIndex=o,r.list=n,r.validateNow(),n.addItem(r)}n.layout(n.alignType,n.itemInterval)}},i.prototype.setItemList=function(e){void 0===e&&(e=[]);var t=this;t.clear(),t.initItem(e)},i.prototype.clear=function(){var e=this;e.itemRenderer=null,e.dataProvider&&e.dataProvider instanceof Array&&(e.dataProvider.length=0,e.dataProvider=null),e.items.forEach(function(t){e.removeItem(t)}),e.items.length=0},i.prototype.setMouseWheelEnable=function(e){var t=this;t.scrollBar.setMouseWheelEnable(e)},i.prototype.twoDistance=function(e,t){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},i.prototype.onTouch=function(t){var i=this;if(t.type==egret.TouchEvent.TOUCH_BEGIN)i.posStart=new e.Point(t.stageX,t.stageY);else{var n=new e.Point(t.stageX,t.stageY);i.posStart&&i.twoDistance(i.posStart,n)<20&&i.onClick(t.currentTarget),i.posStart=null}},i.prototype.onClick=function(t){var i=this;i.itemRenderer?(i.itemSelected&&i.executeSelected&&i.itemSelected.setSelected(!1),i.itemSelected=t,i.itemSelected.setSelected(!0)):i.itemSelected=t;var n={item:t,index:i.items.indexOf(t)};i.dispEvent(e.LayoutEvent.CLICK,n)},i}(e.BasicLayout);e.ListGroup=t,__reflect(t.prototype,"codeBase.ListGroup",["ILayout"])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(i,n){void 0===i&&(i=null),void 0===n&&(n=null);var o=t.call(this)||this;return o._value=0,o.setSkin(i,n),o.addChild(o.skinBg),o.addChild(o.skinValue),o.text=new e.Label,o.addChild(o.text),o}return __extends(i,t),i.prototype.setSkin=function(t,i){void 0===t&&(t=null),void 0===i&&(i=null),this.skinBg=t||e.Skin.progressBackground,this.skinValue=i||e.Skin.progressValue},Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(e){e=0>e?0:e>1?1:e,this._value=e,this.skinValue.scaleX=e},enumerable:!1,configurable:!0}),i.prototype.showText=function(e,t,i){void 0===t&&(t=-1),void 0===i&&(i=-1),this.text.text=e,-1==t?this.text.x=this.skinBg.width-this.text.width>>1:this.text.x=t,-1==i?this.text.y=this.skinBg.height+5:this.text.y=i},i}(e.BasicLayout);e.Progress=t,__reflect(t.prototype,"codeBase.Progress",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(i,n,o,r,a,s){void 0===r&&(r=e.Style.VERTICAL),void 0===a&&(a=null),void 0===s&&(s=!0);var l=t.call(this)||this;l.mouseEnable=!1,l.mouseOver=!1,l.mouseWheelMoveStep=5;var h=l;return h.width=i,h.height=n,h.touchEnabled=!0,h.addEventListener(egret.TouchEvent.TOUCH_BEGIN,h.onTouch,h),h.startPos=new e.Point,h.stPos=new e.Point,h._contentPos=new egret.Point,h.content=o,h.alignType=r,h.sliderBarV=a||e.Skin.scrollBar,h.sliderBarV.alpha=0,h.barVisible=s,h.addChild(h.sliderBarV),h.sliderBarV.visible=s,h.viewPort=e.LayoutUI.getRect(i,n,e.Color.white),h.addChildAt(h.viewPort,0),h.viewPort.visible=!1,h.layout(r),l}return __extends(i,t),i.prototype.onTouch=function(e){var t=this;switch(e.type){case egret.TouchEvent.TOUCH_BEGIN:t.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.onTouch,t),t.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,t.onTouch,t),t.stPos.x=e.stageX,t.stPos.y=e.stageY,t.startPos.x=e.stageX-t._contentPos.x,t.startPos.y=e.stageY-t._contentPos.y,t.hideShow(1),t.startTime=egret.getTimer();break;case egret.TouchEvent.TOUCH_MOVE:t.moveDo(e.stageX,e.stageY);break;case egret.TouchEvent.TOUCH_END:t.stage.removeEventListener(egret.TouchEvent.TOUCH_END,t.onTouch,t),t.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,t.onTouch,t),t.hideShow(0,100),t.timeMove(e.stageX,e.stageY)}},i.prototype.setMouseWheelEnable=function(t){var i=this;if(i.alignType==e.Style.VERTICAL){if(i.mouseEnable==t)return;i.mouseEnable=t,i.mouseEnable?i.addMouseEvent():i.removeMouseEvent()}},i.prototype.addMouseEvent=function(){var e=this;e.addCanvasEventListener("mousewheel",e.onMouseWheel,e)},i.prototype.removeMouseEvent=function(){var e=this;e.canvas&&e.mouseWheelFun&&e.canvas.removeEventListener("mousewheel",e.mouseWheelFun)},i.prototype.addCanvasEventListener=function(e,t,i){var n=this;n.canvas||(n.canvas=document.getElementsByTagName("CANVAS")[0]),n.mouseWheelFun=t.bind(i),n.canvas.addEventListener(e,n.mouseWheelFun)},i.prototype.onMouseMoveEvent=function(e){var t=this;"mouseOver"==e.type?t.mouseOver=!0:"mouseOut"==e.type&&(t.mouseOver=!1)},i.prototype.onMouseWheel=function(e){var t=this,i=t.globalToLocal(e.x,e.y);i.x>=t.viewPort.x&&i.x<=t.viewPort.x+t.viewPort.width&&i.y>=t.viewPort.y&&i.y<=t.viewPort.y+t.viewPort.height?(t.mouseWheelMoveY(e.deltaY),t.hideShow(1)):t.hideShow(0)},i.prototype.timeMove=function(t,i){var n=this,o=egret.getTimer()-n.startTime;if(500>o){var r=n._contentPos,a=n.viewPort;e.Tween.removeTweens(r);var s=t-n.stPos.x,l=i-n.stPos.y,h=Math.sqrt(s*s+l*l),c=h/o*100,d=e.Tween.get(r,{loop:!1,onChange:function(){var e=n._content.scrollRect;e.x=-n._contentPos.x,e.y=-n._contentPos.y,n._content.scrollRect=e},onChangeObj:n});if(this.alignType==e.Style.VERTICAL){var u=l>0?1:-1;c*=u;var p=r.y+c;p>0&&r.y+c>0&&(p=0),0>p&&r.y+c<a.height-n._content.height&&(p=a.height-n._content.height),d.to({y:p},400,e.Ease.sineOut).call(n.setBarPos,n)}else{var u=s>0?1:-1;c*=u;var f=r.x+c;f>0&&r.x+c>0&&(f=0),0>f&&r.x+c<a.width-n._content.width&&(f=a.width-n._content.width),d.to({x:f},400,e.Ease.sineOut).call(n.setBarPos,n)}}},Object.defineProperty(i.prototype,"isBarVisible",{set:function(e){this.barVisible=e},enumerable:!1,configurable:!0}),i.prototype.setBarPos=function(){var t=this;t.barVisible&&(t.alignType==e.Style.VERTICAL?t.sliderBarV.y=-t._content.y/(t._content.height-t.viewPort.height)*(t.viewPort.height-t.sliderBarV.height):t.sliderBarV.x=-t._content.x/(t._content.width-t.viewPort.width)*(t.viewPort.width-t.sliderBarV.width))},i.prototype.hideShow=function(t,i){void 0===i&&(i=1e3);var n=this;if(n.barVisible&&n.sliderBarV.alpha!=t)if(e.Tween.removeTweens(n.sliderBarV),1==t)n.sliderBarV.alpha=1;else{var o=e.Tween.get(n.sliderBarV);o.to({alpha:t},i)}},i.prototype.moveDo=function(t,i){var n=this;n.alignType==e.Style.VERTICAL?n.canMoveY(i):n.alignType==e.Style.HORIZONTAL&&n.canMoveX(t)},i.prototype.canMoveX=function(e){var t=this,i=t.viewPort.width-t._content.width,n=e-t.startPos.x;if(n>i&&0>n){t._contentPos.x=n;var o=t._content.scrollRect;o.x=-n,t._content.scrollRect=o,t.sliderBarV.x=-n/(t._content.width-t.viewPort.width)*(t.viewPort.width-t.sliderBarV.width)}},i.prototype.canMoveY=function(e){var t=this,i=t.viewPort.height-t._content.height,n=e-t.startPos.y;if(n>i&&0>n){t._contentPos.y=n;var o=t._content.scrollRect;o.y=-n,t._content.scrollRect=o,t.sliderBarV.y=-n/(t._content.height-t.viewPort.height)*(t.viewPort.height-t.sliderBarV.height)}},i.prototype.mouseWheelMoveY=function(e){var t=this,i=t.viewPort.height-t._content.height;if(0>i){var n=t._contentPos.y;n-=e,i>n?n=i:n>0&&(n=0),t._contentPos.y=n;var o=t._content.scrollRect;o.y=-n,t._content.scrollRect=o,t.sliderBarV.y=-n/(t._content.height-t.viewPort.height)*(t.viewPort.height-t.sliderBarV.height)}},i.prototype.setScrollRect=function(){var e=this;e._content&&(e._content.scrollRect=new egret.Rectangle(0,0,e.width,e.height))},i.prototype.setSliderBarPos=function(){var t=this;t.sliderBarV.x=t.sliderBarV.y=0,t.alignType==e.Style.VERTICAL?t.sliderBarV.x=t.viewPort.width:t.alignType==e.Style.HORIZONTAL&&(t.sliderBarV.y=t.viewPort.height)},i.prototype.layout=function(t,i){void 0===t&&(t=e.Style.VERTICAL),void 0===i&&(i=0);var n=this;n.alignType=t,n.alignType==e.Style.HORIZONTAL&&n.setMouseWheelEnable(!1),n.setSliderBarPos(),n.content&&(n.content.x=n.content.y=0)},i.prototype.reset=function(){var e=this;e.layout(e.alignType)},Object.defineProperty(i.prototype,"content",{set:function(t){var i=this;i._content!=t&&(i._content&&i._content.parent&&(i._content instanceof e.BasicLayout?i._content.removeFromParent(!0):i._content.parent.removeChild(i._content)),i._content=t,i.addChild(i._content),i.setScrollRect())},enumerable:!1,configurable:!0}),i.prototype.sliderBarSkins=function(t,i){void 0===t&&(t=null),void 0===i&&(i=null);var n=this;n.alignType==e.Style.VERTICAL?(n.sliderBarV&&n.sliderBarV!=t&&n.contains(n.sliderBarV)&&n.removeChild(n.sliderBarV),n.sliderBarV=t,n.sliderBarV&&n.addChild(n.sliderBarV)):n.alignType==e.Style.HORIZONTAL&&(n.sliderBarH&&n.sliderBarH!=i&&n.contains(n.sliderBarV)&&n.removeChild(n.sliderBarH),n.sliderBarH=i,n.sliderBarH&&n.addChild(n.sliderBarH)),n.setSliderBarPos()},i}(e.BasicLayout);e.Scroller=t,__reflect(t.prototype,"codeBase.Scroller",["ILayout"])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(i,n,o){void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=null);var r=t.call(this,i,n)||this;return r.skinBar=o||e.Skin.sliderBar,r.addChild(r.skinBar),r.skinBar.touchEnabled=!0,r.skinBar.addEventListener(egret.TouchEvent.TOUCH_BEGIN,r.onTouch,r),r.layout(),r.value=0,r}return __extends(i,t),i.prototype.setSkin=function(t,i){void 0===t&&(t=null),void 0===i&&(i=null),this.skinBg=t||e.Skin.sliderBackground,this.skinValue=i||e.Skin.sliderValue},i.prototype.onTouch=function(t){switch(t.type){case egret.TouchEvent.TOUCH_BEGIN:this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouch,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouch,this),this.dispEvent(e.LayoutEvent.START);break;case egret.TouchEvent.TOUCH_MOVE:this.moveDo(t.stageX,t.stageY),this.dispEvent(e.LayoutEvent.MOVE);break;case egret.TouchEvent.TOUCH_END:this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouch,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouch,this),this.dispEvent(e.LayoutEvent.OVER)}},i.prototype.moveDo=function(t,i){var n,o=this.globalToLocal(t,i);n=this.type==e.Style.HORIZONTAL?o.x/this.skinValue.width:o.y/this.skinValue.width,this.value=n},Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){t=0>t?0:t>1?1:t,this._value=t,this.skinValue.scaleX=t,this.type==e.Style.HORIZONTAL?this.skinBar.x=this.skinValue.width*t:this.skinBar.y=this.skinValue.width*t},enumerable:!1,configurable:!0}),i.prototype.layout=function(t,i){if(void 0===t&&(t=e.Style.HORIZONTAL),void 0===i&&(i=0),this.type=t,t==e.Style.VERTICAL){var n=90;this.skinBar.x=-this.skinValue.height>>1}else{var n=0;this.skinBar.y=this.skinValue.height>>1}this.skinBg.rotation=n,this.skinValue.rotation=n,this.value=this._value},i}(e.Progress);e.Slider=t,__reflect(t.prototype,"codeBase.Slider",["ILayout"])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){this.oldX=0,this.oldY=0,this.newX=0,this.newY=0,this.oldAlpha=0,this.newAlpha=0,this.oldRotation=0,this.newRotation=0,this.oldScaleX=0,this.newScaleX=0,this.oldScaleY=0,this.newScaleY=0,this.oldAnchorX=0,this.newAnchorX=0,this.oldAnchorY=0,this.newAnchorY=0,this.isPlay=!1,this.loop=!1}return e}();e.EffectData=t,__reflect(t.prototype,"codeBase.EffectData",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){}return t.breatheEffect=function(i,n,o,r,a){if(void 0===n&&(n=200),void 0===o&&(o=1),void 0===r&&(r=1),void 0===a&&(a=.03),null!=i&&void 0!=i){var s=null;null==this.effectDic[i.hashCode]||void 0==this.effectDic[i.hashCode]?(s=new e.EffectData,t.saveOldValue(i,s),s.newAnchorX=.5,s.newAnchorY=.8,s.newX=s.oldX+i.width*s.newAnchorX,s.newY=s.oldY+i.height*s.newAnchorY,this.effectDic[i.hashCode]=s):(s=this.effectDic[i.hashCode],s.loop=!0),i.anchorOffsetX=s.newAnchorX*i.width,i.anchorOffsetY=s.newAnchorY*i.height,i.x=s.newX,i.y=s.newY,i.scaleX=1-a,i.scaleY=1+a;var l=function(){s.loop&&egret.Tween.get(i).to({scaleX:1+a,scaleY:1.03+a,alpha:r},n+200).to({scaleX:1-a,scaleY:1+a,alpha:o},n).call(l,this)};egret.Tween.get(i).to({scaleX:1+a,scaleY:1.03+a,alpha:r},n+200).to({scaleX:1-a,scaleY:1+a,alpha:o},n).call(l,this)}},t.pauseBreatheEffect=function(e){if(null!=e&&void 0!=e&&null!=this.effectDic[e.hashCode]&&void 0!=this.effectDic[e.hashCode]){var t=this.effectDic[e.hashCode];e.anchorOffsetX=t.oldAnchorX,e.anchorOffsetY=t.oldAnchorY,e.x=t.oldX,e.y=t.oldY,e.scaleX=t.oldScaleX,e.scaleY=t.oldScaleY,egret.Tween.removeTweens(e),this.effectDic[e.hashCode]=null}},t.upDownEffect=function(i,n){if(void 0===n&&(n=500),null!=i&&void 0!=i){var o=null;null==this.effectDic[i.hashCode]||void 0==this.effectDic[i.hashCode]?(o=new e.EffectData,t.saveOldValue(i,o),o.newAnchorX=.5,o.newAnchorY=.8,o.newX=o.oldX+i.width*o.newAnchorX,o.newY=o.oldY+i.height*o.newAnchorY,this.effectDic[i.hashCode]=o):(o=this.effectDic[i.hashCode],o.loop=!0),i.anchorOffsetX=o.newAnchorX*i.width,i.anchorOffsetY=o.newAnchorY*i.height,i.x=o.newX,i.y=o.newY,i.scaleX=.9,i.scaleY=1.1;var r=function(){o.loop&&egret.Tween.get(i).to({scaleX:1.1,scaleY:.9},n).to({scaleX:.9,scaleY:1.1},n).call(r,this)};egret.Tween.get(i).to({scaleX:1.1,scaleY:.9},n).to({scaleX:.9,scaleY:1.1},n).call(r,this)}},t.pauseUpDownEffect=function(e){if(null!=e&&void 0!=e&&null!=this.effectDic[e.hashCode]&&void 0!=this.effectDic[e.hashCode]){var t=this.effectDic[e.hashCode];e.anchorOffsetX=t.oldAnchorX,e.anchorOffsetY=t.oldAnchorY,e.x=t.oldX,e.y=t.oldY,e.scaleX=t.oldScaleX,e.scaleY=t.oldScaleY,egret.Tween.removeTweens(e),this.effectDic[e.hashCode]=null}},t.paopaoEffect=function(i,n){if(void 0===n&&(n=1500),null!=i&&void 0!=i){var o=null;null==this.effectDic[i.hashCode]||void 0==this.effectDic[i.hashCode]?(o=new e.EffectData,t.saveOldValue(i,o),o.newAnchorX=.5,o.newAnchorY=.8,o.newX=o.oldX+i.width*o.newAnchorX,o.newY=o.oldY+i.height*o.newAnchorY,this.effectDic[i.hashCode]=o):(o=this.effectDic[i.hashCode],o.loop=!0),i.anchorOffsetX=o.newAnchorX*i.width,i.anchorOffsetY=o.newAnchorY*i.height,i.x=o.newX,i.y=o.newY,i.scaleX=.95,i.scaleY=1.05;var r=function(){o.loop&&egret.Tween.get(i).to({scaleX:1.04,scaleY:.96},n).to({scaleX:.95,scaleY:1.05},n).call(r,this)};egret.Tween.get(i).to({scaleX:1.04,scaleY:.96},n).to({scaleX:.95,scaleY:1.05},n).call(r,this)}},t.pausePaopaoEffect=function(e){if(null!=e&&void 0!=e&&null!=this.effectDic[e.hashCode]&&void 0!=this.effectDic[e.hashCode]){var t=this.effectDic[e.hashCode];e.anchorOffsetX=t.oldAnchorX,e.anchorOffsetY=t.oldAnchorY,e.x=t.oldX,e.y=t.oldY,e.scaleX=t.oldScaleX,e.scaleY=t.oldScaleY,egret.Tween.removeTweens(e),this.effectDic[e.hashCode]=null}},t.rockEffect=function(i,n,o){if(void 0===n&&(n=25),void 0===o&&(o=200),null!=i&&void 0!=i){var r=null;null==this.effectDic[i.hashCode]||void 0==this.effectDic[i.hashCode]?(r=new e.EffectData,t.saveOldValue(i,r),r.newAnchorX=.5,r.newAnchorY=.8,r.newX=r.oldX+i.width*r.newAnchorX,r.newY=r.oldY+i.height*r.newAnchorY,this.effectDic[i.hashCode]=r):(r=this.effectDic[i.hashCode],r.loop=!0),i.anchorOffsetX=r.newAnchorX*i.width,i.anchorOffsetY=r.newAnchorY*i.height,i.x=r.newX,i.y=r.newY,i.rotation=0;var a=function(){r.loop&&egret.Tween.get(i).to({rotation:n},o).to({rotation:0},o).to({rotation:-n},o).to({rotation:0},o).to({rotation:n},o).to({rotation:0},o).to({rotation:-n},o).to({rotation:0},o).wait(2e3).call(a,this)};egret.Tween.get(i).to({rotation:n},o).to({rotation:0},o).to({rotation:-n},o).to({rotation:0},o).to({rotation:n},o).to({rotation:0},o).to({rotation:-n},o).to({rotation:0},o).wait(2e3).call(a,this)}},t.pauseRockEffect=function(e){if(null!=e&&void 0!=e&&null!=this.effectDic[e.hashCode]&&void 0!=this.effectDic[e.hashCode]){var t=this.effectDic[e.hashCode];e.anchorOffsetX=t.oldAnchorX,e.anchorOffsetY=t.oldAnchorY,e.x=t.oldX,e.y=t.oldY,e.rotation=0,egret.Tween.removeTweens(e),this.effectDic[e.hashCode]=null}},t.rotationEffect=function(i,n,o){if(void 0===n&&(n=1),void 0===o&&(o=5e3),null!=i&&void 0!=i){var r=null;if(null==this.effectDic[i.hashCode]||void 0==this.effectDic[i.hashCode]?(r=new e.EffectData,t.saveOldValue(i,r),r.newAnchorX=.5,r.newAnchorY=.5,r.newX=r.oldX+i.width*r.newAnchorX*i.scaleX,r.newY=r.oldY+i.height*r.newAnchorY*i.scaleY,this.effectDic[i.hashCode]=r):(r=this.effectDic[i.hashCode],r.loop=!0),i.anchorOffsetX=r.newAnchorX*i.width,i.anchorOffsetY=r.newAnchorY*i.height,i.x=r.newX,i.y=r.newY,1==n){var a=function(){r.loop&&(i.rotation=0,egret.Tween.get(i).to({rotation:360},o).call(a,this))};i.rotation=0,egret.Tween.get(i).to({rotation:360},o).call(a,this)}else if(-1==n){var s=function(){r.loop&&(i.rotation=0,egret.Tween.get(i).to({rotation:-360},o).call(s,this))};i.rotation=0,egret.Tween.get(i).to({rotation:-360},o).call(s,this)}}},t.pauseRotationEffect=function(e){if(null!=e&&void 0!=e&&null!=this.effectDic[e.hashCode]&&void 0!=this.effectDic[e.hashCode]){var t=this.effectDic[e.hashCode];e.anchorOffsetX=t.oldAnchorX,e.anchorOffsetY=t.oldAnchorY,e.x=t.oldX,e.y=t.oldY,e.rotation=0,egret.Tween.removeTweens(e),this.effectDic[e.hashCode]=null}},t.flyObjEffect=function(i,n,o,r,a,s){void 0===n&&(n=200),void 0===o&&(o=50),void 0===r&&(r=1),void 0===a&&(a=1),void 0===s&&(s=1);var l=null;if(null==this.effectDic[i.hashCode]||void 0==this.effectDic[i.hashCode]?(l=new e.EffectData,t.saveOldValue(i,l),this.effectDic[i.hashCode]=l):(l=this.effectDic[i.hashCode],l.loop=!0),egret.Tween.removeTweens(i),1==r){if(0==l.isPlay){var h=function(){l.loop&&egret.Tween.get(i).to({y:l.oldY+o,alpha:s},n).to({y:l.oldY-o,alpha:a},n).call(h,this)};egret.Tween.get(i).to({y:l.oldY+o,alpha:s},n).to({y:l.oldY-o,alpha:a},n).call(h,this),l.isPlay=!1}}else if(0==r&&0==l.isPlay){var h=function(){l.loop&&egret.Tween.get(i).to({x:l.oldX+o,alpha:s},n).to({x:l.oldX-o,alpha:a},n).call(h,this)};egret.Tween.get(i).to({x:l.oldX+o,alpha:s},n).to({x:l.oldX-o,alpha:a},n).call(h,this),l.isPlay=!1}},t.pauseFlyObjEffect=function(e){if(null!=e&&void 0!=e&&null!=this.effectDic[e.hashCode]&&void 0!=this.effectDic[e.hashCode]){var t=this.effectDic[e.hashCode];e.alpha=1,e.x=t.oldX,e.y=t.oldY,egret.Tween.removeTweens(e),this.effectDic[e.hashCode]=null}},t.smallTobig=function(t,i,n){if(void 0===i&&(i=200),void 0===n&&(n=1),null!=t&&void 0!=t){var o=null;null==this.effectDic[t.hashCode]||void 0==this.effectDic[t.hashCode]?(o=new e.EffectData,o.newAnchorX=.5,o.newAnchorY=.5,o.oldX=t.x,o.oldY=t.y,o.newX=o.oldX+t.width*o.newAnchorX*t.scaleX,o.newY=o.oldY+t.height*o.newAnchorY*t.scaleY,this.effectDic[t.hashCode]=o):o=this.effectDic[t.hashCode],t.anchorOffsetX=o.newAnchorX*t.width,t.anchorOffsetY=o.newAnchorY*t.height,t.x=o.newX,t.y=o.newY,1==n?(t.scaleX=0,t.scaleY=0,egret.Tween.get(t).to({scaleX:1,scaleY:1},300,egret.Ease.backOut)):2==n&&(t.scaleX=1,t.scaleY=1,egret.Tween.get(t).to({scaleX:0,scaleY:0},300,egret.Ease.backOut))}},t.playEffect=function(i,n){if(void 0===n&&(n=1),null!=i&&void 0!=i){var o=null;if(null==this.effectDic[i.hashCode]||void 0==this.effectDic[i.hashCode]){o=new e.EffectData,t.saveOldValue(i,o),this.effectDic[i.hashCode]=o;var r=function(){o=this.effectDic[i.hashCode],i.x=o.oldX,i.y=o.oldY,i.scaleX=o.oldScaleX,i.scaleY=o.oldScaleY,egret.Tween.removeTweens(i),this.effectDic[i.hashCode]=null},a=function(){1==n?egret.Tween.get(i).to({scaleX:1,scaleY:1,x:i.x-i.width/4,y:i.y-i.height/4},500,egret.Ease.elasticOut).call(r,this):2==n?egret.Tween.get(i).to({scaleX:1,scaleY:1,x:i.x-i.width/4,y:i.y-i.height/4},500,egret.Ease.backOut).call(r,this):3==n&&egret.Tween.get(i).to({scaleX:1,scaleY:1,x:i.x-i.width/4,y:i.y-i.height/4},100).call(r,this)};egret.Tween.get(i).to({scaleX:.8,scaleY:.8,x:i.x+i.width/4,y:i.y+i.height/4},100,egret.Ease.sineIn).call(a,this)}}},t.saveOldValue=function(e,t){t.oldX=e.x,t.oldY=e.y,t.oldAnchorX=e.anchorOffsetX,t.oldAnchorY=e.anchorOffsetY,t.oldScaleX=e.scaleX,t.oldScaleY=e.scaleY,t.oldAlpha=e.alpha,t.loop=!0},t.effectDic={},t}();e.EffectUtil=t,__reflect(t.prototype,"codeBase.EffectUtil",[])}(i||(i={})),window.codeBase=i},function(module,exports){var codeBase=window.codeBase,codeBase;!function(codeBase){var TweenEffect=function(){function TweenEffect(){}return TweenEffect.setAnchorXY=function(e,t,i){void 0===t&&(t=.5),void 0===i&&(i=.5);var n=t*e.scaleX*e.width,o=i*e.scaleY*e.height;e.anchorOffsetX=n,e.anchorOffsetY=o,e.x+=n,e.y+=o},TweenEffect.magnifyEffect=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{scaleX:1,scaleY:1,alpha:1}}];e.scaleX=e.scaleY=e.alpha=0;var i=i?i:300;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.restoreEffect=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:1,skewX:0,skewY:0,scaleX:1,scaleY:1,rotation:0}}],i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.shrinkEffect=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{scaleX:0,scaleY:0,alpha:0}}];e.scaleX=e.scaleY=e.alpha=1;var i=i?i:300;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.flutterEffect=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.25,attr:{alpha:0,anchorOffsetX:1*e.width}},{percent:.5,attr:{alpha:1,anchorOffsetX:0}},{percent:.75,attr:{alpha:0,anchorOffsetX:1*e.width}},{percent:1,attr:{alpha:1,anchorOffsetX:0}}];e.anchorOffsetX=e.alpha=0;var i=i?i:6e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.flutterPositionEffect=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.4,attr:{anchorOffsetX:-.3*e.width,anchorOffsetY:-.2*e.height,scaleX:.9,scaleY:.9,alpha:.7}},{percent:.8,attr:{anchorOffsetX:-.2*e.width,anchorOffsetY:-.1*e.height,scaleX:.95,scaleY:.95,alpha:.9}},{percent:1,attr:{anchorOffsetX:0,anchorOffsetY:0,scaleX:1,scaleY:1,alpha:1}}];e.anchorOffsetX=e.anchorOffsetY=0,e.scaleX=e.scaleY=e.alpha=1;var i=i?i:6e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.fadeInEffect=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:1}}];e.alpha=0;var i=i?i:500;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.fadeInLeft=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:1,anchorOffsetX:0}}];e.alpha=0,e.anchorOffsetX=50;var i=i?i:800;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.fadeInRight=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:1,anchorOffsetX:0}}];e.alpha=0,e.anchorOffsetX=-50;var i=i?i:800;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.fadeInUp=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:1,anchorOffsetY:0}}];e.alpha=0,e.anchorOffsetY=-50;var i=i?i:800;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.fadeInDown=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:1,anchorOffsetY:0}}];e.alpha=0,e.anchorOffsetY=50;var i=i?i:800;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.fadeOut=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:0}}];e.alpha=1;var i=i?i:800;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.fadeOutLeft=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:0,anchorOffsetX:50}}];e.alpha=1;var i=i?i:800;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.fadeOutRight=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:0,anchorOffsetX:-50}}];e.alpha=1,e.anchorOffsetX=0;var i=i?i:800;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.fadeOutDown=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:0,anchorOffsetY:-50}}];e.alpha=1,e.anchorOffsetY=0;var i=i?i:800;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.fadeOutUp=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{alpha:0,anchorOffsetY:50}}];e.alpha=1,e.anchorOffsetY=0;var i=i?i:800;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.shake=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.22,attr:{anchorOffsetX:.1*e.width}},{percent:.44,attr:{anchorOffsetX:-.1*e.width}},{percent:.66,attr:{anchorOffsetX:.1*e.width}},{percent:.88,attr:{anchorOffsetX:-.1*e.width}},{percent:1,attr:{anchorOffsetX:0}}],i=i?i:450;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.skip=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.25,attr:{scaleY:.8}},{percent:.5,attr:{scaleY:1.2}},{percent:.75,attr:{scaleY:.8}},{percent:1,attr:{scaleY:1}}];e.scaleY=1;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.arrowDown=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.5,attr:{alpha:1,anchorOffsetY:-.5*e.height}},{percent:1,attr:{alpha:.3,anchorOffsetY:0}}];e.alpha=1,e.anchorOffsetY=0;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.arrowUp=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.5,attr:{alpha:.3,anchorOffsetY:.5*e.height}},{percent:1,attr:{alpha:1,anchorOffsetY:0}}];e.alpha=1,e.anchorOffsetY=0;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.arrowRight=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.5,attr:{alpha:.3,anchorOffsetX:-.5*e.width}},{percent:1,attr:{alpha:1,anchorOffsetX:0}}];e.alpha=1,e.anchorOffsetX=0;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.arrowLeft=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.5,attr:{alpha:1,anchorOffsetX:.5*e.width}},{percent:1,attr:{alpha:.3,anchorOffsetX:0}}];e.alpha=1,e.anchorOffsetX=0,n="backIn";var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.flash=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.25,attr:{alpha:.4}},{percent:.5,attr:{alpha:.9}},{percent:.75,attr:{alpha:.2}},{percent:1,attr:{alpha:1}}];e.alpha=1;var i=i?i:2e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.flashIn=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.25,attr:{alpha:0}},{percent:.5,attr:{alpha:1}},{percent:.75,attr:{alpha:0}},{percent:1,attr:{alpha:1}}];e.alpha=1;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.flashOut=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.25,attr:{alpha:1}},{percent:.5,attr:{alpha:0}},{percent:.75,attr:{alpha:1}},{percent:1,attr:{alpha:0}}];e.alpha=0;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.rotation=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:1e3,easeFunName)var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:object.rotation+360},total,easeFun)},TweenEffect.rotationIn=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,codeBase.StringUtil.isUsage(easeFunName))var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=object.scaleX=object.scaleY=object.alpha=0,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:object.rotation+360,scaleX:1,scaleY:1,alpha:1},total,easeFun)},TweenEffect.rotationOut=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,codeBase.StringUtil.isUsage(easeFunName))var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=0,object.scaleX=object.scaleY=object.alpha=1,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:object.rotation+360,scaleX:0,scaleY:0,alpha:0},total,easeFun)},TweenEffect.rotationInLeft=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,codeBase.StringUtil.isUsage(easeFunName))var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=30,object.alpha=0,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:0,alpha:1},total,easeFun)},TweenEffect.rotationInRight=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,codeBase.StringUtil.isUsage(easeFunName))var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=-30,object.alpha=0,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:0,alpha:1},total,easeFun)},TweenEffect.rotationOutLeft=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,codeBase.StringUtil.isUsage(easeFunName))var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=0,object.alpha=1,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:30,alpha:0},total,easeFun)},TweenEffect.rotationOutRight=function(object,delay,total,easeFunName,isLoop){if(void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object),total=total?total:500,codeBase.StringUtil.isUsage(easeFunName))var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;object.rotation=0,object.alpha=1,egret.Tween.get(object,{loop:isLoop}).wait(delay).to({rotation:-30,alpha:0},total,easeFun)},TweenEffect.scaleOutRock=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.1,attr:{scaleY:.9,scaleX:.9,rotation:-3}},{percent:.2,attr:{scaleY:.9,scaleX:.9,rotation:-3}},{percent:.3,attr:{scaleY:1.1,scaleX:1.1,rotation:3}},{percent:.4,attr:{scaleY:1.1,scaleX:1.1,rotation:-3}},{percent:.5,attr:{scaleY:1.1,scaleX:1.1,rotation:3}},{percent:.6,attr:{scaleY:1.1,scaleX:1.1,rotation:-3}},{percent:.7,attr:{scaleY:1.1,scaleX:1.1,rotation:3}},{percent:.8,attr:{scaleY:1.1,scaleX:1.1,rotation:3}},{percent:1,attr:{scaleY:1,scaleX:1,rotation:0}}];e.scaleX=e.scaleY=1;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.rubberBand=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.3,attr:{scaleX:1.25,scaleY:.75}},{percent:.4,attr:{scaleX:.75,scaleY:1.25}},{percent:.5,attr:{scaleX:1.15,scaleY:.85}},{percent:.65,attr:{scaleX:.95,scaleY:1.05}},{percent:.75,attr:{scaleX:1.05,scaleY:.95}},{percent:1,attr:{scaleX:1,scaleY:1}}];e.scaleX=e.scaleY=1;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.bounce=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);
var r=[{percent:.4,attr:{anchorOffsetY:.1*e.height}},{percent:.43,attr:{anchorOffsetY:.2*e.height}},{percent:.7,attr:{anchorOffsetY:.1*e.height}},{percent:.8,attr:{anchorOffsetY:0}},{percent:.9,attr:{anchorOffsetY:.04*e.height}},{percent:1,attr:{anchorOffsetY:0*e.height}}];e.anchorOffsetY=0;var i=i?i:500;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.bounceIn=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.2,attr:{scaleX:1.1,scaleY:1.1}},{percent:.4,attr:{scaleX:.9,scaleY:.9}},{percent:.6,attr:{scaleX:1.03,scaleY:1.03,alpha:1}},{percent:.8,attr:{scaleX:.97,scaleY:.97}},{percent:1,attr:{scaleX:1,scaleY:1,alpha:1}}];e.alpha=0,e.scaleX=e.scaleY=.3;var i=i?i:500;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.bounceInDown=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.6,attr:{anchorOffsetY:25,alpha:1}},{percent:.75,attr:{anchorOffsetY:-10,alpha:1}},{percent:.9,attr:{anchorOffsetY:5,alpha:1}},{percent:1,attr:{anchorOffsetY:0,alpha:1}}];e.alpha=0,e.anchorOffsetY=-3e3;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.bounceInUp=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.6,attr:{anchorOffsetY:25,alpha:1}},{percent:.75,attr:{anchorOffsetY:-10,alpha:1}},{percent:.9,attr:{anchorOffsetY:5,alpha:1}},{percent:1,attr:{anchorOffsetY:0,alpha:1}}];e.alpha=0,e.anchorOffsetY=3e3;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.bounceInLeft=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.6,attr:{anchorOffsetX:25,alpha:1}},{percent:.75,attr:{anchorOffsetX:-10,alpha:1}},{percent:.9,attr:{anchorOffsetX:5,alpha:1}},{percent:1,attr:{anchorOffsetX:0,alpha:1}}];e.alpha=0,e.anchorOffsetX=-3e3;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.bounceInRight=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.6,attr:{anchorOffsetX:25,alpha:1}},{percent:.75,attr:{anchorOffsetX:-10,alpha:1}},{percent:.9,attr:{anchorOffsetX:5,alpha:1}},{percent:1,attr:{anchorOffsetX:0,alpha:1}}];e.alpha=0,e.anchorOffsetX=3e3;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.bounceOut=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.2,attr:{scaleX:.9,scaleY:.9}},{percent:.5,attr:{scaleX:1.1,scaleY:1.1}},{percent:.55,attr:{scaleX:1.1,scaleY:1.1}},{percent:1,attr:{scaleX:.3,scaleY:.3,alpha:0}}];e.alpha=e.scaleX=e.scaleY=1;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.bounceOutUp=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.2,attr:{anchorOffsetY:25,alpha:1}},{percent:.4,attr:{anchorOffsetY:-20,alpha:1}},{percent:.45,attr:{anchorOffsetY:-20,alpha:1}},{percent:1,attr:{anchorOffsetY:2e3,alpha:0}}];e.alpha=1,e.anchorOffsetY=0;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.bounceOutDown=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.2,attr:{anchorOffsetY:-10,alpha:1}},{percent:.4,attr:{anchorOffsetY:20,alpha:1}},{percent:.45,attr:{anchorOffsetY:20,alpha:1}},{percent:1,attr:{anchorOffsetY:-2e3,alpha:0}}];e.alpha=1,e.anchorOffsetY=0;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.bounceOutLeft=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.2,attr:{anchorOffsetX:-25,alpha:1}},{percent:1,attr:{anchorOffsetX:2e3,alpha:0}}];e.alpha=1,e.anchorOffsetX=0;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.bounceOutRight=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.2,attr:{anchorOffsetX:25,alpha:1}},{percent:1,attr:{anchorOffsetX:-2e3,alpha:0}}];e.alpha=1,e.anchorOffsetX=0;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.swing=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.2,attr:{rotation:15}},{percent:.4,attr:{rotation:-10}},{percent:.6,attr:{rotation:5}},{percent:.8,attr:{rotation:-5}},{percent:1,attr:{rotation:0}}];e.rotation=0;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.scaleIn=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{scaleX:1,scaleY:1,alpha:1}}];e.alpha=0,e.scaleX=e.scaleY=1.2;var i=i?i:500;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.scaleOut=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{scaleX:1.2,scaleY:1.2,alpha:0}}];e.alpha=1,e.scaleX=e.scaleY=1;var i=i?i:500;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.scaleInBig=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{scaleX:1,scaleY:1,alpha:1}}];e.alpha=0,e.scaleX=e.scaleY=3;var i=i?i:500;n="quadIn",TweenEffect.start(e,r,t,i,n,o)},TweenEffect.scaleOutBig=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:1,attr:{scaleX:3,scaleY:3,alpha:0}}];e.alpha=1,e.scaleX=e.scaleY=1;var i=i?i:500;n="quadIn",TweenEffect.start(e,r,t,i,n,o)},TweenEffect.rightSpeedIn=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.6,attr:{skewX:20,alpha:1,anchorOffsetX:-.4*e.width}},{percent:.8,attr:{skewX:-5,alpha:1,anchorOffsetX:-.2*e.width}},{percent:1,attr:{skewX:0,alpha:1,anchorOffsetX:0}}];e.skewX=e.alpha=0,e.anchorOffsetX=-1;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.pluse=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.5,attr:{scaleX:1.1,scaleY:1.1}},{percent:1,attr:{scaleX:1,scaleY:1}}];e.scaleX=e.scaleY=1;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.rotationFlash=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.25,attr:{rotation:5}},{percent:.75,attr:{rotation:-5}},{percent:1,attr:{rotation:0}}];e.rotation=0;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.breath=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.25,attr:{scaleX:.92,scaleY:.92,alpha:.7}},{percent:.5,attr:{scaleX:1,scaleY:1,alpha:1}},{percent:.75,attr:{scaleX:.92,scaleY:.92,alpha:.7}},{percent:1,attr:{scaleX:1,scaleY:1,alpha:1}}];e.scaleX=e.scaleY=e.alpha=1;var i=i?i:5e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.shiftUp=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.5,attr:{anchorOffsetY:1*e.height}},{percent:1,attr:{anchorOffsetY:0}}];e.anchorOffsetY=0;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.shiftDown=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.5,attr:{anchorOffsetY:-1*e.height}},{percent:1,attr:{anchorOffsetY:0}}];e.anchorOffsetY=0;var i=i?i:1e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.jump=function(e,t,i,n,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=""),void 0===o&&(o=!1),egret.Tween.removeTweens(e);var r=[{percent:.4,attr:{scaleX:1.1,scaleY:.9,anchorOffsetY:.8*e.height}},{percent:.55,attr:{scaleX:1.8,scaleY:.2,anchorOffsetY:.9*e.height}},{percent:.65,attr:{scaleX:.6,scaleY:1.4,anchorOffsetY:.3*e.height}},{percent:1,attr:{scaleX:1,scaleY:1,anchorOffsetY:0}}];e.anchorOffsetY=0,e.scaleX=e.scaleY=1;var i=i?i:2e3;TweenEffect.start(e,r,t,i,n,o)},TweenEffect.rock=function(e,t,i,n){void 0===t&&(t=25),void 0===i&&(i=200),void 0===n&&(n=!1);var o=e.rotation;egret.Tween.get(e,{loop:n}).to({rotation:t+o},i).to({rotation:o},i).to({rotation:o-t},i).to({rotation:o},i).to({rotation:t+o},i).to({rotation:o},i).to({rotation:o-t},i).to({rotation:o},i).wait(2e3)},TweenEffect.fly=function(e,t,i,n,o){void 0===t&&(t=500),void 0===i&&(i=3),void 0===n&&(n=!0),void 0===o&&(o=1);var r,a;r=e.x,a=e.y,1==o?egret.Tween.get(e,{loop:n}).to({y:a+i},t).to({y:a},t).to({y:a-i},t).to({y:a},t):egret.Tween.get(e,{loop:n}).to({x:r+i},t).to({x:r},t).to({x:r-i},t).to({x:r},t)},TweenEffect.start=function(object,attr,delay,total,easeFunName,isLoop){void 0===delay&&(delay=0),void 0===total&&(total=0),void 0===easeFunName&&(easeFunName=""),void 0===isLoop&&(isLoop=!1),egret.Tween.removeTweens(object);var index=0,attr=attr,total=total,tweenTime=0;if(codeBase.StringUtil.isUsage(easeFunName))var easeFun=eval("egret.Ease."+easeFunName);else easeFun=null;setTimeout(function e(){if(index>=attr.length){if(!isLoop)return;index=0}tweenTime=index>0?(attr[index].percent-attr[index-1].percent)*total:attr[index].percent*total,egret.Tween.get(object).to(attr[index].attr,tweenTime,easeFun).call(e,this),index++},delay)},TweenEffect}();codeBase.TweenEffect=TweenEffect,__reflect(TweenEffect.prototype,"codeBase.TweenEffect",[])}(codeBase||(codeBase={})),window.codeBase=codeBase},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){}return t.getPacket=function(e,i){void 0===i&&(i=!0);var n=t.packetCachePool[(i?"c_":"s_")+e];if(null==n&&(n=new Array,t.packetCachePool[(i?"c_":"s_")+e]=n),0==n.length){var o=egret.getDefinitionByName("PacketFactory");return o?o.createPacket(e,i):null}return n.shift()},t.releasePacket=function(e){var i=t.packetCachePool[(e.clientSide?"c_":"s_")+e.header.messageId];null==i&&(i=new Array,t.packetCachePool[(e.clientSide?"c_":"s_")+e.header.messageId]=i),i.push(e)},t.getEvent=function(i){var n=t.eventCachePool[i];return null==n&&(n=[],t.eventCachePool[i]=n),0==n.length?new e.MyEvent(i):n.pop()},t.releaseEvent=function(e){var i=t.eventCachePool[e.type];null==i&&(i=[],t.eventCachePool[e.type]=i),e.destory(),i.push(e)},t.addPacketEvent=function(e,i,n){if(null!=i&&!t.isContainerPacketEventListener(e,i,n)){var o=null;o=t.packetEventList[t.PREFIX+e],null==o&&(o=new Array,t.packetEventList[t.PREFIX+e]=o),o.push({func:i,owner:n})}},t.removePacketEvent=function(e,i,n){if(null!=i&&t.isContainerPacketEventListener(e,i,n)){var o=t.packetEventList[t.PREFIX+e];if(o)for(var r=0;r<o.length;r++)if(o[r].func==i&&o[r].owner==n){o.splice(r,1);break}}},t.isContainerPacketEventListener=function(e,i,n){var o=t.packetEventList[t.PREFIX+e];if(null!=o)for(var r=0;r<o.length;r++)if(o[r].func==i&&o[r].owner==n)return!0;return!1},t.dispactchPacket=function(i){null!=i&&(e.Debug.log=i,this.packetSendCacheList.push(i),e.HeartBeat.addListener(t,t.onFireDispactchPacket))},t.onFireDispactchPacket=function(){if(t.packetSendCacheList.length>0){var i=t.packetSendCacheList.shift();e.MessageControler.receivePacket(i);var n=t.packetEventList[t.PREFIX+i.header.messageId];if(null!=n){for(var o=n.length,r=0;o>r;r++)n[r].func.call(n[r].owner,i);t.releasePacket(i)}}0==this.packetSendCacheList.length&&e.HeartBeat.removeListener(t,t.onFireDispactchPacket)},t.dispatch=function(e,i){void 0===i&&(i=null);var n=t.getEvent(e);if(i){var o=null;for(var r in i)"__class__"!=r&&"hashCode"!=r&&"__types__"!=r&&"__proto__"!=r&&(o=i[r],o instanceof Function||n.addItem(r,o))}t.dispatchEvent(n)},t.dispatchEvent=function(i){null!=i&&(t.eventSendCacheList.push(i),e.HeartBeat.addListener(t,t.onFiredispatchEvent))},t.onFiredispatchEvent=function(){if(t.eventSendCacheList.length>0){var i=t.eventSendCacheList.shift();e.MessageControler.receiveEvent(i);var n=t.commEventList[i.type];if(null!=n)for(var o=n.length-1;o>=0;o--)n[o].func.call(n[o].owner,i);t.releaseEvent(i)}0==t.eventSendCacheList.length&&e.HeartBeat.removeListener(t,t.onFiredispatchEvent)},t.removeEventListener=function(e,i,n){var o=t.commEventList[e];if(null!=o)for(var r=0;r<o.length;r++)if(o[r].func==i&&o[r].owner==n){o.splice(r,1);break}},t.addEventListener=function(e,i,n){if(null!=i&&!t.isContainerEventListener(e,i,n)){var o=t.commEventList[e];null==o&&(o=new Array,t.commEventList[""+e]=o),o.push({func:i,owner:n})}},t.isContainerEventListener=function(e,i,n){var o=t.commEventList[""+e];if(null!=o)for(var r=0;r<o.length;r++)if(o[r].func==i&&o[r].owner==n)return!0;return!1},t.PREFIX="PKT_",t.packetEventList={},t.commEventList={},t.eventCachePool={},t.eventSendCacheList=[],t.packetCachePool={},t.packetSendCacheList=[],t}();e.EventManager=t,__reflect(t.prototype,"codeBase.EventManager",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){}return e.SOCKET_CONNECT="SOCKET_CONNECT",e.SOCKET_DISCONNECT_ERROR="SOCKET_DISCONNECT_ERROR",e.SOCKET_DISCONNECT="SOCKET_DISCONNECT",e.SOCKET_SEND_SHOW="SOCKET_SEND_SHOW",e.SOCKET_SEND_HIDE="SOCKET_SEND_HIDE",e.SOCKET_SEND_TIMEOUT="SOCKET_SEND_TIMEOUT",e.STAGE_RESIZE="STAGE_RESIZE",e.UI_CONFIG_VOLUME="UI_CONFIG_VOLUME",e.UI_CONFIG_FULLSCREEN="UI_CONFIG_FULLSCREEN",e.UI_LOADER_COMPLETED="UI_LOADER_COMPLETED",e.MOVIEWCLIP_PLAY="MOVIEWCLIP_PLAY",e.MOVIEWCLIP_PLAY_END="MOVIEWCLIP_PLAY_END",e.UI_DEBUG_OPEN="DEBUG_UI_OPEN",e.UI_DEBUG_CLOSE="DEBUG_UI_CLOSE",e.VOLUME_CHANGED="VOLUME_CHANGED",e.RESOURCE_DOWNLOADED="RESOURCE_DOWNLOADED",e.RESOURCE_PROGRESS="RESOURCE_PROGRESS",e.PROJECT_RES_DOWNLOADED="PROJECT_RES_DOWNLOADED",e.GUIDE_FREEDBACK="GUIDE_FREEDBACK",e.GUIDE_END="GUIDE_END",e.GUIDE_SIMULATE="GUIDE_SIMULATE",e.VIEW_ENTER="VIEW_ENTER",e.VIEW_OUTER="VIEW_OUTER",e.WIN_ENTER="WIN_ENTER",e.WIN_OUTER="WIN_OUTER",e.GUIDE_TASK_TALKING_NOTIFY="GUIDE_TASK_TALKING_NOTIFY",e.GUIDE_PARAM_NOTIFY="GUIDE_PARAM_NOTIFY",e.GUIDE_WIN_CLOSE_NOTIFY="GUIDE_WIN_CLOSE_NOTIFY",e.GUIDE_TASK_CLOSE_NOTIFY="GUIDE_TASK_CLOSE_NOTIFY",e.GUIDE_STOP_ITEM="GUIDE_STOP_ITEM",e.STORY_TALKING="STORY_TALKING",e.STORY_END="STORY_END",e.GUIDE_EVENT_EXE="GUIDE_EVENT_EXE",e.GUIDE_EVENT_END="GUIDE_EVENT_END",e.GUIDE_CHAPTER_END="GUIDE_CHAPTER_END",e.SOUND_COMPLETE="SOUND_COMPLETE",e.SOUND_STOP="SOUND_STOP",e.VIDEO_END="VIDEO_END",e.ERASE_COMPLETE="erase_complete",e.ERASE_CHANGE="erase_change",e.CLOSE_VIDEO="CLOSE_VIDEO",e.LOADINGUI_FINISH="LOADINGUI_FINISH",e}();e.EventType=t,__reflect(t.prototype,"codeBase.EventType",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(e){this.callStack=null,this.type=null,this.datas={},this.type=e}return t.prototype.addItem=function(e,t){this.datas[e]=t},t.prototype.getItem=function(e){return this.datas.hasOwnProperty(e)?this.datas[e]:null},t.prototype.hasItem=function(e){return this.datas.hasOwnProperty(e)},t.prototype.destory=function(){this.callStack=null;for(var e in this.datas)delete this.datas[e]},t.prototype.removeItem=function(e){return this.datas.hasOwnProperty(e)?(delete this.datas[e],!0):!1},t.prototype.send=function(){e.EventManager.dispatchEvent(this)},t.getEvent=function(t){return e.EventManager.getEvent(t)},t.sendEvent=function(t,i){void 0===i&&(i=null),e.EventManager.dispatch(t,i)},t}();e.MyEvent=t,__reflect(t.prototype,"codeBase.MyEvent",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){this.timeout=0,this._url="",this._method="",this.responseType="text",this.withCredentials=!1,this.timeout=3e3}return Object.defineProperty(e.prototype,"responseType",{get:function(){return this._responseType},set:function(e){this._responseType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){if(!this._xhr)return null;if(void 0!=this._xhr.response)return this._xhr.response;if("text"==this._responseType)return this._xhr.responseText;if("arraybuffer"==this._responseType&&/msie 9.0/i.test(navigator.userAgent)){var e=window;return e.convertResponseBodyToText(this._xhr.responseBody)}return"document"==this._responseType?this._xhr.responseXML:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"withCredentials",{get:function(){return this._withCredentials},set:function(e){this._withCredentials=e},enumerable:!1,configurable:!0}),e.prototype.getXHR=function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")},e.prototype.open=function(e,t){void 0===t&&(t="GET"),this._url=e,this._method=t,this._xhr&&(this._xhr.abort(),this._xhr=null);var i=this.getXHR();window.XMLHttpRequest?(i.addEventListener("load",this.onload.bind(this)),i.addEventListener("error",this.onerror.bind(this))):i.onreadystatechange=this.onReadyStateChange.bind(this),i.ontimeout=this.onTimeout.bind(this),i.open(this._method,this._url,!0),this._xhr=i},e.prototype.send=function(e){if(null!=this._responseType&&(this._xhr.responseType=this._responseType),null!=this._withCredentials&&(this._xhr.withCredentials=this._withCredentials),this._headerObj)for(var t in this._headerObj)this._xhr.setRequestHeader(t,this._headerObj[t]);this._xhr.timeout=this.timeout,this._xhr.send(e)},e.prototype.abort=function(){this._xhr&&this._xhr.abort()},e.prototype.getAllResponseHeaders=function(){if(!this._xhr)return null;var e=this._xhr.getAllResponseHeaders();return e?e:""},Object.defineProperty(e.prototype,"headerObj",{get:function(){return this.headerObj},set:function(e){this._headerObj=e},enumerable:!1,configurable:!0}),e.prototype.setRequestHeader=function(e,t){this._headerObj||(this._headerObj={}),this._headerObj[e]=t},e.prototype.getResponseHeader=function(e){if(!this._xhr)return null;var t=this._xhr.getResponseHeader(e);return t?t:""},e.prototype.setCallBackFun=function(e,t){var i=this;i.callBack=e,i.funObj=t},e.prototype.loadFinishCall=function(){var e=this;e.callBack&&(e.callBack.call(e.funObj,e),e.callBack=null)},e.prototype.onTimeout=function(){console.log("请求超时："+this._url),this.loadFinishCall()},e.prototype.onReadyStateChange=function(){var e=this._xhr;if(4==e.readyState){var t=e.status>=400||0==e.status,i=this._url,n=this;window.setTimeout(function(){n.loadFinishCall(),t&&console.log("请求错误："+i)},0)}},e.prototype.updateProgress=function(e){e.lengthComputable},e.prototype.onload=function(){var e=this,t=this._xhr,i=this._url,n=t.status>=400;window.setTimeout(function(){e.loadFinishCall(),n&&console.log("请求错误："+i)},0)},e.prototype.onerror=function(){var e=this._url,t=this;window.setTimeout(function(){t.loadFinishCall(),console.log("请求错误："+e)},0)},e}();e.HttpLoader=t,__reflect(t.prototype,"codeBase.HttpLoader",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(){return t.call(this)||this}return __extends(i,t),i.getInstance=function(){return i.instance||(i.instance=new i),i.instance},i.prototype.load=function(t,i,n,o,r,a,s){void 0===i&&(i=null),void 0===o&&(o="GET"),void 0===r&&(r=null),void 0===a&&(a=!1),void 0===s&&(s=null);var l=this,h=s?s:{},c=i?l.formatParams(i):null,d=t;"get"===o.toLowerCase()?c&&(t.lastIndexOf("?")!=t.length-1&&(d+="?"),d+=c,c=null):h["Content-type"]="application/x-www-form-urlencoded";var u=new e.HttpLoader;return u.setCallBackFun(l.loadFinishCall,l),n.loader=u,u.loadInfo=n,u.open(d,o),u.withCredentials=a,u.responseType=r,u.headerObj=h,u.send(c),u},i.prototype.formatParams=function(e){return e?Object.keys(e).map(function(t){return t+"="+e[t]}).join("&"):null},i.prototype.loadFinishCall=function(e){e.loadInfo&&e.loadInfo.callBack&&e.loadInfo.callBack.call(e.loadInfo.funObj,e.loadInfo)},i}(egret.EventDispatcher);e.Loader=t,__reflect(t.prototype,"codeBase.Loader",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t,t=window.ResourceItem;!function(e){e.TYPE_EXML="exml",e.TYPE_XML="xml",e.TYPE_IMAGE="image",e.TYPE_BIN="bin",e.TYPE_TEXT="text",e.TYPE_JSON="json",e.TYPE_SHEET="sheet",e.TYPE_FONT="font",e.TYPE_SOUND="sound",e.TYPE_TTF="ttf",e.TYPE_ATLAS="atlas",e.TYPE_PKG="pkg";var t=function(){function t(){this._count=0,this.res=null,this.inPool=!1}return t.prototype.getRes=function(){var e=this;return e._count+=1,e.res},t.prototype.relRes=function(){var e=this;e._count-=1,e._count<=0&&console.log("重复释放资源："+e.pathKey)},t.prototype.clear=function(t){var i=this;if(i.type==e.TYPE_IMAGE?i.res.dispose():i.type==e.TYPE_SOUND&&i.res.close(),i.param&&i.param.subRes)for(var n=i.param.subRes.length;--n>-1;)i.param.subRes[n].clear();i.res=null,i.inPool=!0,i._count=0,i.param=null,i.pathKey=null},Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),t.getResObject=function(){var e=new t;return e},t}();e.ResObject=t,__reflect(t.prototype,"codeBase.ResourceItem.ResObject",[]);var i=function(){function e(){this.url=null,this.callBack=null,this.funObj=null,this.responseType="",this.resTag=null,this.loader=null,this.resGroup=null}return e}();e.LoadInfo=i,__reflect(i.prototype,"codeBase.ResourceItem.LoadInfo",[]);var n=function(){function e(){this.groupName=null,this.resNum=0,this.status=0,this.loadInfoArray=[],this.callBack=null,this.funObj=null}return e}();e.ResGroup=n,__reflect(n.prototype,"codeBase.ResourceItem.ResGroup",[])}(t=e.ResourceItem||(e.ResourceItem={})),window.ResourceItem=t;var i=function(i){function n(){var e=i.call(this)||this;return e.resDic={},e.loadPool=[],e.waitPool=[],e._maxLoadNum=5,e.resGroupPool={},e}return __extends(n,i),n.getInstance=function(){return n.inst||(n.inst=new n),n.inst},n.prototype.loadRes=function(e,t,i,o,r){void 0===t&&(t=null),void 0===i&&(i=null),void 0===o&&(o=""),void 0===r&&(r=null);var a=this;n.loadHashCode+=1;var s=a.checkLoadInfo(e);s||(a.loadPool.length<a._maxLoadNum?(s=a.resLoad(e,null,t,i,"get",o,!1,null),a.loadPool.push(s)):a.waitPool.push(s))},n.prototype.checkLoadInfo=function(e){var t=this;if(t.loadPool.length>0)for(var i=0;i<t.loadPool.length;++i){var n=t.loadPool[i];if(n.url===e)return n}if(t.waitPool.length>0)for(var i=0;i<t.waitPool.length;++i){var n=t.waitPool[i];if(n.url===e)return n}return null},Object.defineProperty(n.prototype,"maxLoadNum",{get:function(){return this.maxLoadNum},set:function(e){this.maxLoadNum=e},enumerable:!1,configurable:!0}),n.prototype.resLoad=function(e,n,o,r,a,s,l,h){void 0===n&&(n=null),void 0===a&&(a="GET"),void 0===s&&(s=null),void 0===l&&(l=!1),void 0===h&&(h=null);var c=new t.LoadInfo;return c.url=e,c.callBack=o,c.funObj=r,c.responseType=s,i.prototype.load.call(this,e,n,c,a,s,l),c},n.prototype.resGroupLoad=function(e,n,o,r,a,s,l,h,c){void 0===e&&(e=[]),void 0===o&&(o=null),void 0===s&&(s="GET"),void 0===l&&(l=""),void 0===h&&(h=!1),void 0===c&&(c=null);var d=this;if(d.resGroupPool[n])return void console.log(n+":资源组已经在加载队列中");var u=new t.ResGroup;u.groupName=n,u.callBack=r,u.funObj=a,d.resGroupPool[n]=u;for(var p=0;p<e.length;++p)if(""!=e[p]){var f=d.typeSelector(e[p]),g=l;(f==t.TYPE_IMAGE||f==t.TYPE_SOUND||f==t.TYPE_BIN)&&(g="arraybuffer");var _=new t.LoadInfo;_.url=e[p],_.callBack=r,_.funObj=a,_.responseType=g,_.resGroup=u,u.loadInfoArray.push(_),u.resNum+=1,i.prototype.load.call(this,e[p],o,_,s,g,h)}},n.prototype.loadFinishCall=function(e){var t=this,i=e.loadInfo,n=i.url,o=t.typeSelector(n),r=t.decodeFunction(o);r?r.call(t,i):console.log("无法解析资源类型："+n)},n.prototype.decodePackageRes=function(i){var n=this,o=new t.ResGroup;o.groupName=i.url,o.callBack=i.callBack,o.funObj=i.funObj,n.resGroupPool[o.groupName]=o;var r=i.loader.response,a=new egret.ByteArray(r);a.position=0,a.endian=egret.Endian.LITTLE_ENDIAN;var s=a.readUnsignedShort();o.resNum=s;for(var l=0;s>l;++l){a.endian=egret.Endian.LITTLE_ENDIAN;var h=a.readUnsignedShort(),c=a.readUnsignedInt();a.endian=egret.Endian.BIG_ENDIAN;var d=a.readUTFBytes(h);console.log(d);var u=new egret.ByteArray;a.readBytes(u,0,c);var p=new t.LoadInfo;p.url=d,p.callBack=i.callBack,p.funObj=i.funObj,p.resGroup=o,p.loader=new e.HttpLoader;var f=void 0,g=n.typeSelector(d);g==t.TYPE_IMAGE||g==t.TYPE_SOUND||g==t.TYPE_BIN?(f="arraybuffer",p.buffer=u.buffer):p.buffer=u.readUTFBytes(c),p.responseType=f,o.loadInfoArray.push(p);var _=n.decodeFunction(g);_?_.call(n,p):console.log("无法解析资源类型："+d)}},n.prototype.decodeIMAGE=function(e){var i=this,n=e.loader.response||e.buffer;egret.BitmapData.create("arraybuffer",n,function(o){var r=new egret.Texture;r._setBitmapData(o);var a=t.ResObject.getResObject();a.pathKey=e.url,a.type=t.TYPE_IMAGE,a.res=r,a.buffer=n,i.setRes(a.pathKey,a,e)})},n.prototype.decodeSOUND=function(e){function i(){var i=t.ResObject.getResObject();i.pathKey=e.url,i.type=t.TYPE_SOUND,i.res=r,i.buffer=o,n.setRes(i.pathKey,i,e)}var n=this,o=e.loader.response||e.buffer,r=new egret.Sound,a=new File([o],""),s=window.URL.createObjectURL(a);r.load(s),r.once(egret.Event.COMPLETE,i,n),r.once(egret.IOErrorEvent.IO_ERROR,i,n)},n.prototype.base64ToBlob=function(e,t){for(var i="data:application/"+t+";base64,",n=i+e,o=n.split(","),r=o[0].match(/:(.*?);/),a=(r&&r.length>1?r[1]:t)||t,s=window.atob(o[1]),l=new ArrayBuffer(s.length),h=new Uint8Array(l),c=0;c<s.length;c++)h[c]=s.charCodeAt(c);return new Blob([l],{type:a})},n.prototype.decodeXML=function(e){var i=this,n=e.loader.response||e.buffer,o=egret.XML.parse(n),r=t.ResObject.getResObject();r.pathKey=e.url,r.type=t.TYPE_XML,r.res=o,r.buffer=n,i.setRes(r.pathKey,r,e)},n.prototype.decodeJSON=function(e){var i=this,n=e.loader.response||e.buffer,o=JSON.parse(n),r=t.ResObject.getResObject();r.pathKey=e.url,r.type=t.TYPE_JSON,r.res=o,r.buffer=n,i.setRes(r.pathKey,r,e)},n.prototype.decodeTEXT=function(e){var i=this,n=e.loader.response||e.buffer,o=JSON.parse(n),r=t.ResObject.getResObject();r.pathKey=e.url,r.type=t.TYPE_TEXT,r.res=o,r.buffer=n,i.setRes(r.pathKey,r,e)},n.prototype.decodeFONT=function(){},n.prototype.decodeBIN=function(e){var i=this,n=e.loader.response||e.buffer,o=t.ResObject.getResObject();o.pathKey=e.url,o.type=t.TYPE_BIN,o.res=n,o.buffer=n,i.setRes(o.pathKey,o,e)},n.prototype.decodeATLAS=function(e){var i=this,n=e.loader.response||e.buffer,o=t.ResObject.getResObject();o.pathKey=e.url,o.type=t.TYPE_ATLAS,o.res=n,o.buffer=n,i.setRes(o.pathKey,o,e)},n.prototype.decodeMovieClip=function(e){var t=this,i=JSON.parse(e),n=i.file,o=t.getTexture(n);new egret.MovieClipDataFactory(i,o)},n.prototype.setRes=function(e,t,i){void 0===i&&(i=null);var n=this;n.resDic[e]&&n.resDic[e].clear(),n.resDic[e]=t,i&&(console.log("单个资源加载完成:"+i.url),i.resGroup?(i.resGroup.resNum-=1,i.resGroup.resNum<=0&&(console.log("组资源加载完成:"+i.resGroup.groupName),i.resGroup.status=1,i.resGroup.callBack&&i.resGroup.callBack.call(i.resGroup.funObj,i.resGroup))):i&&i.callBack&&i.callBack.call(i.funObj,i))},n.prototype.getRes=function(e,i){void 0===i&&(i=null);var n=this;void 0===i&&(i=null);var o;if(null==i)o=n.resDic[e];else{if(e=i+"$"+e,o=n.resDic[e],null==o){var r=void 0,a=void 0;if(a=n.resDic[i],a&&null==a.param){var s=n.getRes(i.replace(".png",".json"));if(s){a.param={sheet:new egret.SpriteSheet(a.res),json:s,subRes:[]},r=a.param.sheet;var l=s.res,h=l.frames;for(var c in h){var d=h[c],u=r.createTexture(c,d.x,d.y,d.w,d.h,d.offX,d.offY,d.sourceW,d.sourceH);if(d.scale9grid){var p=d.scale9grid,f=p.split(",");u.scale9Grid=new egret.Rectangle(parseInt(f[0]),parseInt(f[1]),parseInt(f[2]),parseInt(f[3]))}var g=t.ResObject.getResObject();g.res=u,g.pathKey=i+"$"+c,g.type=t.TYPE_IMAGE,a.param.subRes.push(g),n.setRes(g.pathKey,g)}}}}o=n.resDic[e]}return o},n.prototype.getResData=function(e,t){void 0===t&&(t=null)},n.prototype.getTexture=function(e){var t=this,i=t.getRes(e).res;return i},n.prototype.typeSelector=function(e){var i,n=e.substr(e.lastIndexOf(".")+1);switch(n){case t.TYPE_XML:case t.TYPE_JSON:case t.TYPE_SHEET:i=n;break;case"png":case"jpg":case"gif":case"jpeg":case"bmp":i=t.TYPE_IMAGE;break;case"fnt":i=t.TYPE_FONT;break;case"txt":i=t.TYPE_TEXT;break;case"mp3":case"ogg":case"mpeg":case"wav":case"m4a":case"mp4":case"aiff":case"wma":case"mid":i=t.TYPE_SOUND;break;case"mergeJson":case"zip":case"pvr":i=n;break;case"ttf":i=t.TYPE_TTF;break;case"atlas":i=t.TYPE_ATLAS;break;case"pkg":i=t.TYPE_PKG;break;default:i=t.TYPE_BIN}return i},n.prototype.decodeFunction=function(e){var t=this,i={image:t.decodeIMAGE,json:t.decodeJSON,text:t.decodeTEXT,xml:t.decodeXML,font:t.decodeFONT,bin:t.decodeBIN,sound:t.decodeSOUND,movieclip:t.decodeMovieClip,atlas:t.decodeATLAS,pkg:t.decodePackageRes};return i[e]},n.loadHashCode=1,n}(e.Loader);e.ResLoader=i,__reflect(i.prototype,"codeBase.ResLoader",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){this.METHOD_DEF={},this.EVENT_DEF=[],this.initWeekListener()}return e.prototype.initWeekListener=function(){},e.prototype.addHandleEvent=function(e,t){this.EVENT_DEF.indexOf(e)<0&&(this.EVENT_DEF.push(e),this.METHOD_DEF[e]=t)},e.prototype.addHandlePacket=function(e,t){this.METHOD_DEF[""+e]=t},e.prototype.receivePacket=function(e){this.METHOD_DEF.hasOwnProperty(""+e.header.messageId)&&this["onPacket"+this.METHOD_DEF[""+e.header.messageId]].call(this,e)},e.prototype.receiveEvent=function(e){this.EVENT_DEF.indexOf(e.type)>=0&&this.METHOD_DEF.hasOwnProperty(e.type)&&this["onEvent"+this.METHOD_DEF[e.type]].call(this,e)},e}();e.BaseHandle=t,__reflect(t.prototype,"codeBase.BaseHandle",["IHandle"])}(i||(i={})),window.codeBase=i},function(e,t){var i=window.codeBase;window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){}return e.addHandle=function(t){null!=t&&e._handles.indexOf(t)<0&&e._handles.push(t)},e.addEvent=function(t){e._eventHandles.indexOf(t)<0&&e._eventHandles.push(t)},e.receiveEvent=function(e){},e.receivePacket=function(t){var i=0;for(i=0;i<e._handles.length;i++)e._handles[i].receivePacket(t)},e._handles=[],e._eventHandles=[],e}();e.MessageControler=t,__reflect(t.prototype,"codeBase.MessageControler",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t,t=window.easyP2;!function(e){var t=function(){function e(){}return e.createBitmapByName=function(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t.anchorOffsetX=.5*t.width,t.anchorOffsetY=.5*t.height,t},e.createBall=function(e){var t=new egret.Shape;return t.graphics.lineStyle(1,0),t.graphics.beginFill(16773120),t.graphics.drawCircle(e,e,e),t.graphics.moveTo(e,e),t.graphics.lineTo(2*e,e),t.graphics.endFill(),t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,t},e.createBox=function(e,t){console.log("createBox "+e+","+t);var i=new egret.Shape;return i.graphics.lineStyle(1,0),i.graphics.beginFill(16773120),i.graphics.drawRect(0,0,e,t),i.graphics.endFill(),i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.height/2,i},e.createCapsule=function(e,t){console.log("createCapsule len:"+e+",radius:"+t);var i=new egret.Sprite,n=new egret.Shape;n.graphics.lineStyle(1,0),n.graphics.beginFill(16773120),n.graphics.drawCircle(0,t,t),n.graphics.endFill(),n.graphics.beginFill(16773120),n.graphics.drawCircle(e,t,t),n.graphics.endFill(),n.graphics.beginFill(16773120),n.graphics.drawRect(0,0,e,2*t),n.graphics.endFill();var o=n.getBounds();return n.x=-o.x,n.y=-o.y,i.addChild(n),i.anchorOffsetX=.5*i.width,i.anchorOffsetY=.5*i.height,i},e.createPolygon=function(e){var t,i=new egret.Sprite,n=new egret.Shape;for(n.graphics.lineStyle(1,255),t=0;t<e.length;t++){var o=e[t];n.graphics.moveTo(o[0],o[1]);var r=e[(t+1)%e.length];n.graphics.lineTo(r[0],r[1])}var a=n.getBounds();return n.x=-a.x,n.y=-a.y,i.addChild(n),i},e.createHeightField=function(e){var t,i=new egret.Sprite,n=new egret.Shape;for(n.graphics.lineStyle(1,255),t=0;t<e.length-1;t++){var o=e[t];n.graphics.moveTo(o[0],o[1]);var r=e[(t+1)%e.length];n.graphics.lineTo(r[0],r[1])}var a=n.getBounds();return n.x=-a.x,n.y=-a.y,i.addChild(n),i.anchorOffsetX=-a.x,i.anchorOffsetY=-a.y,i
},e.createTouchTf=function(e,t,i,n,o){var r=new egret.TextField;return r.width=i,r.height=n,r.x=e,r.y=t,r.size=16,r.text=o,r.touchEnabled=!0,r},e}();e.DispUtil=t,__reflect(t.prototype,"codeBase.easyP2.DispUtil",[])}(t=e.easyP2||(e.easyP2={})),window.easyP2=t}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t,t=window.easyP2;!function(e){var t=function(){function e(){}return e.init=function(){var e=this;this.dictKeyDn={},document.onkeydown=function(t){e.onkeydown(t)},document.onkeyup=function(t){e.onkeyup(t)}},e.isDown=function(e){return this.dictKeyDn[e]&&1==this.dictKeyDn[e]},e.onkeydown=function(e){var t=window.event?e.keyCode:e.which;this.dictKeyDn[t]=!0},e.onkeyup=function(e){var t=window.event?e.keyCode:e.which;this.dictKeyDn[t]=!1},e.Shift_L=16,e.Ctrl_L=17,e.Alt_L=18,e.UP=38,e.DOWN=40,e.LEFT=37,e.RIGHT=39,e.W=87,e.S=83,e.A=65,e.D=68,e.SPACE=32,e}();e.KeyManager=t,__reflect(t.prototype,"codeBase.easyP2.KeyManager",[])}(t=e.easyP2||(e.easyP2={})),window.easyP2=t}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(i,n,o,r){void 0===r&&(r=!0);var a=t.call(this)||this;return a.stage=i,a.world=o,a.sceneCtn=n,r?(a.mouseBody=e.easyP2.P2Space.addOneBox(a.world,a.sceneCtn,400,400,20,20,0,p2.Body.KINEMATIC),a.mouseBody.shapes[0].collisionMask=0):a.mouseBody=new p2.Body,a.mouseBody.allowSleep=!1,a.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,a.onStageTouchBegin,a),a.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,a.onStageTouchMove,a),a.stage.addEventListener(egret.TouchEvent.TOUCH_END,a.onStageTouchEnd,a),a}return __extends(i,t),i.prototype.onStageTouchBegin=function(t){for(var i=0;i<this.sceneCtn.numChildren;i++){var n=this.sceneCtn.getChildAt(i);if(n.hitTestPoint(t.stageX,t.stageY,!0)){console.log("hit disp");var o=this.getDispP2Body(n);if(o==this.mouseBody)return;if(null==o)return;if(console.log("hit bodyType:"+o.type),o.type==p2.Body.DYNAMIC){o.wakeUp();var r=e.easyP2.P2Space.convertEgretValueToP2(t.stageX),a=e.easyP2.P2Space.convertEgretY_To_P2Y(t.stageY);this.mouseBody.position[0]=r,this.mouseBody.position[1]=a,this.mouseConstraint&&(this.world.removeConstraint(this.mouseConstraint),this.mouseConstraint.bodyA=null,this.mouseConstraint.bodyB=null,this.mouseConstraint=null),this.mouseConstraint=new p2.RevoluteConstraint(this.mouseBody,o,{worldPivot:[r,a]}),this.world.addConstraint(this.mouseConstraint),this.mouseBody.displays&&this.sceneCtn.addChild(this.mouseBody.displays[0])}}}},i.prototype.onStageTouchMove=function(t){if(this.mouseConstraint){var i=e.easyP2.P2Space.convertEgretValueToP2(t.stageX),n=e.easyP2.P2Space.convertEgretY_To_P2Y(t.stageY);this.mouseBody.position[0]=i,this.mouseBody.position[1]=n}},i.prototype.onStageTouchEnd=function(e){this.mouseConstraint&&(this.world.removeConstraint(this.mouseConstraint),this.mouseConstraint.bodyA=null,this.mouseConstraint.bodyB=null,this.mouseConstraint=null)},i.prototype.getDispP2Body=function(e){for(var t,i=0;i<this.world.bodies.length;i++)if(null!=this.world.bodies[i].displays&&this.world.bodies[i].displays[0]==e){t=this.world.bodies[i];break}return t},i}(egret.EventDispatcher);e.MouseJointHelper=t,__reflect(t.prototype,"codeBase.MouseJointHelper",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t,t=window.easyP2;!function(e){var t=function(){function e(){}return e.bodyType_static="static",e.bodyType_dynamic="dynamic",e.bodyType_kinamic="kinamic",e.bodyConnType_ranumber="bodyConnType_ranumber",e.bodyConnType_spring="bodyConnType_spring",e.rigidBodyType_body="body",e.rigidBodyType_concave="concave",e.rigidBodyType_forceField="forceField",e.rigidBodyType_heightField="heightField",e.rigidBodyType_waterField="waterField",e.shapeType_box="shapeType_box",e.shapeType_circle="shapeType_circle",e.shapeType_capsule="shapeType_capsule",e.constraintType_distance="distance",e.constraintType_gear="gear",e.constraintType_lock="lock",e.constraintType_prismatic="prismatic",e.constraintType_revolute="revolute",e.springType_liner="liner",e.springType_rotational="rotational",e}();e.P2Constants=t,__reflect(t.prototype,"codeBase.easyP2.P2Constants",[])}(t=e.easyP2||(e.easyP2={})),window.easyP2=t}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(t,i,n,o){void 0===o&&(o=!0),this.stage=t,this.world=n,this.sceneCtn=i,o?(this.mouseBody=e.easyP2.P2Space.addOneBox(this.world,this.sceneCtn,400,400,20,20,0,p2.Body.KINEMATIC),this.mouseBody.shapes[0].collisionMask=0):this.mouseBody=new p2.Body,this.mouseBody.allowSleep=!1,this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onStageTouchBegin,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageTouchMove,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this)}return t.prototype.onStageTouchBegin=function(t){this.clearConstraint();var i=e.easyP2.P2Space.convertEgretValueToP2(t.stageX),n=e.easyP2.P2Space.convertEgretY_To_P2Y(t.stageY),o=this.world.hitTest([i,n],this.world.bodies,5);if(o.length){var r=o[0];this.mouseBody.position[0]=i,this.mouseBody.position[1]=n,this.mouseConstraint=new p2.RevoluteConstraint(this.mouseBody,r,{worldPivot:[i,n]}),this.mouseConstraint.collideConnected=!1,this.world.addConstraint(this.mouseConstraint)}},t.prototype.onStageTouchMove=function(t){if(this.mouseConstraint){var i=e.easyP2.P2Space.convertEgretValueToP2(t.stageX),n=e.easyP2.P2Space.convertEgretY_To_P2Y(t.stageY);this.mouseBody.position[0]=i,this.mouseBody.position[1]=n}},t.prototype.onStageTouchEnd=function(e){this.clearConstraint()},t.prototype.clearConstraint=function(){this.mouseConstraint&&(this.world.removeConstraint(this.mouseConstraint),this.mouseConstraint.bodyA=null,this.mouseConstraint.bodyB=null,this.mouseConstraint=null)},t}();e.P2MouseJointHelper=t,__reflect(t.prototype,"codeBase.P2MouseJointHelper",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t,t=window.easyP2;!function(e){var t=function(){function t(){}return t.checkIfCanJump=function(e,t){for(var i=!1,n=0;n<e.narrowphase.contactEquations.length;n++){var o=e.narrowphase.contactEquations[n];if(o.bodyA===t||o.bodyB===t){var r=p2.vec2.dot(o.normalA,this.yAxis);o.bodyA===t&&(r*=-1),r>.5&&(i=!0)}}return i},t.updateBodySkin=function(e){if(null!=e.displays&&0!=e.displays.length){var t;if(e.concavePath)t=e.displays[0],t.x=this.convertP2ValueToEgret(e.position[0]),t.y=this.convertP2Y_To_EgretY(e.position[1]),t.rotation=this.convertP2BodyAngleToEgret(e);else if(e.shapes&&e.shapes[0]instanceof p2.Heightfield);else for(var i=0;i<e.displays.length;i++)if(t=e.displays[i]){var n=[0,0];e.toWorldFrame(n,e.shapes[i].position),t.x=this.convertP2ValueToEgret(n[0]),t.y=this.convertP2Y_To_EgretY(n[1]),t.rotation=360-180*(e.angle+e.shapes[i].angle)/Math.PI}}},t.convertP2ValueToEgret=function(e){return e*this.factor},t.convertEgretValueToP2=function(e){return e/this.factor},t.convertEgretY_To_P2Y=function(e){return(this.worldRect.height-e)/this.factor},t.convertP2Y_To_EgretY=function(e){return this.worldRect.height-e*this.factor},t.convertEgretPosToP2=function(e,t){return[e/this.factor,(this.worldRect.height-t)/this.factor]},t.convertBodyPosToEgret=function(e){var t=e.position[0],i=e.position[1];return[t*this.factor,this.worldRect.height-i*this.factor]},t.convertP2BodyAngleToEgret=function(e){var t;return t=360-180*e.angle/Math.PI},t.convertEgretAngleToP2=function(e){var t;return t=(360-e)*Math.PI/180},t.getConcaveEgretRect=function(e){var i=t.getConcaveP2Rect(e),n=t.getYAxisMirroredRect(i);return n.left=n.left*this.factor,n.top=n.top*this.factor,n.width=n.width*this.factor,n.height=n.height*this.factor,n},t.getConcaveP2Rect=function(e){var i,n=e.concavePath;return i=t.getRectFromPathPts(n)},t.getRectFromPathPts=function(e){for(var t,i=new egret.Rectangle,n=e.length,o=0;n>o;o++)t=e[o],t[0]<i.left&&(i.left=t[0]),t[0]>i.right&&(i.right=t[0]),t[1]<i.top&&(i.top=t[1]),t[1]>i.bottom&&(i.bottom=t[1]);return i},t.getYAxisMirroredRect=function(e){var t=new egret.Rectangle;return t.left=e.left,t.right=e.right,t.bottom=-e.top,t.top=-e.bottom,t},t.initSpace=function(e,t){this.factor=e,this.worldRect=t},t.addOneBox=function(t,i,n,o,r,a,s,l,h){void 0===h&&(h=null);var c=e.P2Space.convertEgretValueToP2(n),d=e.P2Space.convertEgretY_To_P2Y(o),u=e.P2Space.convertEgretValueToP2(r),p=e.P2Space.convertEgretValueToP2(a),f=e.P2Space.convertEgretAngleToP2(s),g=new p2.Box({width:u,height:p}),_=new p2.Body({mass:1,position:[c,d],angle:f});_.type=l,_.addShape(g),t.addBody(_);var v=[];if(h){for(var y=0;y<h.length;++y)h[y].anchorOffsetX=h[y].width/2,h[y].anchorOffsetY=h[y].height/2;_.displays=h}else v[0]=e.DispUtil.createBox(r,a),_.displays=v;for(var y=0;y<_.displays.length;++y)i.addChild(_.displays[y]);return _},t.addOneCapsule=function(t,i,n,o,r,a,s,l){var h,c=e.P2Space.convertEgretValueToP2(n),d=e.P2Space.convertEgretY_To_P2Y(o),u=e.P2Space.convertEgretValueToP2(r),p=e.P2Space.convertEgretValueToP2(a),f=e.P2Space.convertEgretAngleToP2(s),g=new p2.Capsule({length:u,radius:p}),_=new p2.Body({mass:1,position:[c,d],angle:f});return _.type=l,_.addShape(g),t.addBody(_),h=e.DispUtil.createCapsule(r,a),_.displays=[h],i.addChild(h),_},t.addOneBall=function(t,i,n,o,r,a,s,l){void 0===l&&(l=[]);var h=e.P2Space.convertEgretValueToP2(n),c=e.P2Space.convertEgretY_To_P2Y(o),d=e.P2Space.convertEgretValueToP2(r),u=e.P2Space.convertEgretAngleToP2(a),p=new p2.Circle({radius:d}),f=new p2.Body({mass:1,position:[h,c],angle:u});f.type=s,f.addShape(p),t.addBody(f);var g=[];if(l){for(var _=0;_<l.length;++_)l[_].anchorOffsetX=l[_].width/2,l[_].anchorOffsetY=l[_].height/2;f.displays=l}else g[0]=e.DispUtil.createBall(r),f.displays=g;for(var _=0;_<f.displays.length;++_)i.addChild(f.displays[_]);return f},t.updateWorldBodiesSkin=function(t){for(var i=(egret.MainContext.instance.stage.stageHeight,t.bodies.length),n=0;i>n;n++){var o=t.bodies[n];if(e.P2Space.updateBodySkin(o),null!=o.displays&&0!=o.displays.length)for(var r=0;r<o.displays.length;r++){var a=o.displays[r];o.sleepState==p2.Body.SLEEPING?a.alpha=.5:a.alpha=1}}},t.yAxis=p2.vec2.fromValues(0,1),t}();e.P2Space=t,__reflect(t.prototype,"codeBase.easyP2.P2Space",[])}(t=e.easyP2||(e.easyP2={})),window.easyP2=t}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t,t=window.easyP2;!function(e){var t=function(){function t(t,i){this.factor=50,this.stage=t,this.dispCtn=i,e.P2Space.initSpace(this.factor,new egret.Rectangle(0,0,this.stage.stageWidth,this.stage.stageHeight)),this.world=new p2.World,this.world.gravity=[0,-20],egret.Ticker.getInstance().register(this.p2RunStep,this),this.dummyBody=new p2.Body,this.world.addBody(this.dummyBody),this.world.on("beginContact",this.onBeginContact,this)}return t.prototype.p2RunStep=function(t){10>t||t>1e3||(this.world.step(t/1e3),e.P2Space.updateWorldBodiesSkin(this.world))},t.prototype.createGround=function(){var e=new p2.Plane,t=new p2.Body;t.type=p2.Body.STATIC,t.addShape(e),t.displays=[],this.world.addBody(t)},t.prototype.onBeginContact=function(e){var t=e.bodyA,i=e.bodyB;console.log(t.id),console.log(i.id)},t.prototype.onEndContact=function(e){e.bodyA,e.bodyB},t}();e.SimpleP2Scene=t,__reflect(t.prototype,"codeBase.easyP2.SimpleP2Scene",[])}(t=e.easyP2||(e.easyP2={})),window.easyP2=t}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(){var e=t.call(this)||this;return e.dirH_touch=0,e.dirV_touch=0,e.jump_touch=0,e.dirH_keyboard=0,e.dirV_keyboard=0,e.jump_keyboard=0,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddedStage,e),e}return __extends(i,t),i.prototype.onAddedStage=function(t){this.setupUI(),e.easyP2.KeyManager.init(),egret.Ticker.getInstance().register(this.update,this)},i.prototype.setupUI=function(){this.btnHor=e.easyP2.DispUtil.createBitmapByName("rect"),this.btnHor.x=.5*this.btnHor.width,this.btnHor.y=.5*this.btnHor.height+100,this.btnHor.touchEnabled=!0,this.addChild(this.btnHor),this.btnHor.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBtnHorTouchBegin,this),this.btnHor.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onBtnHorTouchMove,this),this.btnHor.addEventListener(egret.TouchEvent.TOUCH_END,this.onBtnHorTouchEnd,this),this.btnHor.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onBtnHorTouchEnd,this),this.btnVer=e.easyP2.DispUtil.createBitmapByName("rect"),this.btnVer.x=this.stage.stageWidth-.5*this.btnHor.width,this.btnVer.y=.5*this.btnVer.height+100,this.btnVer.touchEnabled=!0,this.addChild(this.btnVer),this.btnVer.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBtnVerTouchBegin,this),this.btnVer.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onBtnVerTouchMove,this),this.btnVer.addEventListener(egret.TouchEvent.TOUCH_END,this.onBtnVerTouchEnd,this),this.btnVer.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onBtnVerTouchEnd,this),this.btnJump=e.easyP2.DispUtil.createBitmapByName("rect"),this.btnJump.x=.5*this.btnHor.width,this.btnJump.y=this.btnHor.y+this.btnHor.height+100,this.btnJump.touchEnabled=!0,this.addChild(this.btnJump),this.btnJump.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onBtnJumpTouchBegin,this),this.btnJump.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onBtnJumpTouchMove,this),this.btnJump.addEventListener(egret.TouchEvent.TOUCH_END,this.onBtnJumpTouchEnd,this),this.btnJump.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onBtnJumpTouchEnd,this)},i.prototype.onBtnJumpTouchBegin=function(e){this.jump_touch=1},i.prototype.onBtnJumpTouchMove=function(e){this.jump_touch=1},i.prototype.onBtnJumpTouchEnd=function(e){this.jump_touch=0},i.prototype.onBtnHorTouchBegin=function(e){this.updateDirHorizontalValue(e.stageX,e.stageY)},i.prototype.onBtnHorTouchMove=function(e){this.updateDirHorizontalValue(e.stageX,e.stageY)},i.prototype.onBtnHorTouchEnd=function(e){this.dirH_touch=0},i.prototype.updateDirHorizontalValue=function(e,t){var i=this.btnHor.globalToLocal(e,t);i.x>.5*this.btnHor.width?this.dirH_touch=1:this.dirH_touch=-1},i.prototype.onBtnVerTouchBegin=function(e){this.updateDirVerzontalValue(e.stageX,e.stageY)},i.prototype.onBtnVerTouchMove=function(e){this.updateDirVerzontalValue(e.stageY,e.stageY)},i.prototype.onBtnVerTouchEnd=function(e){this.dirV_touch=0},i.prototype.updateDirVerzontalValue=function(e,t){var i=this.btnVer.globalToLocal(e,t);i.y>.5*this.btnVer.height?this.dirV_touch=-1:this.dirV_touch=1},i.prototype.update=function(){e.easyP2.KeyManager.isDown(e.easyP2.KeyManager.UP)?this.dirV_keyboard=1:e.easyP2.KeyManager.isDown(e.easyP2.KeyManager.DOWN)?this.dirV_keyboard=-1:this.dirV_keyboard=0,e.easyP2.KeyManager.isDown(e.easyP2.KeyManager.LEFT)?this.dirH_keyboard=-1:e.easyP2.KeyManager.isDown(e.easyP2.KeyManager.RIGHT)?this.dirH_keyboard=1:this.dirH_keyboard=0,e.easyP2.KeyManager.isDown(e.easyP2.KeyManager.SPACE)?this.jump_keyboard=1:this.jump_keyboard=0;var t;0!=this.dirV_touch&&(t=this.dirV_touch),0!=this.dirV_keyboard&&(t=this.dirV_keyboard);var i;0!=this.dirH_touch&&(i=this.dirH_touch),0!=this.dirH_keyboard&&(i=this.dirH_keyboard);var n;0!=this.jump_touch&&(n=this.jump_touch),0!=this.jump_keyboard&&(n=this.jump_keyboard),null!=this.vehicle&&(this.vehicle.updateSteering(i,t),1==n&&this.vehicle.jump&&this.vehicle.jump())},i}(egret.Sprite);e.VehicleSteeringCtrl=t,__reflect(t.prototype,"codeBase.VehicleSteeringCtrl",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){this.messageId=0,this.code=0}return e}();e.DefaultHeader=t,__reflect(t.prototype,"codeBase.DefaultHeader",["IHeader"])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){}return t.initPacketDefine=function(i){var n=new i;e.EventManager.releasePacket(n),t.setPacketDefine(n.header.messageId,n.clientSide,i)},t.setPacketDefine=function(e,i,n){t.packetDefineDic[(i?"c_":"s_")+e]=n},t.createPacket=function(i,n){e.Debug.log="header->packet:"+i;var o=t.packetDefineDic[(n?"c_":"s_")+i];if(o){var r=new o;return r.header.messageId=i,e.Debug.log="header->packet:"+egret.getQualifiedClassName(r),r}return e.Debug.log="header->packet:NULL",null},t.removePacketDefine=function(e,i){void 0===i&&(i=!0),delete t.packetDefineDic[e+"_"+(i?0:1)]},t.headerClientClz=e.DefaultHeader,t.headerClientLength=6,t.headerServerClz=e.DefaultHeader,t.headerServerLength=6,t.packetDefineDic={},t}();e.PacketFactory=t,__reflect(t.prototype,"codeBase.PacketFactory",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){this._isWebSocket=!1,this.host=null,this.port=0,this._webSocket=null,this.rawByteArrayCache=new Array,this.packetByteArrayCache=new Array,this.packetSendCache=new Array,this.decodeClass=e.DefaultDecoder,this.encodeClass=e.DefaultEncoder,this.loginPkt=null,this.autoConnectDuration=0,this._byteRawBuffer=null,this._byteWaitBuffer=null,this._byteWaitReadLength=!1}return t.getInstance=function(){return null==t._instance&&(t._instance=new e.WebSocket),t._instance},t.prototype.send=function(t){t&&(this.autoConnect(),this.packetSendCache.push(t),e.HeartBeat.addListener(this,this.checkPacketByteArray))},t.prototype.autoConnect=function(){this.port>0&&!this.isConnected()&&null!=this.loginPkt&&this.connect(this.host,this.port)},t.prototype.autoRelogin=function(){if(this.isConnected()&&null!=this.loginPkt){this.packetSendCache.unshift(this.loginPkt);var t=e.ObjectPool.getByClass(this.encodeClass),i=t.encoder(this.loginPkt);e.ObjectPool.recycleClass(t),this._webSocket.writeBytes(i,0,i.length),this._webSocket.flush(),i.clear(),e.ObjectPool.recycleClass(i),this.autoConnectDuration=180}},t.prototype.connect=function(t,i,n){return void 0===n&&(n=!0),this._isWebSocket=n,e.Debug.log="@连接　host＝"+t+", port="+i,this.host=t,this.port=i,this.port<=0||!e.StringUtil.isUsage(this.host)?void(e.Debug.log="[ERROR] port="+this.port+", host="+this.host+",不合法,无法连接!"):void(this._isWebSocket?this.connetWebSockt():this.connetSockt())},t.prototype.connetWebSockt=function(){this.closeWebSocketListener(),this._webSocket=new egret.WebSocket,this._webSocket.type=egret.WebSocket.TYPE_BINARY,this._webSocket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onEventWebSocketProgressSocketDataHandler,this),this._webSocket.addEventListener(egret.Event.CONNECT,this.onEventWebSocketConnectHandler,this),this._webSocket.addEventListener(egret.Event.CLOSE,this.onEventWebSocketCloseHandler,this),this._webSocket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onEventWebSocketErrorHandler,this),this._webSocket.connect(this.host,this.port)},t.prototype.onEventWebSocketCloseHandler=function(t){e.MyEvent.sendEvent(e.EventType.SOCKET_DISCONNECT),e.Debug.log="Socket close:"+t.type,this.close()},t.prototype.onEventWebSocketErrorHandler=function(t){e.MyEvent.sendEvent(e.EventType.SOCKET_DISCONNECT_ERROR),e.Debug.log="Socket error:"+t.type},t.prototype.closeWebSocketListener=function(){this._webSocket&&(this._webSocket.removeEventListener(egret.ProgressEvent.SOCKET_DATA,this.onEventWebSocketProgressSocketDataHandler,this),this._webSocket.removeEventListener(egret.Event.CONNECT,this.onEventWebSocketConnectHandler,this),this._webSocket.removeEventListener(egret.Event.CLOSE,this.onEventWebSocketCloseHandler,this),this._webSocket.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onEventWebSocketErrorHandler,this),this._webSocket.connected&&this._webSocket.close(),this._webSocket=null)},t.prototype.connetSockt=function(){},t.prototype.onEventWebSocketConnectHandler=function(t){e.Debug.log="@@Socket连接完成!";var i=e.MyEvent.getEvent(e.EventType.SOCKET_CONNECT);i.addItem("host",this.host),i.addItem("port",this.port),i.send(),this.autoRelogin()},t.prototype.onEventWebSocketProgressSocketDataHandler=function(i){e.Debug.log="@@--"+egret.getTimer()+"@@接收---ProgressSocketData="+i,this._byteRawBuffer=null,this._byteRawBuffer=new egret.ByteArray,this._byteRawBuffer.endian=t.ENDIAN,this._webSocket&&this._webSocket.readBytes(this._byteRawBuffer),e.Debug.log="byte.len="+this._byteRawBuffer.length,e.Debug.log=e.HexUtil.dump(this._byteRawBuffer),this._byteRawBuffer.position=0,this.rawByteArrayCache.push(this._byteRawBuffer),e.HeartBeat.addListener(this,this.checkPacketByteArray)},t.prototype.isConnected=function(){return this._webSocket?this._webSocket.connected:!1},t.prototype.close=function(){this._isWebSocket&&this._webSocket&&this.closeWebSocketListener()},t.prototype.splitRawByte=function(){var i=0,n=this.rawByteArrayCache.length,o=null;for(i=0;n>i;i++){for(o=this.rawByteArrayCache.shift();o.bytesAvailable>0;)if(null!=this._byteWaitBuffer&&this._byteWaitReadLength){var r=this._byteWaitBuffer.bytesAvailable>o.bytesAvailable?o.bytesAvailable:this._byteWaitBuffer.bytesAvailable;o.readBytes(this._byteWaitBuffer,this._byteWaitBuffer.position,r),this._byteWaitBuffer.position+=r,this._byteWaitBuffer.length==this._byteWaitBuffer.position&&(this._byteWaitBuffer.position=2,e.Debug.log="--@@---收到数据包---长度="+this._byteWaitBuffer.length,e.Debug.log=e.HexUtil.dump(this._byteWaitBuffer),this.packetByteArrayCache.push(this._byteWaitBuffer),this._byteWaitBuffer=null,this._byteWaitReadLength=!1)}else null==this._byteWaitBuffer?(this._byteWaitBuffer=new egret.ByteArray,this._byteWaitBuffer.clear(),this._byteWaitBuffer.endian=t.ENDIAN,o.bytesAvailable>=2?(o.readBytes(this._byteWaitBuffer,0,2),this._byteWaitBuffer.position=0,this._byteWaitBuffer.length=this._byteWaitBuffer.readUnsignedShort()+e.PacketFactory.headerClientLength,this._byteWaitReadLength=!0):(this._byteWaitReadLength=!1,o.readBytes(this._byteWaitBuffer,0,o.bytesAvailable),this._byteWaitBuffer.length=o.bytesAvailable)):(this._byteWaitBuffer.length<2&&o.bytesAvailable>=1&&(this._byteWaitBuffer.position=this._byteWaitBuffer.length,o.readBytes(this._byteWaitBuffer,this._byteWaitBuffer.position,1)),2==this._byteWaitBuffer.length&&(this._byteWaitBuffer.position=0,this._byteWaitBuffer.length=this._byteWaitBuffer.readUnsignedShort()+e.PacketFactory.headerClientLength,this._byteWaitReadLength=!0));o.clear(),e.ObjectPool.recycleClass(o)}},t.prototype.checkPacketByteArray=function(){if(this.autoConnectDuration>0&&this.autoConnectDuration--,this.isConnected()&&0==this.autoConnectDuration)for(;this.packetSendCache.length>0;){var t=this.packetSendCache.shift(),i=e.ObjectPool.getByClass(this.encodeClass),n=i.encoder(t);e.ObjectPool.recycleClass(i),this._isWebSocket&&(this._webSocket.writeBytes(n,0,n.length),this._webSocket.flush()),e.Debug.log="@@--"+egret.getTimer()+"--@@-发送数据 msgid="+t.header.messageId+",长度="+n.length+","+egret.getQualifiedClassName(t),e.Debug.log=e.HexUtil.dump(n),n.clear(),e.ObjectPool.recycleClass(n),e.EventManager.releasePacket(t)}for(this.splitRawByte();this.packetByteArrayCache.length>0;){var o=this.packetByteArrayCache.shift(),r=e.ObjectPool.getByClass(this.decodeClass),a=r.decode(o);o.clear(),e.ObjectPool.recycleClass(o),e.ObjectPool.recycleClass(r),e.EventManager.dispactchPacket(a)}0==this.packetByteArrayCache.length&&0==this.packetSendCache.length&&e.HeartBeat.removeListener(this,this.checkPacketByteArray)},t.ENDIAN=egret.Endian.BIG_ENDIAN,t._instance=null,t}();e.WebSocket=t,__reflect(t.prototype,"codeBase.WebSocket",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){}return t.prototype.decode=function(t){var i=this.decodeMessageId(t),n=e.PacketFactory.createPacket(i,!1);return n&&t.bytesAvailable>0&&this.decodeHeader(t,n),n&&t.bytesAvailable>0&&this.decodeBody(t,n),n},t.prototype.decodeMessageId=function(e){var t=e.readUnsignedShort();return e.position=2,t},t.prototype.decodeHeader=function(e,t){t.clientSide?(t.header.messageId=e.readUnsignedShort(),t.header.code=e.readUnsignedShort()):(t.header.messageId=e.readUnsignedShort(),t.header.code=e.readUnsignedShort())},t.prototype.decodeBody=function(t,i){try{var n=0,o=i.define.length;for(n=0;o>n;n++)this.decodeItem(i.define[n],t,i)}catch(r){e.Debug.log="@--decodeError"+r.message}},t.prototype.readByte=function(e,t,i){i[e.id]=t.readByte()},t.prototype.readUByte=function(e,t,i){i[e.id]=t.readUnsignedByte()},t.prototype.readBoolean=function(e,t,i){var n=t.readUnsignedByte();i[e.id]=!1,1==n&&(i[e.id]=!0)},t.prototype.readUShort=function(e,t,i){i[e.id]=t.readUnsignedShort()},t.prototype.readShort=function(e,t,i){i[e.id]=t.readShort()},t.prototype.readUInt=function(e,t,i){i[e.id]=t.readUnsignedInt()},t.prototype.readInt=function(e,t,i){i[e.id]=t.readInt()},t.prototype.readUInt64=function(e,i,n){var o=0,r=0;r=i.readUnsignedInt(),o=i.readUnsignedInt(),n[e.id]=r*t.MATH_POW_2_32+o},t.prototype.readInt64=function(e,i,n){var o=0,r=0;r=i.readInt(),o=i.readUnsignedInt(),n[e.id]=r*t.MATH_POW_2_32+o},t.prototype.readFloat=function(e,t,i){i[e.id]=t.readFloat()},t.prototype.readUFloat=function(e,t,i){i[e.id]=t.readFloat()},t.prototype.readUDouble=function(e,i,n){var o=0,r=0;o=i.readUnsignedInt(),r=i.readUnsignedInt(),n[e.id]=r*t.MATH_POW_2_32+o},t.prototype.readDouble=function(e,i,n){var o=0,r=0;o=i.readUnsignedInt(),r=i.readInt(),n[e.id]=r*t.MATH_POW_2_32+o},t.prototype.readByteArray=function(t,i,n){var o=i.readUnsignedShort(),r=e.ObjectPool.getByClass(egret.ByteArray);o>0&&i.readBytes(r,0,o),n[t.id]=r},t.prototype.readString=function(e,t,i){i[e.id]=t.readUTF()},t.prototype.readArray=function(t,i,n){var o=0;e.Packet.TYPE_ARRAY_CONST==t.type?o=t.length:e.Packet.TYPE_ARRAY==t.type&&(o=i.readUnsignedShort()),n[t.id].length=0;var r=!1;r="string"==typeof t.entity?!1:!0;var a=0;if(r)for(a=0;o>a;a++)this.readEntityToArray(t,i,n[t.id]);else{var s=null;for(a=0;o>a;a++)s={},this.decodeItem({id:"value",type:e.Packet[t.entity]},i,s),n[t.id].push(s.value)}},t.prototype.readEntity=function(t,i,n){var o=e.ObjectPool.getByClass(t.entity),r=o.define,a=0;for(a=0;a<r.length;a++)this.decodeItem(r[a],i,o);n[t.id]=o},t.prototype.readEntityToArray=function(t,i,n){var o=e.ObjectPool.getByClass(t.entity),r=o.define,a=0;for(a=0;a<r.length;a++)this.decodeItem(r[a],i,o);n.push(o)},t.prototype.decodeItem=function(t,i,n){switch(t.type){case e.Packet.TYPE_BYTE:this.readByte(t,i,n);break;case e.Packet.TYPE_USHORT:this.readUShort(t,i,n);break;case e.Packet.TYPE_SHORT:this.readShort(t,i,n);break;case e.Packet.TYPE_UINT:this.readUInt(t,i,n);break;case e.Packet.TYPE_INT:this.readInt(t,i,n);break;case e.Packet.TYPE_INT64:this.readInt64(t,i,n);break;case e.Packet.TYPE_UINT64:this.readUInt64(t,i,n);break;case e.Packet.TYPE_FLOAT:this.readFloat(t,i,n);break;case e.Packet.TYPE_UFLOAT:this.readUFloat(t,i,n);break;case e.Packet.TYPE_DOUBLE:this.readDouble(t,i,n);break;case e.Packet.TYPE_UDOUBLE:this.readUDouble(t,i,n);break;case e.Packet.TYPE_BYTEARRAY:this.readByteArray(t,i,n);break;case e.Packet.TYPE_STRING:this.readString(t,i,n);break;case e.Packet.TYPE_BOOLEAN:this.readBoolean(t,i,n);break;case e.Packet.TYPE_ARRAY:case e.Packet.TYPE_ARRAY_CONST:this.readArray(t,i,n);break;case e.Packet.TYPE_ENTITY:this.readEntity(t,i,n)}e.Debug.log=t.id+"="+n[t.id]},t.MATH_POW_2_32=4294967296,t}();e.DefaultDecoder=t,__reflect(t.prototype,"codeBase.DefaultDecoder",["IDecoder"])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){}return t.prototype.encoder=function(t){var i=this.encodeBody(t),n=this.encodeHeader(t,i.length);return n.writeBytes(i),i.clear(),e.ObjectPool.recycleClass(i),n},t.prototype.encodeHeader=function(t,i){var n=e.ObjectPool.getByClass(egret.ByteArray);return n.clear(),n.endian=e.WebSocket.ENDIAN,t.clientSide?(n.writeShort(i),n.writeShort(t.header.messageId),n.writeShort(t.header.code)):(n.writeShort(i),n.writeShort(t.header.messageId),n.writeShort(t.header.code)),n},t.prototype.encodeBody=function(t){var i=e.ObjectPool.getByClass(egret.ByteArray);i.clear(),i.endian=e.WebSocket.ENDIAN;var n=0,o=t.define.length;for(n=0;o>n;n++)e.Packet.TYPE_ENTITY==t.define[n].type?this.encodeItem(t.define[n],i,t[t.define[n].id]):this.encodeItem(t.define[n],i,t);return i},t.prototype.writeByte=function(e,t,i){t.writeByte(i[e.id])},t.prototype.writeUByte=function(e,t,i){t.writeByte(i[e.id])},t.prototype.writeBoolean=function(e,t,i){i[e.id]?t.writeByte(1):t.writeByte(0)},t.prototype.writeShort=function(e,t,i){t.writeShort(i[e.id])},t.prototype.writeUShort=function(e,t,i){t.writeShort(i[e.id])},t.prototype.writeInt=function(e,t,i){t.writeInt(i[e.id])},t.prototype.writeUInt=function(e,t,i){t.writeUnsignedInt(i[e.id])},t.prototype.writeUInt64=function(t,i,n){var o=n[t.id],r=parseInt(""+o),a=(o-r)/e.Packet.MATH_POW_2_32;i.writeUnsignedInt(a),i.writeUnsignedInt(r)},t.prototype.writeInt64=function(t,i,n){var o=n[t.id],r=parseInt(""+o),a=parseInt(""+(o-r)/e.Packet.MATH_POW_2_32);i.writeInt(a),i.writeUnsignedInt(r)},t.prototype.writeUFloat=function(e,t,i){t.writeFloat(i[e.id])},t.prototype.writeFloat=function(e,t,i){t.writeFloat(i[e.id])},t.prototype.writeUDouble=function(t,i,n){var o=n[t.id],r=parseInt(""+o),a=(o-r)/e.Packet.MATH_POW_2_32,s=e.ObjectPool.getByClass(egret.ByteArray);s.clear(),s.endian=e.WebSocket.ENDIAN,s.writeUnsignedInt(r),s.writeUnsignedInt(a),i.writeBytes(s,0,s.bytesAvailable),s.clear(),e.ObjectPool.recycleClass(s)},t.prototype.writeDouble=function(t,i,n){var o=n[t.id],r=parseInt(""+o),a=(o-r)/e.Packet.MATH_POW_2_32,s=e.ObjectPool.getByClass(egret.ByteArray);s.clear(),s.endian=e.WebSocket.ENDIAN,s.writeUnsignedInt(r),s.writeInt(a),i.writeBytes(s,0,s.bytesAvailable),s.clear(),e.ObjectPool.recycleClass(s)},t.prototype.writeString=function(e,t,i){t.writeUTF(null==i[e.id]?"":i[e.id])},t.prototype.writeByteArray=function(e,t,i){t.writeShort(i[e.id].length),i[e.id].length>0&&t.writeBytes(i[e.id])},t.prototype.writeArray=function(t,i,n){var o=n[t.id],r=o.length;e.Packet.TYPE_ARRAY_CONST==t.type&&(r=t.length),i.writeShort(r);var a=0,s=!1,l=null;for(s="string"==typeof t.entity?!1:!0,a=0;r>a;a++)s?this.writeEntity(t,i,o[a]):(l={},l.value=o[a],this.encodeItem({id:"value",type:e.Packet[t.entity]},i,l))},t.prototype.writeEntity=function(e,t,i){if(i){var n=i.define,o=0;for(o=0;o<n.length;o++)this.encodeItem(n[o],t,i)}},t.prototype.encodeItem=function(t,i,n){switch(t.type){case e.Packet.TYPE_BYTE:this.writeByte(t,i,n);break;case e.Packet.TYPE_SHORT:this.writeShort(t,i,n);break;case e.Packet.TYPE_USHORT:this.writeUShort(t,i,n);break;case e.Packet.TYPE_UINT:this.writeUInt(t,i,n);break;case e.Packet.TYPE_INT:this.writeInt(t,i,n);break;case e.Packet.TYPE_INT64:this.writeInt64(t,i,n);break;case e.Packet.TYPE_UINT64:this.writeUInt64(t,i,n);break;case e.Packet.TYPE_FLOAT:this.writeFloat(t,i,n);break;case e.Packet.TYPE_UFLOAT:this.writeUFloat(t,i,n);break;case e.Packet.TYPE_UDOUBLE:this.writeUDouble(t,i,n);break;case e.Packet.TYPE_DOUBLE:this.writeDouble(t,i,n);break;case e.Packet.TYPE_BOOLEAN:this.writeBoolean(t,i,n);break;case e.Packet.TYPE_BYTEARRAY:this.writeByteArray(t,i,n);break;case e.Packet.TYPE_STRING:this.writeString(t,i,n);break;case e.Packet.TYPE_ARRAY:case e.Packet.TYPE_ARRAY_CONST:this.writeArray(t,i,n);break;case e.Packet.TYPE_ENTITY:this.writeEntity(t,i,n)}},t}();e.DefaultEncoder=t,__reflect(t.prototype,"codeBase.DefaultEncoder",["IEncoder"])}(i||(i={})),window.codeBase=i},function(e,t){var i=window.codeBase;window.codeBase=i},function(e,t){var i=window.codeBase;window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){this.define=new Array}return e.prototype.destory=function(){},e}();e.BaseEntity=t,__reflect(t.prototype,"codeBase.BaseEntity",[])}(i||(i={})),window.codeBase=i},function(e,t){var i=window.codeBase;window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(e,t){void 0===e&&(e=0),void 0===t&&(t=!0),this.header=null,this.define=new Array,this._clientSide=!0,this.clientSide=t,this.header.messageId=e}return Object.defineProperty(t.prototype,"isSuccess",{get:function(){return 0==this.header.code?!0:!1},enumerable:!1,configurable:!0}),t.prototype.send=function(){this.clientSide?e.WebSocket.getInstance().send(this):e.EventManager.dispactchPacket(this)
},Object.defineProperty(t.prototype,"clientSide",{get:function(){return this._clientSide},set:function(t){this._clientSide=t,this.clientSide?this.header=new e.PacketFactory.headerClientClz:this.header=new e.PacketFactory.headerServerClz},enumerable:!1,configurable:!0}),t.prototype.destory=function(){},t.TYPE_BOOLEAN="boolean",t.TYPE_BYTE="byte",t.TYPE_USHORT="ushort",t.TYPE_SHORT="short",t.TYPE_UINT="uint",t.TYPE_INT="int",t.TYPE_UINT64="uint64",t.TYPE_INT64="int64",t.TYPE_FLOAT="float",t.TYPE_UFLOAT="ufloat",t.TYPE_DOUBLE="double",t.TYPE_UDOUBLE="udouble",t.TYPE_STRING="string",t.TYPE_ARRAY="array",t.TYPE_ARRAY_CONST="array_const",t.TYPE_BYTEARRAY="bytearray",t.TYPE_ENTITY="entity",t.CHARSET_ASCII="ASCII",t.CHARSET_UNICODE="Unicode",t.CHARSET=t.CHARSET_UNICODE,t.MATH_POW_2_32=4294967296,t}();e.Packet=t,__reflect(t.prototype,"codeBase.Packet",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){}return t.play=function(i,n,o,r,a){if(void 0===n&&(n=0),void 0===o&&(o=1),void 0===r&&(r=null),void 0===a&&(a=null),e.GlobalSetting.VOLUME_OPEN&&e.StringUtil.isUsage(i)){if(0==o&&t._soundDict[i])return t._soundDict[i];var s=RES.getRes(i);if(s){var l=s.play(n,o);return t._soundDict[i]={channel:l,loops:0>=o,num:o,func:r,thisObj:a},l.addEventListener(egret.Event.SOUND_COMPLETE,t.onSoundComplete,t),r&&a&&l.addEventListener(egret.Event.SOUND_COMPLETE,r,a),l}}return null},t.volume=function(i,n){if(e.StringUtil.isUsage(i)&&t._soundDict[i]){var o=t._soundDict[i];o.channel&&(o.channel.volume=n)}},t.onSoundComplete=function(i){var n=i.currentTarget,o=null;for(var r in t._soundDict)if(o.channel==n){if(!o.loops&&(o.num--,0==o.num&&n.hasEventListener(egret.Event.SOUND_COMPLETE))){o=t._soundDict[r];var a=e.MyEvent.getEvent(e.EventType.SOUND_COMPLETE);a.addItem("name",r),a.send(),n.removeEventListener(egret.Event.SOUND_COMPLETE,t.onSoundComplete,t),delete t._soundDict[r],o.func&&o.thisObj&&n.removeEventListener(egret.Event.SOUND_COMPLETE,o.func,o.thisObj),o.func=null,o.thisObj=null,o.channel=null}break}},t.stop=function(i){if(e.StringUtil.isUsage(i)&&t._soundDict[i]){var n=t._soundDict[i];if(n.channel){n.channel.hasEventListener(egret.Event.SOUND_COMPLETE)&&(n.channel.removeEventListener(egret.Event.SOUND_COMPLETE,t.onSoundComplete,t),n.func&&n.thisObj&&n.channel.removeEventListener(egret.Event.SOUND_COMPLETE,n.func,n.thisObj)),n.channel.stop(),n.func=null,n.thisObj=null,n.channel=null;var o=e.MyEvent.getEvent(e.EventType.SOUND_STOP);o.addItem("name",i),o.send(),delete t._soundDict[i]}}},t._soundDict={},t}();e.Sound=t,__reflect(t.prototype,"codeBase.Sound",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){this.soundRootUrl=e.GameUtil.Instance.remoteResUrl+"/resource/assets/Sound/",this.pauseTime=0,this.soundChannelArr=[],this.musicVolume=1,this.effectVolume=1,this.titleVolume=.5}return Object.defineProperty(t,"Instance",{get:function(){return t.instance||(t.instance=new t,t.instance.modulePath="",t.instance.init()),t.instance},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this;document.addEventListener("visibilitychange",function(){"visible"==document.visibilityState&&e.viewIn(),"hidden"==document.visibilityState&&e.viewOut()})},t.prototype.frontBackChange=function(e){if(null!=e){var t=this;e.data&&(1==e.data.type?t.viewOut():2==e.data.type&&t.viewIn())}},t.prototype.viewIn=function(){this.resumeSound()},t.prototype.viewOut=function(){this.pauseSound()},t.prototype.playRightWrongSound=function(e){void 0===e&&(e=0),0==e?this.PlaySoundByName("rightBeep"):this.PlaySoundByName("wrongBeep")},t.prototype.playClickSound=function(){this.PlaySoundByName("click")},t.prototype.PlaySoundByName=function(e,t,i,n,o,r,a){void 0===t&&(t=1),void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=0),void 0===r&&(r=!1),void 0===a&&(a=!1);var s=this;a&&s.stopAllSound();for(var l,h=s.soundChannelArr.length,c=0;h>c&&(l=s.soundChannelArr[c],l.name!==e);++c)l=null;if(null==l){var d=RES.getRes(s.modulePath+"/sound/"+e+".mp3"),u=d.play(0,t);l={name:e,sound:d,soundChannel:u,callBack:i,thisObj:n},s.soundChannelArr.push(l)}else{if(0!=l.soundChannel.position)return void(r&&(l.soundChannel.stop(),l.soundChannel=l.sound.play(0,t)));l.soundChannel=l.sound.play(0,t)}0==o?l.soundChannel.volume=s.effectVolume:l.soundChannel.volume=o,i&&n&&(l.callBack=i,l.thisObj=n,l.soundChannel.addEventListener(egret.Event.SOUND_COMPLETE,s.playEnd,s))},t.prototype.playEnd=function(e){for(var t,i=this,n=e.target,o=i.soundChannelArr.length,r=0;o>r;++r){t=i.soundChannelArr[r];var a=t.sound.originChannel;n==a&&t.callBack&&t.thisObj&&(t.callBack.call(t.thisObj),a.removeEventListener(egret.Event.SOUND_COMPLETE,t.callBack,t.thisObj),t.callBack=null,t.thisObj=null)}},t.prototype.stopAllSound=function(){var e=this;e.stopSoundByName()},t.prototype.pauseSound=function(){for(var e,t=this,i=t.soundChannelArr.length,n=0;i>n;++n){e=t.soundChannelArr[n];var o=e.soundChannel;o&&o.position>0&&(e.callBack&&e.thisObj&&o.hasEventListener(egret.Event.SOUND_COMPLETE)&&o.removeEventListener(egret.Event.SOUND_COMPLETE,e.callBack,e.thisObj),e.pause=!0,e.position=o.position,o.stop(),o=null)}},t.prototype.resumeSound=function(){for(var e,t=this,i=t.soundChannelArr.length,n=0;i>n;++n)e=t.soundChannelArr[n],e.pause&&(e.pause=!1,e.soundChannel=e.sound.play(e.position,e.playTimes),e.callBack&&e.thisObj&&e.soundChannel.once(egret.Event.SOUND_COMPLETE,e.callBack,e.thisObj))},t.prototype.PlaySoundOnce=function(e,t,i){void 0===t&&(t=1),void 0===i&&(i=0);var n=this,o=RES.getRes(n.modulePath+"/sound/"+e+".mp3"),r=o.play(0,t);return 0==i?r.volume=n.effectVolume:r.volume=i,r},t.prototype.stopSoundByName=function(e){void 0===e&&(e=null);for(var t,i=this,n=i.soundChannelArr.length,o=0;n>o;++o)if(t=i.soundChannelArr[o],!e||t.name==e){var r=t.soundChannel;t.callBack&&t.thisObj&&r.hasEventListener(egret.Event.SOUND_COMPLETE)&&(r.removeEventListener(egret.Event.SOUND_COMPLETE,t.callBack,t.thisObj),t.callBack=null,t.thisObj=null),r.stop(),r.position=0}},t.prototype.dispose=function(){for(var e,t=this,i=t.soundChannelArr.length,n=0;i>n;++n){e=t.soundChannelArr[n];var o=e.soundChannel;e.callBack&&e.thisObj&&o.hasEventListener(egret.Event.SOUND_COMPLETE)&&o.removeEventListener(egret.Event.SOUND_COMPLETE,e.callBack,e.thisObj),o.stop(),e.sound.close()}t.soundChannelArr.length=0},t}();e.SoundManager=t,__reflect(t.prototype,"codeBase.SoundManager",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(){var n=t.call(this)||this;return n._textureLabel=null,n._textureIcon=null,n._label=null,n._text="",n._texture=null,n._imgDisplay=null,n._imgLabel=null,n._imgIcon=null,n._initDisplayData=!1,n._selected=!1,n._toggleGroup=null,n.stateArray=[i.STATE_UP],n._currentState=i.STATE_UP,n._textureDict={},n._verticalSplit=!0,n._labelMarginLeft=0,n._labelMarginTop=0,n._iconMarginLeft=0,n._iconMarginTop=0,n._autoSize=!1,n._labelColor=e.Style.BUTTON_TEXT,n._labelBold=!1,n._labelItalic=!1,n._labelLineSpacing=0,n._labelMultiline=!1,n._labelStroke=0,n._labelStrokeColor=13136,n._fontSize=12,n._fontName=null,n._scale9GridEnable=!1,n._scale9GridRect=null,n._fillMode="scale",n._soundName="sound_button",n._testPixelEnable=!1,n}return __extends(i,t),i.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.touchEnabled=!0,this.touchChildren=!1,this._imgDisplay=new egret.Bitmap,this.addChild(this._imgDisplay),this._imgDisplay.width=this.width,this._imgDisplay.height=this.height,this._imgDisplay.fillMode=this._fillMode,this._imgDisplay.touchEnabled=!1,this._label=new e.Label,this._label.autoSize=!0,this._label.clip=!1,this._label.hAlign=egret.HorizontalAlign.CENTER,this._label.vAlign=egret.VerticalAlign.MIDDLE,this._label.showBg=!1,this.addChild(this._label),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchRleaseOutside,this),this.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchRleaseOutside,this)},i.prototype.onTouchEvent=function(t){if(!this.enabled)return void t.stopImmediatePropagation();if(e.GlobalSetting.STATS_BTN){var n=egret.getDefinitionByName("StatsUtil");n&&n.trackEvent("btn","touch",this.name,0)}if(t.currentTarget==this){if(this._testPixelEnable&&!this.testPixel32(t.localX,t.localY))return void t.stopImmediatePropagation();e.StringUtil.isUsage(this._toggleGroup)?(t.type==egret.TouchEvent.TOUCH_BEGIN&&(this.selected=!this._selected),this.onPlaySound()):(t.type==egret.TouchEvent.TOUCH_BEGIN?(this._currentState=i.STATE_DOWN,this.callClickFunction(),this.onPlaySound()):t.type==egret.TouchEvent.TOUCH_END?this._currentState=i.STATE_UP:t.type==egret.TouchEvent.TOUCH_MOVE&&(this._currentState=i.STATE_OVER),1==this.statesLength&&this._currentState==i.STATE_DOWN?this.alpha=.8:this.alpha=1)}this.invalidate()},i.prototype.onTouchRleaseOutside=function(t){(!e.StringUtil.isUsage(this._toggleGroup)||e.StringUtil.isUsage(this._toggleGroup)&&!this._selected)&&(this._currentState=i.STATE_UP,this.invalidate(),this.scaleX=1,this.scaleY=1,this.alpha=1)},i.prototype.setClickFunction=function(e,t){this.clickFun=e,this.clickFunObj=t},i.prototype.callClickFunction=function(){this.clickFun&&this.clickFunObj&&this.clickFun.call(this.clickFunObj,this)},Object.defineProperty(i.prototype,"currentState",{get:function(){return this._currentState},set:function(e){this._currentState!=e&&(this._currentState=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!=e&&(this._initDisplayData=!1,this._texture=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fillMode",{get:function(){return this._fillMode},set:function(e){this._fillMode!=e&&(this._fillMode=e,this.invalidate())},enumerable:!1,configurable:!0}),i.prototype.scale9GridRect=function(){return this._scale9GridRect},i.prototype.scale9Grid=function(e){if(void 0===e&&(e=[]),4==e.length){null==this._scale9GridRect&&(this._scale9GridRect=new egret.Rectangle);var t=e[0],i=e[2],n=this.width-(e[0]+e[1]),o=this.height-(e[2]+e[3]);this._scale9GridRect.x=t,this._scale9GridRect.y=i,this._scale9GridRect.width=n,this._scale9GridRect.height=o}else this._scale9GridRect=null;this.invalidate()},i.prototype.draw=function(){this._initDisplayData||(this._texture||(null==i.DEFAULT_TEXTURE&&this.initDefaultTexture(),this._texture=i.DEFAULT_TEXTURE),this.splitTextureSource()),null!=this._imgDisplay&&(1==this.statesLength&&this._currentState==i.STATE_DOWN?this._imgDisplay.texture=this._textureDict[i.STATE_UP]:this._imgDisplay.texture=this._textureDict[this._currentState],null!=this._scale9GridRect?this._imgDisplay.scale9Grid=this._scale9GridRect:this._imgDisplay.scale9Grid=null,this._imgDisplay.fillMode=this._fillMode,this._imgDisplay.width=this.width,this._imgDisplay.height=this.height,this._imgDisplay.anchorOffsetX=this._imgDisplay.width/2,this._imgDisplay.anchorOffsetY=this._imgDisplay.height/2,this._imgDisplay.x=this.width/2,this._imgDisplay.y=this.height/2,null!=this._textureLabel&&(null==this._imgLabel&&(this._imgLabel=new egret.Bitmap,this._imgLabel.touchEnabled=!1,this.addChild(this._imgLabel)),this._imgLabel.texture=this._textureLabel,isNaN(this._labelMarginLeft)?this._imgLabel.x=(this.width-this._imgLabel.width)/2:this._imgLabel.x=this._labelMarginLeft,isNaN(this._labelMarginTop)?this._imgLabel.y=(this.height-this._imgLabel.height)/2:this._imgLabel.y=this._labelMarginTop),null!=this._textureIcon&&(null==this._imgIcon&&(this._imgIcon=new egret.Bitmap(null),this._imgIcon.touchEnabled=!1,this.addChild(this._imgIcon)),this._imgIcon.texture=this._textureIcon,isNaN(this._iconMarginLeft)?this._imgIcon.x=(this.width-this._imgIcon.width)/2:this._imgIcon.x=this._iconMarginLeft,isNaN(this._iconMarginTop)?this._imgIcon.y=(this.height-this._imgIcon.height)/2:this._imgIcon.y=this._iconMarginTop),this._label&&(this._label.parent||this.addChild(this._label),this._label.text=this._text,this._label.fontSize=this._fontSize,this._label.fontName=this._fontName,this._label.bold=this._labelBold,this._label.italic=this._labelItalic,this._label.lineSpacing=this._labelLineSpacing,this._label.multiline=this._labelMultiline,this._label.stroke=this._labelStroke,this._label.strokeColor=this._labelStrokeColor,this._label.onInvalidate(null),isNaN(this._labelMarginLeft)?this._label.x=(this.width-this._label.width)/2:this._label.x=this._labelMarginLeft,isNaN(this._labelMarginTop)?this._label.y=(this.height-this._label.height)/2:this._label.y=this._labelMarginTop))},i.prototype.initDefaultTexture=function(){if(null==i.DEFAULT_TEXTURE){this.setSize(e.Style.BUTTON_DEFAULT_WIDTH,e.Style.BUTTON_DEFAULT_HEIGHT);var t=new egret.Shape;t.width=this.width,t.height=this.height,t.graphics.beginFill(e.Style.BUTTON_FACE),t.graphics.drawRect(0,0,this.width,this.height),t.graphics.endFill(),t.graphics.lineStyle(1,0),t.graphics.drawRect(0,0,this.width-1,this.height-1);var n=new egret.RenderTexture;n.drawToTexture(t),i.DEFAULT_TEXTURE=n}},i.prototype.splitTextureSource=function(){if(this._texture){this._initDisplayData=!0;var e=0,t=0,i=this._texture.textureWidth,n=this._texture.textureHeight;if(1==this.stateArray.length)e=i,t=n,this._textureDict[this.stateArray[0]]=this._texture;else{var o=0,r=0,a=0;this._verticalSplit?(e=i,t=n/this.statesLength):(e=i/this.statesLength,t=n);var s=new egret.SpriteSheet(this._texture);for(o=0;o<this.stateArray.length;o++)this._verticalSplit?this._textureDict[this.stateArray[o]]=s.createTexture(this.name+Math.round(999999*Math.random())+"_"+this.stateArray[o],r,a+o*t,e,t):this._textureDict[this.stateArray[o]]=s.createTexture(this.name+Math.round(999999*Math.random())+"_"+this.stateArray[o],r+o*e,a,e,t)}this._autoSize&&(this.width=e,this.height=t)}},Object.defineProperty(i.prototype,"upSkin",{get:function(){return this._textureDict[i.STATE_UP]},set:function(e){this.isStateExist(i.STATE_UP)||this.stateArray.push(i.STATE_UP),this._textureDict[i.STATE_UP]=e,this.invalidate()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"overSkin",{get:function(){return this._textureDict[i.STATE_OVER]},set:function(e){this.isStateExist(i.STATE_OVER)||this.stateArray.push(i.STATE_OVER),this._textureDict[i.STATE_OVER]=e,this.invalidate()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"downSkin",{get:function(){return this._textureDict[i.STATE_DOWN]},set:function(e){this.isStateExist(i.STATE_DOWN)||this.stateArray.push(i.STATE_DOWN),this._textureDict[i.STATE_DOWN]=e,this.invalidate()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"disableSkin",{get:function(){return this._textureDict[i.STATE_DISABLE]},set:function(e){this.isStateExist(i.STATE_DISABLE)||this.stateArray.push(i.STATE_DISABLE),this._textureDict[i.STATE_DISABLE]=e,this.invalidate()},enumerable:!1,configurable:!0}),i.prototype.isStateExist=function(e){return-1!=this.stateArray.indexOf(e)?!0:!1},Object.defineProperty(i.prototype,"label",{get:function(){return this._text},set:function(e){this._text=e,this._label&&(this._label.text=this._text),this.invalidate()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){return this._selected},set:function(t){if(this._selected=t,this._currentState=this._selected?i.STATE_DOWN:i.STATE_UP,this._selected&&e.StringUtil.isUsage(this._toggleGroup)){var n=e.MyEvent.getEvent(i.TOGGLE_PREFIX+this._toggleGroup);n.addItem("caller",this),n.addItem("group",this._toggleGroup),n.send()}this.invalidate()},enumerable:!1,configurable:!0}),i.prototype.setStatus=function(e){void 0===e&&(e=[]);var t=0==e.length?1:e.length;switch(t){case 1:this.stateArray=[i.STATE_UP];break;case 2:this.stateArray=[i.STATE_UP,i.STATE_DOWN];break;case 3:this.stateArray=[i.STATE_UP,i.STATE_DOWN,i.STATE_OVER];break;case 4:this.stateArray=[i.STATE_UP,i.STATE_DOWN,i.STATE_OVER,i.STATE_DISABLE]}if(this._initDisplayData=!1,e.length>0){this._initDisplayData=!0;for(var n=0;n<this.stateArray.length;++n){if(!e[n]){this._initDisplayData=!1,console.warn("指定的状态数和状态图片数不一致");break}this._textureDict[this.stateArray[n]]=e[n]}}this._initDisplayData&&this.setSize(e[0].textureWidth,e[0].textureHeight),this.invalidate()},Object.defineProperty(i.prototype,"statesLength",{get:function(){return this.stateArray.length},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"imgLabel",{get:function(){return this._textureLabel},set:function(e){this._textureLabel!=e&&(this._textureLabel=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"imgIcon",{get:function(){return this._textureIcon},set:function(e){this._textureIcon!=e&&(this._textureIcon=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelColor",{get:function(){return this._labelColor},set:function(e){this._labelColor!=e&&(this._labelColor=e,this._label&&(this._label.color=e),this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontName",{get:function(){return this._fontName},set:function(e){this._fontName!=e&&(this._fontName=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!=e&&(this._fontSize=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelMarginLeft",{get:function(){return this._labelMarginLeft},set:function(e){this._labelMarginLeft!=e&&(this._labelMarginLeft=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelMarginTop",{get:function(){return this._labelMarginTop},set:function(e){this._labelMarginTop!=e&&(this._labelMarginTop=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"iconMarginLeft",{get:function(){return this._iconMarginLeft},set:function(e){this._iconMarginLeft!=e&&(this._iconMarginLeft=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"iconMarginTop",{get:function(){return this._iconMarginTop},set:function(e){this._iconMarginTop!=e&&(this._iconMarginTop=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){this._autoSize!=e&&(this._autoSize=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"toggleGroup",{get:function(){return this._toggleGroup},set:function(t){e.StringUtil.isUsage(this._toggleGroup)&&e.EventManager.removeEventListener(i.TOGGLE_PREFIX+this._toggleGroup,this.onEventToggle,this),this._toggleGroup=t,e.StringUtil.isUsage(this._toggleGroup)&&e.EventManager.addEventListener(i.TOGGLE_PREFIX+this._toggleGroup,this.onEventToggle,this)},enumerable:!1,configurable:!0}),i.prototype.onEventToggle=function(t){e.StringUtil.isUsage(this._toggleGroup)&&t.getItem("group")==this._toggleGroup&&(t.getItem("caller")!=this?(this._selected=!1,this._currentState=i.STATE_UP,this.invalidate()):this.clickFun&&this.clickFunObj&&this.clickFun.call(this.clickFunObj,t))},i.prototype.setSize=function(e,i){t.prototype.setSize.call(this,e,i)},i.prototype.onPlaySound=function(){e.StringUtil.isUsage(this._soundName)&&e.Sound.play(this._soundName)},Object.defineProperty(i.prototype,"sound",{get:function(){return this._soundName},set:function(e){this._soundName=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"drawDelay",{set:function(e){this._label&&(this._label.drawDelay=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelBold",{get:function(){return this._labelBold},set:function(e){this._labelBold!=e&&(this._labelBold=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelItalic",{get:function(){return this._labelItalic},set:function(e){this._labelItalic!=e&&(this._labelItalic=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelLineSpacing",{get:function(){return this._labelLineSpacing},set:function(e){this._labelLineSpacing!=e&&(this._labelLineSpacing=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelMultiline",{get:function(){return this._labelMultiline},set:function(e){this._labelMultiline!=e&&(this._labelMultiline=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelStroke",{get:function(){return this._labelStroke},set:function(e){this._labelStroke!=e&&(this._labelStroke=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelStrokeColor",{get:function(){return this._labelStrokeColor},set:function(e){this._labelStrokeColor!=e&&(this._labelStrokeColor=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"testPixelEnable",{get:function(){return this._testPixelEnable},set:function(e){this._testPixelEnable=e},enumerable:!1,configurable:!0}),i.prototype.getPixel32=function(e,t){var i,n=this.globalToLocal(e,t),o=null;this._imgDisplay&&this._imgDisplay.texture&&(o=this._imgDisplay.texture.getPixel32(n.x,n.y));for(var r=0;r<o.length;r++)if(o[r]>0)return i=!0,o;this._imgLabel&&this._imgLabel.texture&&(o=this._imgLabel.texture.getPixel32(e,t));for(var r=0;r<o.length;r++)if(o[r]>0)return i=!0,o;this._imgIcon&&this._imgIcon.texture&&(o=this._imgIcon.texture.getPixel32(e,t));for(var r=0;r<o.length;r++)if(o[r]>0)return i=!0,o;return[]},i.prototype.testPixel32=function(e,t){for(var i=this.getPixel32(e,t),n=0;n<i.length;n++)if(i[n]>0)return!0;return!1},i.TOGGLE_PREFIX="ui#button#toggle_",i.DEFAULT_TEXTURE=null,i.STATE_UP="up",i.STATE_DOWN="down",i.STATE_OVER="over",i.STATE_DISABLE="disable",i}(e.BaseGroup);e.Button=t,__reflect(t.prototype,"codeBase.Button",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t._gap=0,t._hAlign=egret.HorizontalAlign.LEFT,t._vAlign=egret.VerticalAlign.MIDDLE,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.invalidate()},Object.defineProperty(t.prototype,"gap",{get:function(){return this._gap},set:function(e){this._gap!=e&&(this._gap=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hAlign",{get:function(){return this._hAlign},set:function(e){this._hAlign!=e&&(this._hAlign=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vAlign",{get:function(){return this._vAlign},set:function(e){this._vAlign!=e&&(this._vAlign=e,this.invalidate())},enumerable:!1,configurable:!0}),t.prototype.draw=function(){e.prototype.draw.call(this),this.updateLayout(),this._showBg&&this.addChildAt(this._bgImage,0)},t.prototype.updateLayout=function(){var e=0,t=null,i=null,n=0;for(e=0;e<this.numChildren;e++)this.getChildAt(e)!=this._bgImage&&(n+=this.getChildAt(e).width);n+=(this.numChildren-1)*this._gap;var o=!0;for(e=0;e<this.numChildren;e++)t=this.getChildAt(e),t!=this._bgImage&&(o?(o=!1,this._hAlign==egret.HorizontalAlign.LEFT?t.x=0:this._hAlign==egret.HorizontalAlign.CENTER?t.x=(this.width-n)/2:this._hAlign==egret.HorizontalAlign.RIGHT&&(t.x=this.width-n)):(i=this.getChildAt(e-1),t.x=i.x+i.width+this.gap),this._vAlign==egret.VerticalAlign.TOP?t.y=0:this._vAlign==egret.VerticalAlign.MIDDLE?t.y=(this.height-t.height)/2:this._vAlign==egret.VerticalAlign.BOTTOM&&(t.y=this.height-t.height))},t}(e.Group);e.HGroup=t,__reflect(t.prototype,"codeBase.HGroup",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t._bitmap=null,t._texture=null,t._autoSize=!0,t._scale9GridRect=null,t.scale9RectData=[],t._fillMode=egret.BitmapFillMode.SCALE,t._smoothing=!1,t.explicitWidth=0/0,t.explicitHeight=0/0,t._bitmap=new egret.Bitmap,t._bitmap.fillMode=egret.BitmapFillMode.SCALE,t.addChild(t._bitmap),t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this)},Object.defineProperty(t.prototype,"fillMode",{get:function(){return this._fillMode},set:function(e){this._fillMode!=e&&(this._fillMode=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){this._autoSize!=e&&(this._autoSize=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){var t=this;t._texture!=e&&(t._texture=e,t.draw(),t.onInvalidatePosition())},enumerable:!1,configurable:!0}),t.prototype.scale9Grid=function(e){void 0===e&&(e=[]);4==e.length?this.scale9RectData=e.concat():this.scale9RectData.length=0,this.invalidate()},t.prototype.scale9Rect=function(){var e=new egret.Rectangle;return e.x=1,e.y=1,e.width=1,e.height=1,e},Object.defineProperty(t.prototype,"smoothing",{get:function(){return this._smoothing},set:function(e){this._smoothing!=e&&(this._smoothing=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.$getWidth()},set:function(t){0>t||t==this.explicitWidth||(this.explicitWidth=t,e.prototype.$setWidth.call(this,t),this.onInvalidatePosition(),this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.$getHeight()},set:function(t){0>t||t==this.explicitHeight||(this.explicitHeight=t,e.prototype.$setHeight.call(this,t),this.onInvalidatePosition(),this.invalidate())},enumerable:!1,configurable:!0}),t.prototype.draw=function(){var e=this;e._bitmap&&null!=e._texture&&(e._bitmap.texture!=e._texture&&(e._bitmap.texture=e._texture,isNaN(e.explicitWidth)&&(e.width=e._bitmap.texture.textureWidth),isNaN(e.explicitHeight)&&(e.height=e._bitmap.texture.textureHeight)),e._bitmap.fillMode=e._fillMode,4==e.scale9RectData.length?(null==e._scale9GridRect&&(e._scale9GridRect=e.scale9Rect()),e._scale9GridRect.x=e.scale9RectData[0],e._scale9GridRect.y=e.scale9RectData[2],e._scale9GridRect.width=e._bitmap.texture.$getTextureWidth()-(e.scale9RectData[0]+e.scale9RectData[1]),e._scale9GridRect.height=e._bitmap.texture.$getTextureHeight()-(e.scale9RectData[2]+e.scale9RectData[3]),e._bitmap.scale9Grid=e._scale9GridRect,e._bitmap.scaleX=1,e._bitmap.scaleY=1):e._bitmap.scale9Grid=null,e._fillMode!=egret.BitmapFillMode.SCALE?(e._bitmap.width=e.width,e._bitmap.height=e.height):(e._bitmap.scaleX=e.width/e._bitmap.texture.textureWidth,this._bitmap.scaleY=e.height/e._bitmap.texture.textureHeight))},t.prototype.getBitmap=function(){return this._bitmap},t.prototype.getPixel32=function(e,t){if(this._bitmap&&this._bitmap.texture){var i=this.globalToLocal(e,t);return this._bitmap.texture.getPixel32(i.x,i.y)}return[]},t.prototype.testPixel32=function(e,t){for(var i=this.getPixel32(e,t),n=0;n<i.length;n++)if(i[n]>0)return!0;return!1},t}(e.BaseGroup);e.Image=t,__reflect(t.prototype,"codeBase.Image",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.numberImages=[],t.numberImagePool=[],t.numberTexture={},t}return __extends(t,e),t.prototype.init=function(e,t,i,n){void 0===t&&(t=""),void 0===i&&(i="top"),void 0===n&&(n="left");var o=this;o.imageAlias=e,o.sheetAlias=t,o.verticalAlign=i.toLowerCase(),o.horizontalAlign=n.toLowerCase()},t.prototype.show=function(e,t,i,n){void 0===n&&(n=null);var o=this;o.parent!=e&&e.addChild(o),o.x=t,o.y=i,o.numberValue=n,o.setNumber()},Object.defineProperty(t.prototype,"text",{get:function(){var e=this;return e.numberValue},set:function(e){var t=this;t.numberValue!=e&&(t.numberValue=e,t.setNumber())},enumerable:!1,configurable:!0}),t.prototype.setNumber=function(){var e=this;if(e.numberImages.length>0){for(var t=0;t<e.numberImages.length;++t)e.removeChild(e.numberImages[t]),e.numberImagePool.push(e.numberImages[t]);e.numberImages.length=0}if(e.numberValue&&e.numberValue.length>0){for(var i,n=e.numberValue.length,o=void 0,r=void 0,a=0,s=0,l=n/2,t=0;n>t;++t)i=e.numberValue[t],o=e.numberImagePool.length>0?e.numberImagePool.pop():new egret.Bitmap,r=e.numberTexture[e.imageAlias+i],r||(r=RES.getRes(e.sheetAlias+("."+(e.imageAlias+i)))),o.texture=r,o&&(e.addChild(o),"left"==e.horizontalAlign?o.x=0+t*o.width:"center"==e.horizontalAlign?o.x=0+(t-l)*o.width:"right"==e.horizontalAlign&&(o.x=0-(t+1)*o.width),"top"==e.verticalAlign?o.y=0:"middle"==e.verticalAlign?o.y=0-o.height/2:"bottom"==e.verticalAlign&&(o.y=0-o.height),e.numberImages.push(o),a+=o.width,s=o.height);e.width=a,e.height=s}},t.prototype.hide=function(){var e=this;e.parent&&e.parent.removeChild(e)},t}(egret.Sprite);e.ImageNumber=t,__reflect(t.prototype,"codeBase.ImageNumber",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i._text="",i._textField=null,i._initFlow=null,i._htmlTextParser=null,i._fontSize=e.Style.fontSize,i._color=e.Style.LABEL_TEXT,i._fontName=e.Style.fontName,i._hAlign=egret.HorizontalAlign.LEFT,i._vAlign=egret.VerticalAlign.MIDDLE,i._bold=!1,i._italic=!1,i._lineSpacing=0,i._multiline=!1,i._wordWrap=!1,i._stroke=0,i._strokeColor=13136,i._html=!1,i._autoSize=!0,i._paddingLeft=0,i._paddingRight=0,i._paddingTop=0,i._paddingBottom=0,i._textField=new egret.TextField,i._textField.addEventListener(egret.Event.CHANGE,i.onTextChange,i),i.addChild(i._textField),i}return __extends(i,t),i.prototype.createChildren=function(){t.prototype.createChildren.call(this)},i.prototype.initData=function(){t.prototype.initData.call(this)},i.prototype.onTextChange=function(e){this._text=this._textField.text},Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(e){this._text!=e&&(this._text=e,this._html?null==this._text?(this._text="",this._initFlow=[]):(null==this._htmlTextParser&&(this._htmlTextParser=new egret.HtmlTextParser),this._initFlow=this._htmlTextParser.parser(this._text)):null==this._text&&(this._text=""),this.draw())},enumerable:!1,configurable:!0}),i.prototype.getTextField=function(){return this._textField},i.prototype.draw=function(){if(null!=this._textField){if(null!=this._fontName&&(this._textField.fontFamily=this.fontName),this._color>=0&&(this._textField.textColor=this._color),this._fontSize>0&&(this._textField.size=this._fontSize),this._textField.bold=this._bold,this._textField.italic=this._italic,this._textField.multiline=this._multiline,this._textField.lineSpacing=this._lineSpacing,this._textField.stroke=this._stroke,this._textField.strokeColor=this._strokeColor,this._textField.wordWrap=this._wordWrap,this._html?(this._initFlow&&(this._textField.textFlow=this._initFlow),this._initFlow=null):this._textField.text=this._text,this._autoSize)this.setSize(this._textField.measuredWidth,this._textField.measuredHeight);else{this._textField.width=this.width,this._textField.height=this.height;var e=this._textField.width-this._paddingLeft-this._paddingRight,i=this._textField.height-this._paddingTop-this._paddingBottom;this._textField.width=e,this._textField.height=i,this._textField.x=this._paddingLeft,this._textField.y=this._paddingTop}this._textField.textAlign=this._hAlign,this._textField.verticalAlign=this._vAlign,t.prototype.draw.call(this)}},Object.defineProperty(i.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(e){this._paddingLeft!=e&&(this._paddingLeft=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(e){this._paddingRight!=e&&(this._paddingRight=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingTop",{get:function(){return this._paddingTop
},set:function(e){this._paddingTop!=e&&(this._paddingTop=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingBottom",{get:function(){return this._paddingBottom},set:function(e){this._paddingBottom!=e&&(this._paddingBottom=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!=e&&(this._wordWrap=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"italic",{get:function(){return this._italic},set:function(e){this._italic!=e&&(this._italic=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bold",{get:function(){return this._bold},set:function(e){this._bold!=e&&(this._bold=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontName",{get:function(){return this._fontName},set:function(e){this._fontName!=e&&(this._fontName=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!=e&&(this._fontSize=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){return this._color},set:function(e){this._color!=e&&(this._color=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(e){this._lineSpacing!=e&&(this._lineSpacing=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"multiline",{get:function(){return this._multiline},set:function(e){this._multiline!=e&&(this._multiline=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!=e&&(this._stroke=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(e){this._strokeColor!=e&&(this._strokeColor=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){this._autoSize!=e&&(this._autoSize=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hAlign",{get:function(){return this._hAlign},set:function(e){this._hAlign!=e&&(this._hAlign=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"vAlign",{get:function(){return this._vAlign},set:function(e){this._vAlign!=e&&(this._vAlign=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"html",{get:function(){return this._html},set:function(e){this._html!=e&&(this._html=e,this.invalidate())},enumerable:!1,configurable:!0}),i}(e.Group);e.Label=t,__reflect(t.prototype,"codeBase.Label",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._text="",e._textureDict={},e._texture=null,e._shape=null,e._initDisplayData=!1,e._chars="0,1,2,3,4,5,6,7,8,9",e._charSplit=",",e._horizontalSplit=!0,e._gapSplit=0,e._soundName=null,e._sound=null,e._rollingEnable=!1,e._rollingZoomEnable=!1,e._rollingZoomValue=1.5,e._rollingZoomAlign=egret.HorizontalAlign.CENTER,e._rollingEffect=null,e._step=0,e._callbackFunc=null,e._callbackFuncThis=null,e}return __extends(n,t),n.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.setSize(e.Style.TEXTINPUT_WIDTH,e.Style.TEXTINPUT_HEIGHT)},Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(e){this._text!=e&&(this._rollingEnable?(null==this._rollingEffect&&(this._rollingEffect=new i(this),this._rollingEffect.zoomEnable=this._rollingZoomEnable,this._rollingEffect.zoomValue=this._rollingZoomValue,this._rollingEffect.zoomAlign=this._rollingZoomAlign,this._rollingEffect.callbackFunc=this._callbackFunc,this._rollingEffect.callbackFuncThis=this._callbackFuncThis),this._rollingEffect.clean(),this._rollingEffect.setText(e,this._step)):(this._rollingEffect&&this._rollingEffect.clean(e),this.setText(e)))},enumerable:!1,configurable:!0}),n.prototype.setText=function(e){this._text=""+e,null==this._text&&(this._text=""),this.invalidate(),this.onPlaySound()},Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!=e&&(this._texture=e,this._initDisplayData=!1,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"chars",{get:function(){return this._chars},set:function(e){this._chars!=e&&(this._chars=e,this._initDisplayData=!1,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"step",{get:function(){return this._step},set:function(e){this._step!=e&&(this._step=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"horizontalSplit",{get:function(){return this._horizontalSplit},set:function(e){this._horizontalSplit!=e&&(this._horizontalSplit=e,this._initDisplayData=!1,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"gapSplit",{get:function(){return this._gapSplit},set:function(e){this._gapSplit!=e&&(this._gapSplit=e,this._initDisplayData=!1,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"charSplit",{get:function(){return this._charSplit},set:function(e){this._charSplit!=e&&(this._charSplit=e,this._initDisplayData=!1,this.invalidate())},enumerable:!1,configurable:!0}),n.prototype.draw=function(){this._initDisplayData||this.splitTextureSource(),this._bgImage&&this._bgImage.parent&&this._bgImage.parent.removeChild(this._bgImage);for(var i=null,n=this.numChildren-1;n>=0;n--)i=this.getChildAt(n),i.texture=null,i.parent.removeChild(i),e.ObjectPool.recycleClass(i,"labelimg");var o=null;if(e.StringUtil.isUsage(this._text))for(var n=0;n<this._text.length;n++)o=this._textureDict[this._text.charAt(n)],o&&(i=e.ObjectPool.getByClass(egret.Bitmap,"labelimg"),this.addChild(i),i.texture=o,i.width=o.textureWidth,i.height=o.textureHeight,i.visible=!0,i.alpha=1);t.prototype.draw.call(this)},n.prototype.splitTextureSource=function(){if(this._texture&&e.StringUtil.isUsage(this._chars)){var t=e.StringUtil.splitStrArr(this._chars,this._charSplit);if(t.length>0){this._initDisplayData=!0;var i=new egret.SpriteSheet(this._texture),n=0,o=0,r=this._texture.textureWidth,a=this._texture.textureHeight;this._horizontalSplit?(n=(r-t.length*this._gapSplit)/t.length,o=a):(n=r,o=(a-t.length*this._gapSplit)/t.length);for(var s=0;s<t.length;s++)this._horizontalSplit?this._textureDict[t[s]]=i.createTexture(this.name+Math.round(999999*Math.random())+"_"+t[s],s*n+s*this._gapSplit,0,n,o):this._textureDict[t[s]]=i.createTexture(this.name+Math.round(999999*Math.random())+"_"+t[s],0,s*o+s*this._gapSplit,n,o)}}},n.prototype.onPlaySound=function(){null==this._sound&&e.StringUtil.isUsage(this._soundName)&&(this._sound=RES.getRes(this._soundName)),this._sound&&this._sound.play()},Object.defineProperty(n.prototype,"sound",{get:function(){return this._soundName},set:function(e){this._soundName=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rollingEnable",{get:function(){return this._rollingEnable},set:function(e){this._rollingEnable=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rollingZoomEnable",{get:function(){return this._rollingZoomEnable},set:function(e){this._rollingZoomEnable=e,this._rollingEffect&&(this._rollingEffect.zoomEnable=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rollingZoomValue",{get:function(){return this._rollingZoomValue},set:function(e){this._rollingZoomValue=e,this._rollingEffect&&(this._rollingEffect.zoomValue=e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rollingZoomAlign",{get:function(){return this._rollingZoomAlign},set:function(e){this._rollingZoomAlign=e,this._rollingEffect&&(this._rollingEffect.zoomAlign=e)},enumerable:!1,configurable:!0}),n.prototype.onInvalidatePosition=function(){this._hasInvalidatePosition||(this._hasInvalidatePosition=!0,this.addEventListener(egret.Event.ENTER_FRAME,this.resetPosition,this))},n.prototype.setRollingEndFunc=function(e,t){this._callbackFunc=t,this._callbackFuncThis=e,this._rollingEffect&&(this._rollingEffect.callbackFunc=this._callbackFunc,this._rollingEffect.callbackFuncThis=this._callbackFuncThis)},n.prototype.removeRollingEndFunc=function(){this._callbackFunc=null,this._callbackFuncThis=null,this._rollingEffect&&(this._rollingEffect.callbackFunc=this._callbackFunc,this._rollingEffect.callbackFuncThis=this._callbackFuncThis)},n}(e.HGroup);e.LabelImage=t,__reflect(t.prototype,"codeBase.LabelImage",[]);var i=function(){function t(e){this.zoomEnable=!1,this.zoomValue=1,this.zoomAlign=egret.HorizontalAlign.CENTER,this._isZoom=!1,this._zoomXOld=1,this._zoomYOld=1,this._xScale=1,this._yScale=1,this._xOld=1,this._yOld=1,this._labelImg=null,this._rollingText=[],this.callbackFunc=null,this.callbackFuncThis=null,this._labelImg=e,this._xOld=this._labelImg.x,this._yOld=this._labelImg.y}return t.prototype.clean=function(t){void 0===t&&(t=null),this._rollingText.length>0&&(this._labelImg.setText(this._rollingText[this._rollingText.length-1]),this._lastRollString=this._rollingText[this._rollingText.length-1]),this._rollingText.length=0,e.StringUtil.isUsage(t)&&(this._lastRollString=t)},t.prototype.setText=function(t,i){var n=this._labelImg.text;this._labelLength=parseInt(t);var o=this._labelLength+"";if(o.length==t.length){this._rollingText.length>0?(this._labelImg.setText(this._rollingText[this._rollingText.length-1]),this._lastRollString=this._rollingText[this._rollingText.length-1]):this._lastRollString=n,this._rollingText.length=0;var r,a,s=0;if(s=i>0?i:this.getStepValue(parseInt(this._lastRollString),parseInt(t)),r=parseInt(this._lastRollString)+s,a=r+"",this._rollingText.push(a),s>0)for(;parseInt(this._rollingText[this._rollingText.length-1])<parseInt(t);)s+parseInt(this._rollingText[this._rollingText.length-1])<parseInt(t)?(r+=s,a=r+""):(r=parseInt(t),a=r+""),this._rollingText.push(a);else if(0>s)for(;parseInt(this._rollingText[this._rollingText.length-1])>parseInt(t);)s+parseInt(this._rollingText[this._rollingText.length-1])>parseInt(t)?(r+=s,a=r+""):(r=parseInt(t),a=r+""),this._rollingText.push(a)}this.zoomEnable&&1!=this.zoomValue&&(this._labelImg.scaleX=this.zoomValue,this._labelImg.scaleY=this.zoomValue,this.zoomValue>1?(this._xScale=this._xOld-this._labelImg.width*(this._labelImg.scaleX-1),this._yScale=this._yOld-this._labelImg.height*(this._labelImg.scaleX-1)):this.zoomValue<1&&(this._xScale=this._xOld+this._labelImg.width*(this._labelImg.scaleX-1),this._yScale=this._yOld+this._labelImg.height*(this._labelImg.scaleX-1)),this.zoomValue>1?"center"==this.zoomAlign?(this._labelImg.x=this._xOld-this._labelImg.width*(this._labelImg.scaleX-1)/2,this._labelImg.y=this._yOld-this._labelImg.height*(this._labelImg.scaleY-1)/2):"left"==this.zoomAlign?this._labelImg.y=this._yOld-this._labelImg.height*(this._labelImg.scaleY-1)/2:"right"==this.zoomAlign&&(this._labelImg.x=this._xOld-this._labelImg.width*(this._labelImg.scaleX-1),this._labelImg.y=this._yOld-this._labelImg.height*(this._labelImg.scaleY-1)/2):this.zoomValue<1&&("center"==this.zoomAlign?(this._labelImg.x=this._xOld+this._labelImg.width*(this._labelImg.scaleX-1)/2,this._labelImg.y=this._yOld+this._labelImg.height*(this._labelImg.scaleY-1)/2):"left"==this.zoomAlign?this._labelImg.y=this._yOld+this._labelImg.height*(this._labelImg.scaleY-1)/2:"right"==this.zoomAlign&&(this._labelImg.x=this._xOld+this._labelImg.width*(this._labelImg.scaleX-1),this._labelImg.y=this._yOld+this._labelImg.height*(this._labelImg.scaleY-1)/2)),this._isZoom=!0),e.HeartBeat.addListener(this,this.onChangeText,3)},t.prototype.getStepValue=function(e,t){var i=Math.abs(e-t),n=1;return n=30>i?1:60>i?2:100>i?3:200>i?5:400>i?10:800>i?20:1500>i?30:2500>i?40:3500>i?50:Math.floor(Math.round(i/200)+50),e>t&&(n=-n),console.log("step="+n),n},t.prototype.onChangeText=function(){if(this._rollingText.length>0)this._labelImg.setText(this._rollingText.shift());else{if(e.HeartBeat.removeListener(this,this.onChangeText),this._isZoom){var t={scaleX:this._zoomXOld,scaleY:this._zoomYOld};0==this._labelImg.anchorOffsetX&&(t.x=this._xOld),0==this._labelImg.anchorOffsetY&&(t.y=this._yOld),egret.Tween.get(this._labelImg).to(t,200)}this._isZoom=!1,this.callbackFunc&&this.callbackFuncThis&&this.callbackFunc.call(this.callbackFuncThis)}},t}();__reflect(i.prototype,"codeBase.EffectNumberRolling",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i.METHOD_DEF={},i._itemRenderer=e.DefaultRenderer,i._itemContainer=null,i._gap=2,i._direction=e.Style.VERTICAL,i._dataIndexBegin=0,i._dataIndexEnd=0,i._itemDatas=null,i._dataIndexToRender=null,i._autoSize=!1,i._marginTop=4,i._marginBottom=4,i._marginLeft=4,i._marginRight=4,i._line=1,i._lineGap=0,i._effect=null,i._isDragBegin=!1,i._isMoveBegin=!1,i._moveCount=0,i._dragBeginPoint=null,i._dragLastTime=0,i.bounceBack=!1,i._autoScrollGap=0,i._autoScrollStep=0,i._lastTimeNum=0,i._selected=null,i._fixed=!1,i._data_end_func_call=null,i._data_end_func_this=null,i}return __extends(i,t),i.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.touchEnabled=!0,this._itemContainer=new e.BaseGroup,this._itemContainer.touchEnabled=!0,this.addChild(this._itemContainer),this._itemContainer.scrollRect=new egret.Rectangle(0,0,this.width,this.height),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBeginEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMoveEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEndEvent,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchReleaseOutsideEvent,this),this._dragBeginPoint=new egret.Point,this.addHandleEvent(e.EventType.RESOURCE_DOWNLOADED,"onMyEventResDownloaded"),this.touchNonePixel=!0},i.prototype.addHandleEvent=function(t,i){e.MessageControler.addEvent(t),this.METHOD_DEF[t]=i},i.prototype.receiveEvent=function(e){for(var t=null,i=0;i<this._itemContainer.numChildren;i++)t=this._itemContainer.getChildAt(i),t.refresh&&t.refresh()},i.prototype.onTouchBeginEvent=function(t){this._itemDatas&&0!=this._itemDatas.length&&(this._isDragBegin=!0,this._isMoveBegin=!1,this._lastTimeNum=0,this._moveCount=0,this._dragBeginPoint.x=t.stageX,this._dragBeginPoint.y=t.stageY,this._dragLastTime=egret.getTimer(),e.HeartBeat.removeListener(this,this.onAutoScroll))},i.prototype.onTouchMoveEvent=function(t){if(this._itemDatas&&0!=this._itemDatas.length&&!this.bounceBack){if(this._isDragBegin&&(this._isMoveBegin=!0,this._moveCount++,this.moveItemUIPosition(t.stageX-this._dragBeginPoint.x,t.stageY-this._dragBeginPoint.y)),this._direction==e.Style.VERTICAL){if(this._autoScrollGap=t.stageY-this._dragBeginPoint.y,t.stageY<=this.getGlobalXY().y||t.stageY>=this.getGlobalXY().y+this.height)return void this.onTouchEndEvent(t)}else if(this._autoScrollGap=t.stageX-this._dragBeginPoint.x,t.stageX<=this.getGlobalXY().x||t.stageX>=this.getGlobalXY().x+this.width)return void this.onTouchEndEvent(t);this._lastTimeNum=egret.getTimer()-this._dragLastTime,this._dragBeginPoint.x=t.stageX,this._dragBeginPoint.y=t.stageY,this._dragLastTime=egret.getTimer()}},i.prototype.onTouchReleaseOutsideEvent=function(e){this.onTouchEndEvent(e)},i.prototype.onTouchEndEvent=function(t){var i=this;if(console.log("onTouchEndEvent this._dataIndexBegin="+i._dataIndexBegin+", this._dataIndexEnd="+i._dataIndexEnd),i._isDragBegin&&(!i._isMoveBegin||i._moveCount<4&&Math.abs(t.stageX-i._dragBeginPoint.x)<5&&Math.abs(t.stageY-i._dragBeginPoint.y)<5)){for(var n=null,o=i._itemContainer.globalToLocal(t.stageX,t.stageY),r=0;r<i._itemContainer.numChildren;r++)if(n=i._itemContainer.getChildAt(r),n.x<o.x&&n.y<o.y&&n.x+n.width>o.x&&n.y+n.height>o.y)try{i.selected=n._data,console.log(n.dataIndex);break}catch(a){}return i._isDragBegin=!1,void(i._isMoveBegin=!1)}return i._isDragBegin=!1,i._isMoveBegin=!1,i._lastTimeNum<40&&(i._dataIndexBegin>0&&i._autoScrollGap>0||i._itemDatas&&i._dataIndexEnd<i._itemDatas.length-1&&i._autoScrollGap<0)?(i._autoScrollGap=i._autoScrollGap/i._lastTimeNum*10,void e.HeartBeat.addListener(i,i.onAutoScroll)):void i.checkBounceBack()},i.prototype.onAutoScroll=function(){this._direction==e.Style.VERTICAL?this.moveItemUIPosition(0,this._autoScrollGap):this.moveItemUIPosition(this._autoScrollGap,0),this._autoScrollGap-=this._autoScrollGap/20,(Math.abs(this._autoScrollGap)<.5||0==this._dataIndexBegin||this._dataIndexEnd==this._itemDatas.length-1)&&(e.HeartBeat.removeListener(this,this.onAutoScroll),this.checkBounceBack())},i.prototype.checkBounceBack=function(){if(this._itemContainer.numChildren>0&&this._itemDatas&&this._itemDatas.length>0&&(0==this._dataIndexBegin||this._dataIndexEnd>=this._itemDatas.length-1)){var t=0;if(0==this._dataIndexBegin){if(t=this._direction==e.Style.VERTICAL?this._itemContainer.getChildAt(0).y:this._itemContainer.getChildAt(0).x,0>t&&this._dataIndexEnd!=this._itemDatas.length-1)return}else if(this._dataIndexEnd==this._itemDatas.length-1&&(t=this._direction==e.Style.VERTICAL?this._itemContainer.getChildAt(this._itemContainer.numChildren-1).y+this._itemContainer.getChildAt(this._itemContainer.numChildren-1).height-this._itemContainer.height:this._itemContainer.getChildAt(this._itemContainer.numChildren-1).x+this._itemContainer.getChildAt(this._itemContainer.numChildren-1).width-this._itemContainer.width,t>0&&0!=this._dataIndexBegin))return;0!=t&&(this.bounceBack=!0,this._autoScrollStep=Number((-t/5).toFixed(2)),this._autoScrollGap=Number(Math.abs(t).toFixed(2)),e.HeartBeat.addListener(this,this.doBounceBack))}},i.prototype.doBounceBack=function(){this._autoScrollGap<Math.abs(this._autoScrollStep)&&(this._autoScrollStep=this._autoScrollStep>0?this._autoScrollGap:-this._autoScrollGap),this._direction==e.Style.VERTICAL?this.moveItemUIPosition(0,this._autoScrollStep):this.moveItemUIPosition(this._autoScrollStep,0),this._autoScrollGap-=Math.abs(this._autoScrollStep),this._autoScrollGap<=0&&(this.bounceBack&&(this.bounceBack=!1),this._autoScrollStep=0,this._autoScrollGap=0,e.HeartBeat.removeListener(this,this.doBounceBack))},i.prototype.removeRender=function(t){if(t){for(var i in this._dataIndexToRender)if(this._dataIndexToRender[i]===t){delete this._dataIndexToRender[i];break}try{t.data=null,t.list=null}catch(n){}t&&t.parent&&t.parent.removeChild(t),e.ObjectPool.recycleClass(t,"list_"+this.name)}},i.prototype.moveItemUIPosition=function(t,i){for(var n=null,o=0,r=this._itemContainer.numChildren-1;r>=0;r--)n=this._itemContainer.getChildAt(r),this._direction==e.Style.VERTICAL?(this._fixed||(n.y+=i),0>i?this._dataIndexEnd<this._itemDatas.length-1&&(this._itemContainer.getChildAt(this._itemContainer.numChildren-1).y+this._itemContainer.getChildAt(this._itemContainer.numChildren-1).height+this._gap<this._itemContainer.height&&(o=this.addUIItem(this._dataIndexEnd+1,!1),this._dataIndexEnd+=o),n.y+n.height<0&&(this.removeRender(n),this._dataIndexBegin++)):this._dataIndexBegin>0&&(this._itemContainer.getChildAt(0).y-this._gap>0&&(o=this.addUIItem(this._dataIndexBegin-this._line,!0),this._dataIndexBegin-=o),n.y>this._itemContainer.height&&(this.removeRender(n),this._dataIndexEnd--))):(this._fixed||(n.x+=t),0>t?this._dataIndexEnd<this._itemDatas.length-1&&(this._itemContainer.getChildAt(this._itemContainer.numChildren-1).x+n.width+this._gap<this._itemContainer.width&&(o=this.addUIItem(this._dataIndexEnd+1,!1),this._dataIndexEnd+=o),n.x+n.width<0&&(this.removeRender(this._itemContainer.getChildAt(r)),this._dataIndexBegin++)):this._dataIndexBegin>0&&(this._itemContainer.getChildAt(0).x-this._gap>0&&(o=this.addUIItem(this._dataIndexBegin-this.line,!0),this._dataIndexBegin-=o),n.x>this._itemContainer.width&&(this.removeRender(this._itemContainer.getChildAt(r)),this._dataIndexEnd--)))},i.prototype.addUIItem=function(t,i){var n=this;if(!n._itemDatas||0>t||t>=n._itemDatas.length)return 0;for(var o=0,r=0,a=0;o<n._line&&!(!n._itemDatas||0>t||t>=n._itemDatas.length);){var s=e.ObjectPool.getByClass(n._itemRenderer,"list_"+n.name);try{s.data=n._itemDatas[t],s.dataIndex=t,s.list=n,s.validateNow()}catch(l){}if(n._autoSize&&(n._direction==e.Style.VERTICAL?s.width=(n._itemContainer.width-(n._line-1)*n._gap)/n._line:s.height=(n._itemContainer.height-(n._line-1)*n._gap)/n._line),n._direction==e.Style.VERTICAL){if(a=(s.width+n._lineGap)*o,n._itemContainer.numChildren>0&&0==o&&(i?(r=n._itemContainer.getChildAt(0).y,r-=n._gap+s.height):(r=n._itemContainer.getChildAt(n._itemContainer.numChildren-1).y,r+=(n._gap+n._itemContainer.getChildAt(n._itemContainer.numChildren-1).height)*(o+1))),r>n._itemContainer.height||r<-s.height)return n.removeRender(s),o;s.x=a,s.y=r}else{if(r=(s.height+n._lineGap)*o,n._itemContainer.numChildren>0&&0==o&&(i?(a=n._itemContainer.getChildAt(0).x,a-=n._gap+s.width):(a=n._itemContainer.getChildAt(n._itemContainer.numChildren-1).x,a+=(n._gap+n._itemContainer.getChildAt(n._itemContainer.numChildren-1).width)*(o+1))),a>n._itemContainer.width||a<-s.width)return n.removeRender(s),o;s.x=a,s.y=r}i?n._itemContainer.addChildAt(s,0):n._itemContainer.addChild(s),n._dataIndexToRender[""+t]=s,o++,t++}return t>=n._itemDatas.length&&o>0&&n._data_end_func_call&&n._data_end_func_call.call(n._data_end_func_this),o},i.prototype.initList=function(){if(this._data&&this._data instanceof Array&&this._data.length>0&&!this._itemDatas){this._itemDatas=null,this._dataIndexToRender={},this.setItemContainerSize();for(var e=null;this._itemContainer.numChildren>0;)e=this._itemContainer.removeChildAt(0),e instanceof this._itemRenderer&&this.removeRender(e);if(this._itemDatas=this._data,0==this._itemDatas.length)return;this._dataIndexBegin=0;var t=this.addUIItem(this._dataIndexBegin,!1);for(this._dataIndexEnd=t;0!=t&&this._dataIndexEnd<this._itemDatas.length;)t=this.addUIItem(this._dataIndexEnd,!1),this._dataIndexEnd+=t;this._dataIndexEnd--}},Object.defineProperty(i.prototype,"data",{set:function(e){this._data=e},enumerable:!1,configurable:!0}),i.prototype.append=function(e){e&&(this._itemDatas=this._itemDatas.concat(e))},i.prototype.draw=function(){t.prototype.draw.call(this),0!=this.width&&0!=this.height&&this.initList()},i.prototype.setItemContainerSize=function(){this._itemContainer.width=this.width-this._marginLeft-this._marginRight,this._itemContainer.height=this.height-this._marginTop-this._marginBottom,this._itemContainer.x=this._marginLeft,this._itemContainer.y=this._marginTop,this._itemContainer.scrollRect.width=this._itemContainer.width,this._itemContainer.scrollRect.height=this._itemContainer.height},i.prototype.setHorizontalLayout=function(){this.layout=e.Style.HORIZONTAL},i.prototype.setVerticalLayout=function(){this.layout=e.Style.VERTICAL},Object.defineProperty(i.prototype,"layout",{get:function(){return this._direction},set:function(e){this._direction=e,this.invalidate()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){return this._selected},set:function(e){var t=null;this._selected=e;for(var n=0;n<this._itemContainer.numChildren;n++){t=this._itemContainer.getChildAt(n),t.selected&&(t.selected=!1);try{t._data==e&&(t.selected=!0,this.dispatchEventWith(i.ITEM_SELECTED,!1,{item:t},!1))}catch(o){}}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this._selected?this._data.indexOf(this._selected):-1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"itemRenderer",{get:function(){return this._itemRenderer},set:function(e){this._itemRenderer!=e&&(this._itemRenderer=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){this._autoSize!=e&&(this._autoSize=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"marginTop",{get:function(){return this._marginTop},set:function(e){this._marginTop!=e&&(this._marginTop=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"marginBottom",{get:function(){return this._marginBottom},set:function(e){this._marginBottom!=e&&(this._marginBottom=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"marginLeft",{get:function(){return this._marginLeft},set:function(e){this._marginLeft=e,this.invalidate()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"marginRight",{get:function(){return this._marginRight},set:function(e){(this._marginRight=e)&&(this._marginRight=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"gap",{get:function(){return this._gap},set:function(e){this._gap=e,this.invalidate()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"line",{get:function(){return this._line},set:function(e){this._line=e,this._line<1&&(this._line=1),this.invalidate()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineGap",{get:function(){return this._lineGap},set:function(e){this._lineGap=e,this._lineGap<0&&(this._lineGap=0),this.invalidate()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fixed",{get:function(){return this._fixed},set:function(e){this._fixed!=e&&(this._fixed=e,this.invalidate())},enumerable:!1,configurable:!0}),i.prototype.setDataEndCall=function(e,t){this._data_end_func_call=e,this._data_end_func_this=t},i.ITEM_SELECTED="ITEM_SELECTED",i}(e.Group);e.List=t,__reflect(t.prototype,"codeBase.List",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(){var n=t.call(this)||this;return n.METHOD_DEF={},n._dataItems=[],n._itemContainer=null,n._itemRenderer=e.DefaultRenderer,n._itemIndexToRender=null,n._speed=150,n._delay=3e3,n._align=i.ALIGN_BOTTOM,n._gapFactor=1,n._direction=i.SCROLL_LEFT,n._firstGapWidth=0,n._scaleFactor=.1,n._maxTextureWidth=0,n._maxTextureHeight=0,n._totalLength=0,n._middleIndex=0,n._middleItemX=0,n._middleItemY=0,n._firstItemIndex=0,n._gap=2,n._stop=!1,n._delayIndex1=0,n._delayIndex2=0,n._destroyIndex=0,n}return __extends(i,t),i.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.setSize(300,300),this._itemContainer=new e.Group,this.addChild(this._itemContainer),this._itemContainer.showBg=!1,this._itemContainer.setSize(this.width,this.height),this.addHandleEvent(e.EventType.RESOURCE_DOWNLOADED,"onMyEventResDownloaded")},i.prototype.addHandleEvent=function(t,i){e.MessageControler.addEvent(t),this.METHOD_DEF[t]=i},i.prototype.receiveEvent=function(e){for(var t=null,i=0;i<this._itemContainer.numChildren;i++)t=this._itemContainer.getChildAt(i),t.refresh&&t.refresh()},Object.defineProperty(i.prototype,"data",{get:function(){return this._data},set:function(t){if(t){this._data=t,this._dataItems=null,this._itemIndexToRender={};for(var i=null;this._itemContainer.numChildren>0;)i=this._itemContainer.removeChildAt(0),i.data&&(i.data=null),e.ObjectPool.recycleClass(i,"listad_"+this.name);if(t instanceof Array){if(this._dataItems=t,0==this._dataItems.length)return;this._totalLength=this._dataItems.length,this._totalLength%2==0?this._middleIndex=this._totalLength/2:this._totalLength%2==1&&(this._middleIndex=(this._totalLength-1)/2),this._firstItemIndex=0;for(var n=0;n<this._totalLength;)this.addItem(n),n++;this._dataItems.length<=3}}},enumerable:!1,configurable:!0}),i.prototype.reserveModel=function(){},i.prototype.addItem=function(t){var i=e.ObjectPool.getByClass(this._itemRenderer,"listad_"+this.name);i.setSize(200,200),i.anchorOffsetX=.5*i.width,i.anchorOffsetY=.5*i.height,this._itemContainer.addChild(i),this._itemContainer.removeChild(i),i&&i.validateNow&&i.validateNow(),this._firstGapWidth||(this._firstGapWidth=i.width/2),this._middleItemX=this._itemContainer.width/2,this._middleItemY=this._itemContainer.height/2,Math.abs(t-this._middleIndex)<=1&&(t-this._middleIndex==-1?(this._itemContainer.addChild(i),i.x=(t-this._middleIndex)*this._firstGapWidth+this._middleItemX):t==this._middleIndex?(this._itemContainer.addChild(i),i.x=this._middleItemX):t-this._middleIndex==1&&(this._itemContainer.addChildAt(i,1),i.x=this._middleItemX+(t-this._middleIndex)*this._firstGapWidth,i.bgColor=0),i.scaleY=1-Math.abs(t-this._middleIndex)*this._scaleFactor,i.alpha=1-Math.abs(t-this._middleIndex)*this._scaleFactor,i.y=Math.abs(t-this._middleIndex)*this._scaleFactor*i.height*i.anchorOffsetY*this._gapFactor+this._middleItemY),i.data=this._dataItems[t],this._itemIndexToRender[""+t]=i},i.prototype.start=function(){this._delayIndex2&&egret.clearTimeout(this._delayIndex2);var e=0,t=0,i=0,n=0,o=0,r=0,a=0,s=0,l=0,h=[];a=this._middleIndex-1,0>a&&(a=this._totalLength-1),s=this._middleIndex,l=this._middleIndex+1,l==this._totalLength&&(l=0),h=[a,s,l];for(var c=0;c<h.length;c++)e=this._itemIndexToRender[""+h[c]].x,t=this._itemIndexToRender[""+h[c]].y,i=this._itemIndexToRender[""+h[c]].scaleY,n=this._itemIndexToRender[""+h[c]].alpha,o=this._itemIndexToRender[""+h[c]].height,r=this._itemIndexToRender[""+h[c]].anchorY,"left"==this._direction?(this._destroyIndex=a,0==c?egret.Tween.get(this._itemIndexToRender[""+h[c]]).to({x:e+this._firstGapWidth,y:t+this._scaleFactor*o*r*this._gapFactor,scaleY:i-this._scaleFactor,alpha:0},this._speed):1==c?egret.Tween.get(this._itemIndexToRender[""+h[c]]).to({x:e-this._firstGapWidth,y:t+this._scaleFactor*o*r*this._gapFactor,scaleY:i-this._scaleFactor,alpha:n-this._scaleFactor},this._speed):2==c&&egret.Tween.get(this._itemIndexToRender[""+h[c]]).to({x:e-this._firstGapWidth,y:t-this._scaleFactor*o*r*this._gapFactor,scaleY:i+this._scaleFactor,alpha:n+this._scaleFactor},this._speed)):"right"==this._direction&&(this._destroyIndex=l,0==c?egret.Tween.get(this._itemIndexToRender[""+h[c]]).to({x:e+this._firstGapWidth,y:t-this._scaleFactor*o*r*this._gapFactor,scaleY:i+this._scaleFactor,alpha:n+this._scaleFactor},this._speed):1==c?egret.Tween.get(this._itemIndexToRender[""+h[c]]).to({x:e+this._firstGapWidth,y:t+this._scaleFactor*o*r*this._gapFactor,scaleY:i-this._scaleFactor,alpha:n-this._scaleFactor},this._speed):2==c&&egret.Tween.get(this._itemIndexToRender[""+h[c]]).to({x:e-this._firstGapWidth,y:t-this._scaleFactor*o*r*this._gapFactor,scaleY:i+this._scaleFactor,alpha:0},this._speed));"left"==this._direction?(this._middleIndex++,this._middleIndex==this._totalLength&&(this._middleIndex=0)):"right"==this._direction&&(this._middleIndex--,this._middleIndex<0&&(this._middleIndex=this._totalLength-1)),this.addNewItem(this._direction),this._delayIndex1=egret.setTimeout(this.refreshTree,this,this._speed)},i.prototype.stop=function(){for(var e in this._itemIndexToRender)egret.Tween.removeTweens(this._itemIndexToRender[e]);this._delayIndex1&&egret.clearTimeout(this._delayIndex1),this._delayIndex2&&egret.clearTimeout(this._delayIndex2)},i.prototype.addNewItem=function(e,t){void 0===t&&(t=this._middleIndex),"left"==e?(t++,t==this._totalLength&&(t=0)):"right"==e&&(t--,0>t&&(t=this._totalLength-1));var i=this._itemIndexToRender[""+t];this._itemContainer.addChildAt(i,1),i.alpha=0,i.anchorX=.5,i.anchorY=.5,i.scaleY=1,i.x=this._middleItemX,i.y=this._middleItemY,i.bgColor=0,i.data=i._data,"left"==e?egret.Tween.get(i).to({x:i.x+this._firstGapWidth,y:i.y+this._scaleFactor*i.height*i.anchorY*this._gapFactor,scaleY:1-this._scaleFactor,alpha:1-this._scaleFactor},this._speed):"right"==e&&egret.Tween.get(i).to({x:i.x-this._firstGapWidth,y:i.y+this._scaleFactor*i.height*i.anchorY*this._gapFactor,scaleY:1-this._scaleFactor,alpha:1-this._scaleFactor},this._speed)},i.prototype.refreshTree=function(){for(var e in this._itemIndexToRender)egret.Tween.removeTweens(this._itemIndexToRender[e]);
this._delayIndex1&&egret.clearTimeout(this._delayIndex1),this._itemIndexToRender[""+this._destroyIndex].removeFromParent(),this._itemContainer.addChildAt(this._itemIndexToRender[""+this._middleIndex],this._totalLength),this._delayIndex2=egret.setTimeout(this.start,this,this._delay)},Object.defineProperty(i.prototype,"direction",{get:function(){return this._direction},set:function(e){e&&(this._direction=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"align",{get:function(){return this._align},set:function(e){if("bottom"==e)this._align=e,this._gapFactor=1;else{if("center"!=e)return;this._align=e,this._gapFactor=.2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"speed",{get:function(){return this._speed},set:function(e){!e||0>=e||(this._speed=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"delay",{get:function(){return this._delay},set:function(e){!e||0>=e||(this._delay=e)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"itemRenderer",{get:function(){return this._itemRenderer},set:function(e){this._itemRenderer!=e&&(this._itemRenderer=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"gap",{get:function(){return this._gap},set:function(e){this._gap=e,this.invalidate()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scaleFactor",{get:function(){return this._scaleFactor},set:function(e){this._scaleFactor=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"firstGapWidth",{get:function(){return this._firstGapWidth},set:function(e){e&&(this._firstGapWidth=e)},enumerable:!1,configurable:!0}),i.ALIGN_BOTTOM="bottom",i.ALIGN_CENTER="center",i.SCROLL_UP="up",i.SCROLL_DOWN="down",i.SCROLL_LEFT="left",i.SCROLL_RIGHT="right",i}(e.Group);e.ListAd=t,__reflect(t.prototype,"codeBase.ListAd",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._moveFunc=null,e._moveFuncThis=null,e._scrollItemArr=[],e._clip=!0,e._running=!1,e._autoplay=!1,e}return __extends(n,t),n.prototype.createChildren=function(){t.prototype.createChildren.call(this)},n.prototype.setScrollData=function(t,o,r,a){void 0===o&&(o=3),void 0===r&&(r=n.SCROLL_DOWN),void 0===a&&(a=0);var s=e.ObjectPool.getByClass(i);this.addChild(s),this._scrollItemArr.push(s),s.width=this.width,s.height=this.height,s.setScrollData(t,o,r,a),this.invalidate()},n.prototype.delScrollData=function(e){void 0===e&&(e=-1);var t=null;if(-1>=e)for(;this._scrollItemArr.length>0;)t=this._scrollItemArr.pop(),t&&t.removeFromParent();else e<this._scrollItemArr.length&&(t=this._scrollItemArr[e],t&&(t.removeFromParent(),this._scrollItemArr.splice(e,1)))},n.prototype.play=function(t){void 0===t&&(t=-1),this._running=!0,this.setItemState(n.STATE_START,t),e.HeartBeat.addListener(this,this.onHeartBeat)},n.prototype.stop=function(t){void 0===t&&(t=-1),this.setItemState(n.STATE_STOP,t),this._running||e.HeartBeat.removeListener(this,this.onHeartBeat)},n.prototype.pause=function(t){void 0===t&&(t=-1),this.setItemState(n.STATE_STOP,t),this._running||e.HeartBeat.removeListener(this,this.onHeartBeat)},n.prototype.restart=function(t){void 0===t&&(t=-1),this.setItemState(n.STATE_START,t),e.HeartBeat.addListener(this,this.onHeartBeat)},n.prototype.setSpeed=function(e,t){if(void 0===t&&(t=-1),-1>=t)for(var i=0;i<this._scrollItemArr.length;i++)this._scrollItemArr[i].speed=e;else t>=0&&t<=this._scrollItemArr.length-1&&(this._scrollItemArr[t].speed=e)},n.prototype.setDirection=function(e,t){if(void 0===t&&(t=-1),-1>=t)for(var i=0;i<this._scrollItemArr.length;i++)this._scrollItemArr[i].direction=e;else t>=0&&t<=this._scrollItemArr.length-1&&(this._scrollItemArr[t].direction=e)},n.prototype.setItemState=function(e,t){if(void 0===t&&(t=-1),-1>=t)for(var i=0;i<this._scrollItemArr.length;i++)this._scrollItemArr[i]._state=e;else t>=0&&t<=this._scrollItemArr.length-1&&(this._scrollItemArr[t]._state=e);if(e==n.STATE_START)this._running=!0;else{this._running=!1;for(var i=0;i<this._scrollItemArr.length;i++)if(this._scrollItemArr[i]._state==n.STATE_START){this._running=!0;break}}},n.prototype.onHeartBeat=function(){for(var e=0;e<this._scrollItemArr.length;e++)this._scrollItemArr[e].onHeartBeat();this._moveFunc&&this._moveFunc.call(this._moveFuncThis)},n.prototype.draw=function(){if(0!=this.width&&0!=this.height&&(this._clip?null==this.scrollRect?this.scrollRect=new egret.Rectangle(0,0,this.width,this.height):(this.scrollRect.width=this.width,this.scrollRect.height=this.height):this.scrollRect=null,this.width!=e.Style.BASEGROUP_WIDTH||this.height!=e.Style.BASEGROUP_HEIGHT))for(var t=0;t<this._scrollItemArr.length;t++)(this._scrollItemArr[t].width==e.Style.BASEGROUP_WIDTH||0==this._scrollItemArr[t].width)&&(this._scrollItemArr[t].width=this.width),(this._scrollItemArr[t].height==e.Style.BASEGROUP_HEIGHT||0==this._scrollItemArr[t].height)&&(this._scrollItemArr[t].height=this.height),this._scrollItemArr[t]._initData=!1},Object.defineProperty(n.prototype,"clip",{get:function(){return this._clip},set:function(e){e!=this._clip&&(this._clip=e,this.invalidate())},enumerable:!1,configurable:!0}),n.prototype.setMoveCallbackFunc=function(e,t){this._moveFunc=e,this._moveFuncThis=t},Object.defineProperty(n.prototype,"autoplay",{get:function(){return this._autoplay},set:function(e){this._autoplay!=e&&(this._autoplay=e)},enumerable:!1,configurable:!0}),n.SCROLL_UP="up",n.SCROLL_DOWN="down",n.SCROLL_LEFT="left",n.SCROLL_RIGHT="right",n.STATE_START="start",n.STATE_STOP="stop",n}(e.BaseGroup);e.ScrollGroup=t,__reflect(t.prototype,"codeBase.ScrollGroup",[]);var i=function(i){function n(){var e=i.call(this)||this;return e.speed=0,e.gap=0,e.direction=t.SCROLL_DOWN,e._textures=null,e._scrollTextureIndex=0,e._scrollBitmapArr=null,e._state=t.STATE_STOP,e._initData=!1,e._textureWidth=0,e._textureHeight=0,e._totalBitmapLength=0,e._limitDistance=0,e._clip=!0,e._textureIndex=0,e}return __extends(n,i),n.prototype.createChildren=function(){i.prototype.createChildren.call(this)},n.prototype.setScrollData=function(i,n,o,r){void 0===n&&(n=3),void 0===r&&(r=0),this._initData=!1,this.gap=r,this.direction=o,this._textureIndex=0,this._textures=i,this._textureWidth=this._textures[0].textureWidth,this._textureHeight=this._textures[0].textureHeight,this.speed=n;this._textures.length;if(this._scrollBitmapArr&&this._scrollBitmapArr.length>0)for(var a=null;this._scrollBitmapArr.length>0;)a=this._scrollBitmapArr.pop(),a.parent&&a.parent.removeChild(a),e.ObjectPool.recycleClass(a,"scroll_group");if(this._scrollBitmapArr=[],this._totalBitmapLength=0,this._limitDistance=0,this.direction==t.SCROLL_DOWN||this.direction==t.SCROLL_UP)for(;this._limitDistance<this.height;)this._textureIndex>=this._textures.length&&(this._textureIndex=0),this._limitDistance+=this._textures[this._textureIndex].textureHeight+this.gap,this._textureIndex++,this._totalBitmapLength++;else if(this.direction==t.SCROLL_LEFT||this.direction==t.SCROLL_RIGHT)for(;this._limitDistance<this.width;)this._textureIndex>=this._textures.length&&(this._textureIndex=0),this._limitDistance+=this._textures[this._textureIndex].textureWidth+this.gap,this._textureIndex++,this._totalBitmapLength++;for(var s=0;s<this._totalBitmapLength;s++){var l=e.ObjectPool.getByClass(egret.Bitmap,"scroll_group");this._scrollBitmapArr.push(l)}for(var h=0;h<this._scrollBitmapArr.length;h++)this.addChild(this._scrollBitmapArr[h]),this.getTexture(this._scrollBitmapArr[h]),this._scrollBitmapArr[h]&&(this._scrollBitmapArr[h].width=this._scrollBitmapArr[h].texture.textureWidth,this._scrollBitmapArr[h].height=this._scrollBitmapArr[h].texture.textureHeight);this.initScrollBitmapData()},n.prototype.initScrollBitmapData=function(){if(!this._initData)if(this._initData=!0,this.direction==t.SCROLL_UP)for(var e=0;e<this._scrollBitmapArr.length;e++)this._scrollBitmapArr[e].x=0,0==e?this._scrollBitmapArr[0].y=0:e>0&&(this._scrollBitmapArr[e].y=this._scrollBitmapArr[e-1].y+this._scrollBitmapArr[e-1].texture.textureHeight+this.gap);else if(this.direction==t.SCROLL_DOWN)for(var e=0;e<this._scrollBitmapArr.length;e++)this._scrollBitmapArr[e].x=0,0==e?this._scrollBitmapArr[0].y=this.height-this._scrollBitmapArr[0].texture.textureHeight:e>0&&(this._scrollBitmapArr[e].y=this._scrollBitmapArr[e-1].y-this._scrollBitmapArr[e].texture.textureHeight-this.gap);else if(this.direction==t.SCROLL_LEFT)for(var e=0;e<this._scrollBitmapArr.length;e++)this._scrollBitmapArr[e].y=0,0==e?this._scrollBitmapArr[0].x=0:e>0&&(this._scrollBitmapArr[e].x=this._scrollBitmapArr[e-1].x+this._scrollBitmapArr[e-1].texture.textureWidth+this.gap);else if(this.direction==t.SCROLL_RIGHT)for(var e=0;e<this._scrollBitmapArr.length;e++)this._scrollBitmapArr[e].y=0,0==e?this._scrollBitmapArr[0].x=this.width-this._scrollBitmapArr[0].texture.textureWidth:e>0&&(this._scrollBitmapArr[e].x=this._scrollBitmapArr[e-1].x-this._scrollBitmapArr[e].texture.textureWidth-this.gap)},n.prototype.getTexture=function(e){var t=this._textures[this._scrollTextureIndex];return this._scrollTextureIndex++,this._scrollTextureIndex>=this._textures.length&&(this._scrollTextureIndex=0),e.scaleX=1,e.scaleY=1,e.alpha=1,e.rotation=0,e.texture=t,e.width=t.textureWidth,e.height=t.textureHeight,t},n.prototype.onHeartBeat=function(){if(this._state!=t.STATE_STOP)if(this._initData||this.initScrollBitmapData(),this.direction==t.SCROLL_UP){for(var i=0;i<this._scrollBitmapArr.length;i++)this._scrollBitmapArr[i].y-=this.speed;if(this._scrollBitmapArr[this._scrollBitmapArr.length-1].y<=this.height-this._scrollBitmapArr[this._scrollBitmapArr.length-1].texture.textureHeight-this.speed){var n=e.ObjectPool.getByClass(egret.Bitmap,"scroll_group");this.addChild(n),this.getTexture(n),n.x=this._scrollBitmapArr[this._scrollBitmapArr.length-1].x,n.y=this._scrollBitmapArr[this._scrollBitmapArr.length-1].y+this._scrollBitmapArr[this._scrollBitmapArr.length-1].texture.textureHeight+this.gap,this._scrollBitmapArr.push(n)}if(this._scrollBitmapArr[0].y+this._scrollBitmapArr[0].texture.textureHeight<=0){var n=this._scrollBitmapArr.splice(0,1)[0];n.parent&&n.parent.removeChild(n),e.ObjectPool.recycleClass(n,"scroll_group")}}else if(this.direction==t.SCROLL_DOWN){for(var i=0;i<this._scrollBitmapArr.length;i++)this._scrollBitmapArr[i].y+=this.speed;if(this._scrollBitmapArr[this._scrollBitmapArr.length-1].y>=-this.speed){var n=e.ObjectPool.getByClass(egret.Bitmap,"scroll_group");this.addChild(n),this.getTexture(n),n.x=this._scrollBitmapArr[this._scrollBitmapArr.length-1].x,n.y=this._scrollBitmapArr[this._scrollBitmapArr.length-1].y-n.texture.textureHeight-this.gap,this._scrollBitmapArr.push(n)}if(this._scrollBitmapArr[0].y>=this.height){var n=this._scrollBitmapArr.splice(0,1)[0];n.parent&&n.parent.removeChild(n),e.ObjectPool.recycleClass(n,"scroll_group")}}else if(this.direction==t.SCROLL_LEFT){for(var i=0;i<this._scrollBitmapArr.length;i++)this._scrollBitmapArr[i].x-=this.speed;if(this._scrollBitmapArr[this._scrollBitmapArr.length-1].x<=this.width-this._scrollBitmapArr[this._scrollBitmapArr.length-1].texture.textureWidth-this.speed){var n=e.ObjectPool.getByClass(egret.Bitmap,"scroll_group");this.addChild(n),this.getTexture(n),n.y=this._scrollBitmapArr[this._scrollBitmapArr.length-1].y,n.x=this._scrollBitmapArr[this._scrollBitmapArr.length-1].x+this._scrollBitmapArr[this._scrollBitmapArr.length-1].texture.textureWidth+this.gap,this._scrollBitmapArr.push(n)}if(this._scrollBitmapArr[0].x+this._scrollBitmapArr[0].texture.textureWidth<=0){var n=this._scrollBitmapArr.splice(0,1)[0];n.parent&&n.parent.removeChild(n),e.ObjectPool.recycleClass(n,"scroll_group")}}else if(this.direction==t.SCROLL_RIGHT){for(var i=0;i<this._scrollBitmapArr.length;i++)this._scrollBitmapArr[i].x+=this.speed;if(this._scrollBitmapArr[this._scrollBitmapArr.length-1].x>=-this.speed){var n=e.ObjectPool.getByClass(egret.Bitmap,"scroll_group");this.addChild(n),this.getTexture(n),n.y=this._scrollBitmapArr[this._scrollBitmapArr.length-1].y,n.x=this._scrollBitmapArr[this._scrollBitmapArr.length-1].x-n.texture.textureWidth-this.gap,this._scrollBitmapArr.push(n)}if(this._scrollBitmapArr[0].x>=this.width){var n=this._scrollBitmapArr.splice(0,1)[0];n.parent&&n.parent.removeChild(n),e.ObjectPool.recycleClass(n,"scroll_group")}}},n.prototype.draw=function(){0!=this.width&&0!=this.height&&(this._clip?null==this.scrollRect?this.scrollRect=new egret.Rectangle(0,0,this.width,this.height):(this.scrollRect.width=this.width,this.scrollRect.height=this.height):this.scrollRect=null)},Object.defineProperty(n.prototype,"clip",{get:function(){return this._clip},set:function(e){e!=this._clip&&(this._clip=e,this.invalidate())},enumerable:!1,configurable:!0}),n}(e.BaseGroup);__reflect(i.prototype,"codeBase.ScrollItemGroup",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){}return e.setStyle=function(t){switch(t){case e.DARK:e.BACKGROUND=4473924,e.BUTTON_FACE=6710886,e.BUTTON_DOWN=2236962,e.INPUT_TEXT=12303291,e.LABEL_TEXT=13421772,e.PANEL=6710886,e.PROGRESS_BAR=6710886,e.TEXT_BACKGROUND=5592405,e.LIST_DEFAULT=4473924,e.LIST_ALTERNATE=3750201,e.LIST_SELECTED=6710886,e.LIST_ROLLOVER=7829367;break;case e.LIGHT:default:e.BACKGROUND=13421772,e.BUTTON_FACE=16777215,e.BUTTON_DOWN=15658734,e.INPUT_TEXT=3355443,e.LABEL_TEXT=6710886,e.PANEL=15987699,e.PROGRESS_BAR=16777215,e.TEXT_BACKGROUND=16777215,e.LIST_DEFAULT=16777215,e.LIST_ALTERNATE=15987699,e.LIST_SELECTED=13421772,e.LIST_ROLLOVER=14540253}},e.TEXT_BACKGROUND=16777215,e.BACKGROUND=13421772,e.BUTTON_FACE=16777215,e.BUTTON_DOWN=15658734,e.INPUT_TEXT=3355443,e.LABEL_TEXT=0,e.BUTTON_TEXT=6710886,e.DROPSHADOW=0,e.PANEL=15987699,e.PROGRESS_BAR=16777215,e.LIST_DEFAULT=16777215,e.LIST_ALTERNATE=15987699,e.LIST_SELECTED=13421772,e.LIST_ROLLOVER=14540253,e.BUTTON_DEFAULT_WIDTH=100,e.BUTTON_DEFAULT_HEIGHT=32,e.VIDEO_DEFAULT_WIDTH=320,e.VIDEO_DEFAULT_HEIGHT=250,e.embedFonts=!1,e.fontName=null,e.fontSize=26,e.allowDefaultLabelFilter=!0,e.DARK="dark",e.LIGHT="light",e.allowColorFilterButtonEnabled=!1,e.allowButtonDefaultCoolDown=!1,e.defaultCoolDownFrames=2,e.TEXTINPUT_HEIGHT=25,e.TEXTINPUT_WIDTH=100,e.TEXTINPUT_COLOR=16777215,e.HORIZONTAL="horizontal",e.VERTICAL="vertical",e.SLIDER_WIDTH=300,e.SLIDER_HEIGHT=17,e.SCROLLBAR_WIDTH=300,e.SCROLLBAR_HEIGHT=17,e.BASEGROUP_WIDTH=100,e.BASEGROUP_HEIGHT=100,e}();e.Style=t,__reflect(t.prototype,"codeBase.Style",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(){var n=t.call(this)||this;return n._text="",n._initFlow=null,n._htmlTextParser=null,n._textField=null,n._fontSize=e.Style.fontSize,n._color=e.Style.LABEL_TEXT,n._fontName=e.Style.fontName,n._hAlign=egret.HorizontalAlign.LEFT,n._vAlign=egret.VerticalAlign.TOP,n._bold=!1,n._italic=!1,n._lineSpacing=0,n._stroke=0,n._strokeColor=13136,n._html=!1,n._editable=!1,n._maxChars=0,n._restrict=null,n._inputType=null,n._followForce=!1,n._follow=i.FOLLOW_NONE,n.isAddScollListener=!1,n._link=null,n._paddingLeft=0,n._paddingRight=0,n._paddingTop=0,n._paddingBottom=0,n._isTouchBegin=!1,n._touchPoint=null,n.moveDelta=0,n}return __extends(i,t),i.prototype.createChildren=function(){t.prototype.createChildren.call(this),this._textField=new egret.TextField,this._textField.multiline=!0,this._textField.addEventListener(egret.Event.CHANGE,this.onTextChange,this),this.addChild(this._textField),this.touchChildren=!1},i.prototype.initData=function(){t.prototype.initData.call(this)},i.prototype.onSetScrollText=function(e){e&&!this.isAddScollListener?(this.isAddScollListener=!0,this.touchNonePixel=!0,this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancel,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchCancel,this)):!e&&this.isAddScollListener&&(this.isAddScollListener=!1,this.touchNonePixel=!1,this.touchEnabled=!1,this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancel,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchCancel,this))},i.prototype.onTouchBegin=function(e){this._isTouchBegin=!0,this.moveDelta=0,null==this._touchPoint&&(this._touchPoint=new egret.Point),this._touchPoint.x=e.stageX,this._touchPoint.y=e.stageY},i.prototype.onTouchEnd=function(e){this._isTouchBegin=!1},i.prototype.onTouchMove=function(e){this._isTouchBegin&&(this.moveDelta+=Math.abs(e.stageY-this._touchPoint.y),this.moveDelta>=this._fontSize&&(this.moveDelta-=this._fontSize,e.stageY-this._touchPoint.y>0?this._textField.scrollV>1&&(this._textField.scrollV=this._textField.scrollV-1):this._textField.scrollV<this._textField.numLines-1&&(this._textField.scrollV=this._textField.scrollV+1)),this._touchPoint.x=e.stageX,this._touchPoint.y=e.stageY)},i.prototype.onTouchCancel=function(e){this._isTouchBegin=!1},i.prototype.onTextChange=function(e){this._text=this._textField.text},Object.defineProperty(i.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(e){this._paddingLeft!=e&&(this._paddingLeft=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(e){this._paddingRight!=e&&(this._paddingRight=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(e){this._paddingTop!=e&&(this._paddingTop=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingBottom",{get:function(){return this._paddingBottom},set:function(e){this._paddingBottom!=e&&(this._paddingBottom=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(e){this._text!=e&&(this._text=e,this._html?null==this._text?(this._text="",this._initFlow=[]):(null==this._htmlTextParser&&(this._htmlTextParser=new egret.HtmlTextParser),this._initFlow=this._htmlTextParser.parser(this._text)):null==this._text&&(this._text=""),this.invalidate())},enumerable:!1,configurable:!0}),i.prototype.append=function(e){var t=this._textField.numLines,n=this._textField.scrollV;if(this._html){null==this._htmlTextParser&&(this._htmlTextParser=new egret.HtmlTextParser);var o=this._htmlTextParser.parser(e);if(this._follow==i.FOLLOW_TOP){o.reverse();for(var r=0;r<o.length;r++)this._textField.textFlow.unshift(o[r]);this._textField.textFlow=this._textField.textFlow,this.draw()}else{for(var r=0;r<o.length;r++)this._textField.appendElement(o[r]);this._textField.textHeight>this.height?this.onSetScrollText(!0):this.onSetScrollText(!1)}}else this._follow==i.FOLLOW_TOP?(this._text=e+this._text,this.draw()):(this._textField.appendText(e),this._textField.textHeight>this.height?this.onSetScrollText(!0):this.onSetScrollText(!1));this._follow!=i.FOLLOW_NONE&&(this._follow==i.FOLLOW_TOP?(1==t||this._followForce)&&this.scrollTo(1):(t==n||this._followForce)&&this.scrollTo(this._textField.numLines))},i.prototype.scrollTo=function(e){this._textField&&(this._textField.scrollV=e)},i.prototype.getTextField=function(){return this._textField},i.prototype.draw=function(){if(t.prototype.draw.call(this),null!=this._textField){null!=this._fontName&&(this._textField.fontFamily=this.fontName),this._color>=0&&(this._textField.textColor=this._color),this._fontSize>0&&(this._textField.size=this._fontSize),this._textField.bold=this._bold,this._textField.italic=this._italic,this._html?(this._initFlow&&(this._textField.textFlow=this._initFlow),this._initFlow=null):this._textField.text=this._text,this._editable?(this.touchChildren=!0,this._textField.type=egret.TextFieldType.INPUT):(this.touchChildren=!1,this._textField.type=egret.TextFieldType.DYNAMIC),this._textField.maxChars=this._maxChars,e.StringUtil.isUsage(this._restrict)&&(this._textField.restrict=this._restrict),e.StringUtil.isUsage(this._inputType)&&(this._textField.inputType=this._inputType),this._textField.lineSpacing=this._lineSpacing,this._textField.stroke=this._stroke,this._textField.strokeColor=this._strokeColor,this._textField.width!=this.width&&(this._textField.width=this.width),this._textField.height!=this.height&&(this._textField.height=this.height);var i=this._textField.width-this._paddingLeft-this._paddingRight,n=this._textField.height-this._paddingTop-this._paddingBottom;this._textField.width=i,this._textField.height=n,this._textField.x=this._paddingLeft,this._textField.y=this._paddingTop,this._textField.textAlign=this._hAlign,this._textField.verticalAlign=this._vAlign,this._textField.textHeight>this.height?this.onSetScrollText(!0):this.onSetScrollText(!1)}},Object.defineProperty(i.prototype,"italic",{get:function(){return this._italic},set:function(e){this._italic!=e&&(this._italic=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bold",{get:function(){return this._bold},set:function(e){this._bold!=e&&(this._bold=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontName",{get:function(){return this._fontName},set:function(e){this._fontName!=e&&(this._fontName=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!=e&&(this._fontSize=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){return this._color},set:function(e){this._color!=e&&(this._color=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(e){this._lineSpacing!=e&&(this._lineSpacing=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!=e&&(this._stroke=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(e){this._strokeColor!=e&&(this._strokeColor=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hAlign",{get:function(){return this._hAlign},set:function(e){this._hAlign!=e&&(this._hAlign=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"vAlign",{get:function(){return this._vAlign},set:function(e){this._vAlign!=e&&(this._vAlign=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"followForce",{get:function(){return this._followForce},set:function(e){this._followForce=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"follow",{get:function(){return this._follow},set:function(e){this._follow=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"html",{get:function(){return this._html},set:function(e){this._html!=e&&(this._html=e,this._html?this.touchChildren=!0:this.touchChildren=!1,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"editable",{get:function(){return this._editable},set:function(e){this._editable!=e&&(this._editable=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxChars",{get:function(){return this._maxChars},set:function(e){this._maxChars!=e&&(this._maxChars=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"restrict",{get:function(){return this._restrict},set:function(e){this._restrict!=e&&(this._restrict=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._inputType},set:function(e){this._inputType!=e&&(this._inputType=e,this.invalidate())},enumerable:!1,configurable:!0}),i.FOLLOW_NONE="none",i.FOLLOW_TOP="top",i.FOLLOW_BOTTOM="bottom",i}(e.Group);e.TextArea=t,__reflect(t.prototype,"codeBase.TextArea",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(t){function i(){var i=t.call(this)||this;return i._textField=null,i._text="",i._password=!1,i._fontName=e.Style.fontName,i._fontSize=e.Style.fontSize,i._fontColor=e.Style.TEXTINPUT_COLOR,i._hAlign=egret.HorizontalAlign.LEFT,i._vAlign=egret.VerticalAlign.TOP,i._bold=!1,i._italic=!1,i._lineSpacing=10,i._multiline=!1,i._stroke=0,i._strokeColor=0,i._wordWrap=!0,i._maxChars=0,i._restrict=null,i._inputType=null,i._paddingLeft=0,i._paddingRight=0,i._paddingTop=0,i._paddingBottom=0,i}return __extends(i,t),i.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.bgColor=e.Style.INPUT_TEXT,this.clip=!1,this.touchEnabled=!0,this._textField=new egret.TextField,this._textField.height=this.height,this._textField.width=this.width,this._textField.displayAsPassword=!1,this._textField.type=egret.TextFieldType.INPUT,this._textField.addEventListener(egret.Event.CHANGE,this.onTextChange,this),this._textField.touchEnabled=!0,this.addChild(this._textField)},i.prototype.onTextChange=function(e){this._text=this._textField.text},i.prototype.getTextField=function(){return this._textField},i.prototype.draw=function(){if(t.prototype.draw.call(this),this._textField){null!=this._fontName&&(this._textField.fontFamily=this._fontName),this._textField.width!=this.width&&(this._textField.width=this.width),this._textField.height!=this.height&&(this._textField.height=this.height);var i=this._textField.width-this._paddingLeft-this._paddingRight,n=this._textField.height-this._paddingTop-this._paddingBottom;this._textField.width=i,this._textField.height=n,this._textField.x=this._paddingLeft,this._textField.y=this._paddingTop,this._fontColor>=0&&(this._textField.textColor=this._fontColor),this._fontSize>0&&(this._textField.size=this._fontSize),this._textField.textAlign=this._hAlign,this._textField.verticalAlign=this._vAlign,this._textField.bold=this._bold,this._textField.italic=this._italic,this._textField.multiline=this._multiline,this._textField.lineSpacing=this._lineSpacing,this._textField.stroke=this._stroke,this._textField.strokeColor=this._strokeColor,this._textField.displayAsPassword=this._password,this._textField.text=this._text,this._textField.wordWrap=this._wordWrap,this._textField.maxChars=this._maxChars,e.StringUtil.isUsage(this._restrict)&&(this._textField.restrict=this._restrict),e.StringUtil.isUsage(this._inputType)&&(this._textField.inputType=this._inputType)}},Object.defineProperty(i.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(e){this._paddingLeft!=e&&(this._paddingLeft=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(e){this._paddingRight!=e&&(this._paddingRight=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(e){this._paddingTop!=e&&(this._paddingTop=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paddingBottom",{get:function(){return this._paddingBottom},set:function(e){this._paddingBottom!=e&&(this._paddingBottom=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontName",{get:function(){return this._fontName},set:function(e){this._fontName!=e&&(this._fontName=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"password",{get:function(){return this._password},set:function(e){this._password!=e&&(this._password=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!=e&&(this._fontSize=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fontColor",{get:function(){return this._fontColor},set:function(e){this._fontColor!=e&&(this._fontColor=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(e){this._text!=e&&(this._text=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(e){this._lineSpacing!=e&&(this._lineSpacing=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"multiline",{get:function(){return this._multiline},set:function(e){this._multiline!=e&&(this._multiline=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!=e&&(this._wordWrap=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!=e&&(this._stroke=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(e){this._strokeColor!=e&&(this._strokeColor=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hAlign",{get:function(){return this._hAlign},set:function(e){this._hAlign!=e&&(this._hAlign=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"vAlign",{get:function(){return this._vAlign},set:function(e){this._vAlign!=e&&(this._vAlign=e,this.invalidate())},enumerable:!1,configurable:!0}),i.prototype.setFocus=function(){this._textField&&this._textField.setFocus()},Object.defineProperty(i.prototype,"maxChars",{get:function(){return this._maxChars},set:function(e){this._maxChars!=e&&(this._maxChars=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"restrict",{get:function(){return this._restrict},set:function(e){this._restrict!=e&&(this._restrict=e,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._inputType},set:function(e){this._inputType!=e&&(this._inputType=e,this.invalidate())},enumerable:!1,configurable:!0}),i}(e.Group);e.TextInput=t,__reflect(t.prototype,"codeBase.TextInput",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){}return t.createImage=function(t,i,n,o,r){void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=null),void 0===r&&(r=[]);var a=new e.Image;return t&&(t.addChild(a),a.x=i,a.y=n),a.texture=o,a.scale9Grid(r),a},t.createImageNumber=function(t,i,n,o,r,a,s,l){void 0===r&&(r=""),void 0===a&&(a="top"),void 0===s&&(s="left"),void 0===l&&(l=null);var h=new e.ImageNumber;return h.init(o,r,a,s),h.text=l,t&&h.show(t,i,n),h},t.createButton=function(t,i,n,o){void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=null);var r=new e.Button;return r.setStatus(t),r.setClickFunction(i,n),r.sound=o,r},t.createToggleButton=function(t,i,n,o,r){void 0===n&&(n=null),void 0===o&&(o=null),void 0===r&&(r=null);var a=new e.Button;return a.setStatus(t),a.setClickFunction(n,o),a.toggleGroup=i,a.sound=r,a},t.createLabel=function(t,i,n,o,r){void 0===o&&(o=26),void 0===r&&(r="");var a=new e.Label;return t&&(t.addChild(a),a.x=i,a.y=n),a.fontSize=o,a.text=r,a.showBg=!1,a.autoSize=!0,a},t.createTextArea=function(t,i,n,o,r,a){void 0===a&&(a="");var s=new e.TextArea;return t&&(t.addChild(s),s.x=200,s.y=100),s.width=300,s.height=300,s.showBg=!0,s.text=a,s},t.createTextInput=function(t,i,n,o,r){var a=new e.TextInput;
return t&&(t.addChild(a),a.x=i,a.y=n),a.showBg=!0,a.width=o,a.height=r,a},t.createList=function(t,i,n,o,r,a,s,l,h,c,d){void 0===l&&(l=10),void 0===h&&(h=1),void 0===c&&(c=10),void 0===d&&(d=e.Style.VERTICAL);var u=new e.List;return t&&(t.addChild(u),u.x=i,u.y=n),u.width=o,u.height=r,u.itemRenderer=a,u.gap=l,u.line=h,u.lineGap=c,u.data=s,u},t.createBitmap=function(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t},t.getPixel32=function(e,t,i){if(e&&e.texture){var n=e.globalToLocal(t,i);return e.texture.getPixel32(n.x,n.y)}return[]},t.testPixel32=function(e,t,i){for(var n=this.getPixel32(e,t,i),o=0;o<n.length;o++)if(n[o]>0)return!0;return!1},t}();e.UICreator=t,__reflect(t.prototype,"codeBase.UICreator",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){}return e.encode=function(e){var t=new egret.ByteArray;return t.writeUTFBytes(e),this.encodeByteArray(t)},e.encodeByteArray=function(e){var t,i="",n=new Array(4);for(e.position=0;e.bytesAvailable>0;){t=new Array;for(var o=0;3>o&&e.bytesAvailable>0;o++)t[o]=e.readUnsignedByte();n[0]=(252&t[0])>>2,n[1]=(3&t[0])<<4|t[1]>>4,n[2]=(15&t[1])<<2|t[2]>>6,n[3]=63&t[2];for(var r=t.length;3>r;r++)n[r+1]=64;for(var a=0;a<n.length;a++)i+=this.BASE64_CHARS.charAt(n[a])}return i},e.decode=function(e){var t=this.decodeToByteArray(e);return t.readUTFBytes(t.length)},e.decodeToByteArray=function(e){for(var t=new egret.ByteArray,i=new Array(4),n=new Array(3),o=0;o<e.length;o+=4){for(var r=0;4>r&&o+r<e.length;r++)i[r]=this.BASE64_CHARS.indexOf(e.charAt(o+r));n[0]=(i[0]<<2)+((48&i[1])>>4),n[1]=((15&i[1])<<4)+((60&i[2])>>2),n[2]=((3&i[2])<<6)+i[3];for(var a=0;a<n.length&&64!=i[a+1];a++)t.writeByte(n[a])}return t.position=0,t},e.BASE64_CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e.version="1.0.0",e}();e.Base64Util=t,__reflect(t.prototype,"codeBase.Base64Util",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){}return Object.defineProperty(t,"log",{get:function(){return this._log},set:function(i){e.GlobalSetting.DEV_MODEL&&(console.log(i),t._log+=i+"\n",t.callbackFunc&&this.callbackFunc.call(null))},enumerable:!1,configurable:!0}),t.refresh=function(){t.callbackFunc&&this.callbackFunc.call(null)},t.clean=function(){e.GlobalSetting.DEV_MODEL&&(this._log="",this.callbackFunc&&this.callbackFunc.call(null))},t._log="",t.callbackFunc=null,t}();e.Debug=t,__reflect(t.prototype,"codeBase.Debug",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){this.glowFilter=null}return Object.defineProperty(e,"getInstance",{get:function(){return e.instance||(e.instance=new e,e.instance.init()),e.instance},enumerable:!1,configurable:!0}),e.prototype.init=function(){var e=this;e.InitLightFilter()},e.prototype.InitLightFilter=function(){var e=3394815,t=.6,i=35,n=35,o=6,r=2,a=!1,s=!1;this.glowFilter=new egret.GlowFilter(e,t,i,n,o,r,a,s)},e.prototype.setGlowFilter=function(e,t,i,n){void 0===t&&(t=3394815),void 0===i&&(i=.6),void 0===n&&(n=6);var o=this;o.glowFilter.color=t,o.glowFilter.alpha=i,o.glowFilter.strength=n,e.filters=[this.glowFilter]},e.prototype.cleanFilter=function(e){e.filters=[]},e.prototype.setDisplayColor=function(e,t,i){void 0===i&&(i=1);var n=this,o=n.spliceColor(t),r=[1,0,0,0,40,0,1,0,0,10,0,0,1,0,0,0,0,0,1,0];r[0]=o.r/255,r[6]=o.g/255,r[12]=o.b/255,r[18]=i;var a=new egret.ColorMatrixFilter(r);e.filters=[a]},e.prototype.spliceColor=function(e){var t={r:-1,g:-1,b:-1};return t.b=e%256,t.g=Math.floor(e/256)%256,t.r=Math.floor(e/256/256),t},e.prototype.convertNumberToHex=function(e,t,i){var n="",o=e.toString(16);(1==o.length||"0"===o)&&(o="0"+o);var r=t.toString(16);(1==r.length||"0"===r)&&(r="0"+r);var a=i.toString(16);return(1==a.length||"0"===a)&&(a="0"+a),n="0x"+o+r+a,parseInt(n)},e}();e.FilterUtil=t,__reflect(t.prototype,"codeBase.FilterUtil",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t;!function(e){e[e.Start=0]="Start",e[e.Playing=1]="Playing",e[e.Pause=2]="Pause",e[e.Finished=3]="Finished"}(t=e.GameState||(e.GameState={})),window.GameState=t;var i=function(){function i(){this.remoteResUrl="http://106.52.184.124/TabAndFly_wxgame_remote",this._GameState=t.Playing,this.musicVolume=1,this.effectVolume=1,this.canvasEventListenerArr=[],this.documentEventListenerArr=[],this.mouseMoveListenerArr=[],this.registerMouseMove=!1,this.modulePath=""}return Object.defineProperty(i,"Instance",{get:function(){return null==i.instance&&(i.instance=new i),i.instance},enumerable:!1,configurable:!0}),i.prototype.Init=function(){var e=this;e.canvas||(e.canvas=document.getElementsByTagName("CANVAS")[0]),e.stage=egret.MainContext.instance.stage,mouse.enable(e.stage),e.registerMouseMove=!1,e.modulePath=""},i.prototype.setCursor=function(e){var t=this;t.canvas.style.cursor=e},i.prototype.addCanvasEventListener=function(e,t,i){var n=this,o=t.bind(i);n.canvas.addEventListener(e,o),n.canvasEventListenerArr.push({eventType:e,fun:o,originFun:t,funObj:i})},i.prototype.removeCanvasEventListener=function(e,t,i){for(var n=this,o=n.canvasEventListenerArr.length-1;o>=0;--o){var r=n.canvasEventListenerArr[o];r.type==e&&r.originFun==t&&r.funObj==i&&(n.canvas.removeEventListener(r.eventType,r.fun),n.canvasEventListenerArr.splice(o,1))}},i.prototype.clearCanvasEventListener=function(){for(var e=this,t=e.canvasEventListenerArr.length,i=0;t>i;++i){var n=e.canvasEventListenerArr[i];e.canvas.removeEventListener(n.eventType,n.fun)}e.canvasEventListenerArr.length=0},i.prototype.addDocumentEventListener=function(e,t,i){var n=this,o=t.bind(i);document.addEventListener(e,o),n.documentEventListenerArr.push({eventType:e,fun:o,originFun:t,funObj:i})},i.prototype.removeDocumentEventListener=function(e,t,i){for(var n=this,o=n.documentEventListenerArr.length-1;o>=0;--o){var r=n.documentEventListenerArr[o];r.type==e&&r.originFun==t&&r.funObj==i&&(document.removeEventListener(r.eventType,r.fun),n.documentEventListenerArr.splice(o,1))}},i.prototype.clearDocumentEventListener=function(){for(var e=this,t=e.documentEventListenerArr.length,i=0;t>i;++i){var n=e.documentEventListenerArr[i];document.removeEventListener(n.eventType,n.fun)}e.documentEventListenerArr.length=0},i.prototype.addMouseMoveListener=function(t,i,n){void 0===n&&(n=null);for(var o=this,r=0;r<o.mouseMoveListenerArr.length;++r)if(o.mouseMoveListenerArr[r].callFun==t&&o.mouseMoveListenerArr[r].funObj==i)return;o.registerMouseMove||(o.registerMouseMove=!0,e.isMobile()?o.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,o.onTouchMove,o):(o.onMove=o.onMove.bind(o),o.addCanvasEventListener("mousemove",o.onMove,o))),o.mouseMoveListenerArr.push({callFun:t,funObj:i,target:n})},i.prototype.clearMouseMoveListener=function(){var t=this;t.registerMouseMove&&(t.registerMouseMove=!1,e.isMobile()?t.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,t.onTouchMove,t):t.removeCanvasEventListener("mousemove",t.onMove,t)),t.mouseMoveListenerArr.length=0},i.prototype.onMove=function(e){var t=this;t.doMove(e.x,e.y)},i.prototype.onTouchMove=function(e){var t=this;t.doMove(e.stageX,e.stageY)},i.prototype.doMove=function(e,t){for(var i=this,n=i.mouseMoveListenerArr.length,o=0;n>o;++o)i.mouseMoveListenerArr[o].callFun.call(i.mouseMoveListenerArr[o].funObj,[e,t,i.mouseMoveListenerArr[o].target])},i.prototype.addKeyBoardListener=function(t,i,n,o,r,a,s,l){void 0===r&&(r=null),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0);var h,c=this;return e.isMobile()||(c.addDocumentEventListener("keydown",t,i),c.addDocumentEventListener("keyup",n,o)),h},i.prototype.setTargetMouseMode=function(e,t){mouse.setButtonMode(e,t)},i.prototype.setTargetScale=function(e,t,i){void 0===i&&(i=100),egret.Tween.get(e).to({scaleX:t,scaleY:t},i)},i.prototype.onMouseOver=function(e){i.Instance.setTargetScale(e.currentTarget,1.1)},i.prototype.onMouseOut=function(e){i.Instance.setTargetScale(e.currentTarget,1)},i.prototype.onMouseOverWithFilter=function(t){e.FilterUtil.getInstance.setGlowFilter(t.currentTarget,16768879)},i.prototype.onMouseOutClearFilter=function(t){e.FilterUtil.getInstance.cleanFilter(t.currentTarget)},i.prototype.getTargetPoint=function(e){var t=new egret.Point(e.x,e.y);return t},i.prototype.showQuestionNumber=function(e){var t=this,i=e[1],n=e[0];this.questionNumberImage?this.questionNumberImage.texture=RES.getRes("question_json.question-"+i):(this.questionNumberImage=new egret.Bitmap,this.questionNumberImage.texture=RES.getRes("question_json.question-"+i),this.questionNumberImage.anchorOffsetX=125,this.questionNumberImage.anchorOffsetY=60,n.addChild(this.questionNumberImage)),this.questionNumberImage.x=n.width/2,this.questionNumberImage.y=n.height/2,this.questionNumberImage.scaleX=0,this.questionNumberImage.scaleY=0,egret.Tween.removeTweens(this.questionNumberImage),egret.Tween.get(this.questionNumberImage).to({scaleX:1.5,scaleY:1.5},250).to({scaleX:1.2,scaleY:1.2},250).to({scaleX:1.5,scaleY:1.5},250).to({scaleX:1.2,scaleY:1.2},250).to({scaleX:1.5,scaleY:1.5},250).to({scaleX:1.2,scaleY:1.2},250).wait(100).call(function(){n.removeChild(t.questionNumberImage),t.questionNumberImage=null},this)},i.prototype.shakeObject=function(e,t){if(0==t)egret.Tween.get(e).to({rotation:8},100).to({rotation:-8},200).to({rotation:8},200).to({rotation:-8},200).to({rotation:8},200).to({rotation:0},100);else if(1==t){var i=e.x;egret.Tween.get(e).to({x:i+30},150).to({x:i},150).to({x:i+30},150).to({x:i},150).to({x:i+30},150).to({x:i},150)}},i.prototype.showRightOrWrong=function(e,t,i,n){void 0===n&&(n=!1);var o=new egret.Bitmap,r=this;0==t?n?o.texture=RES.getRes(r.modulePath+"/img/commonRes/right_wrong_big.right_big"):o.texture=RES.getRes(r.modulePath+"/img/commonRes/rightAndWrong.right"):1==t&&(n?o.texture=RES.getRes(r.modulePath+"/img/commonRes/right_wrong_big.wrong_big"):o.texture=RES.getRes(r.modulePath+"/img/commonRes/rightAndWrong.wrong")),e.addChild(o),o.anchorOffsetX=o.width/2,o.anchorOffsetY=o.height/2,o.x=i.x,o.y=i.y,egret.Tween.get(o).wait(1500).to({scaleX:0,scaleY:0},200).call(function(){e.removeChild(o)},e)},i.prototype.setScreenAuto=function(e){e.left=0,e.right=0,e.top=0,e.bottom=0},i.prototype.showHandTip=function(e,t,i,n,o){void 0===o&&(o=!1);var r=this,a=new egret.Bitmap;return a.texture=RES.getRes("comRes_1_json.hand"),a.touchEnabled=!1,e.addChild(a),a.x=t,a.y=i,r.showHandTipAction(a,n,o),a},i.prototype.showHandTipAction=function(e,t,i){void 0===i&&(i=!1),0==t?egret.Tween.get(e,{loop:i}).to({rotation:-15},500).to({rotation:0},500).to({rotation:-15},500).to({rotation:0},500).wait(500):1==t&&egret.Tween.get(e,{loop:i}).to({x:e.x-10,y:e.y-10},1e3).wait(200).to({x:e.x,y:e.y},1e3)},i.prototype.removeTargetTweenAction=function(e){e&&egret.Tween.removeTweens(e)},i.prototype.deepCopyObj=function(e){var t=Array.isArray(e)?[]:{};for(var i in e)e.hasOwnProperty(i)&&("object"==typeof e[i]&&null!==e[i]?t[i]=this.deepCopyObj(e[i]):t[i]=e[i]);return t},i.prototype.uniqueArr=function(e){var t=this,i=e.filter(function(e,t,i){return i.indexOf(e,0)===t?!0:!1},t);return i},i.prototype.measureText=function(e,t,i,n,o){return egret.sys.measureText(e,t,i,n,o)},i.convertStringToHashCode=function(e){if(0===e.length)return 0;for(var t=0,i=0,n=e.length;n>i;++i){var o=e.charCodeAt(i);t=(t<<5)-t+o,t|=0}return t},i.prototype.setDesignSize=function(e,t){var i=this;i.stage.setContentSize(e,t)},i.prototype.renderNode=function(e){e&&(e.$renderDirty=!0)},i.prototype.splitMatrix=function(e){var t=e.replace(/[^0-9\-,]/g,""),i=t.split(",");return i},i.prototype.getMatrixRotation=function(e,t,i,n,o,r){var a=Math.round(180*Math.asin(e)/Math.PI),s=Math.round(180*Math.acos(t)/Math.PI),l=Math.round(180*Math.asin(i)/Math.PI),h=Math.round(180*Math.acos(n)/Math.PI),c=0;return a==s||-a==s?c=h:-a+s==180?c=180+l:a+s==180&&(c=360-l||360-h),c>=360?0:c},i.prototype.dispose=function(){var t=this;t.clearCanvasEventListener(),t.clearDocumentEventListener(),e.isMobile(),t.clearMouseMoveListener(),i.instance=null},i.keyCodes={space:32,up:38,down:40,right:39,left:37},i}();e.GameUtil=i,__reflect(i.prototype,"codeBase.GameUtil",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){function t(){var e=window.navigator.userAgent.toLowerCase(),t=""+e.match(/MicroMessenger/i);return"null"==t?!1:"micromessenger"==t?!0:void 0}function i(){return document.body.clientHeight/document.body.clientWidth>1.32}function n(){return egret.Capabilities.isMobile?!0:!1}function o(){var e=window.navigator.userAgent.toLowerCase();""+e.match(/MicroMessenger/i);return""+e.match(/windows nt/i)=="windows nt"?"windows":""+e.match(/iphone/i)=="iphone"?"ios":""+e.match(/android/i)=="android"?"android":""+e.match(/ipad/i)=="ipad"?"ipad":""+e.match(/linux/i)=="linux"?"linux":""+e.match(/mac/i)=="mac"?"mac":""+e.match(/ucbrower/i)=="ucbrower"?"ucbrower":void console.log("未知系统类型")}function r(){var e=window.navigator.userAgent.toLowerCase();return""+e.match(/micromessenger/i)=="micromessenger"?"micromessenger":""+e.match(/qzone/i)=="qzone"?"qzone":""+e.match(/weibo/i)=="weibo"?"weibo":""+e.match(/qq/i)=="qq"?"qq":""+e.match(/renren/i)=="renren"?"renren":""+e.match(/txmicroblog/i)=="txmicroblog"?"txmicroblog":""+e.match(/douban/i)=="douban"?"douban":"other"}function a(e,t){var i=new RegExp("(\\?|&)"+e+"=([^&#]*)"),n=i.exec(t?t:window.location.href);return null!=n?decodeURIComponent(n[2]):null}function s(){return egret.MainContext.instance.stage}function l(){return egret.MainContext.instance.stage.stageWidth}function h(){return egret.MainContext.instance.stage.stageHeight}function c(){return egret.Capabilities.boundingClientWidth}function d(){return egret.Capabilities.boundingClientHeight}function u(){var e,t=s();return e.drawToTexture(t,new egret.Rectangle(0,0,t.stageWidth,t.stageHeight)),e}function p(){return window.location.href}e.TextColors={white:16777215,milkWhite:16511407,grayWhite:13547170,yellow:16776960,lightYellow:16765813,orangeYellow:16750848,red:15799040,green:58624,blue:1742039,grayBlue:3101047,purple:15284466,pink:16724016,black:3026221,golden:16766720},e.LabelFontSize={littleSize:12,middleSize:18,normalSize:24,bigSize:36},e.isWeiXin=t,e.isBigScreen=i,e.isMobile=n,e.systemType=o,e.platformType=r,e.getUrlParam=a,e.curStage=s,e.curStageWidth=l,e.curStageHeight=h,e.curClientWidth=c,e.curCientHeight=d,e.getScreen=u,e.getCurUrl=p,e.curAngle=Number(window.orientation)}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){}return t.initData=function(){t.RUNTIME=egret.Capabilities.runtimeType,t.STAGE=egret.MainContext.instance.stage,e.Debug.log="---- GlobalSetting init ----",e.Debug.log="runtimeType="+egret.Capabilities.runtimeType+", deviceType="+egret.MainContext.deviceType,e.Debug.log="RUNTIME="+t.RUNTIME,t.initInfoSize()},t.initInfoSize=function(){console.log("stage resize w="+t.STAGE.stageWidth+", h="+t.STAGE.stageHeight),t.STAGE_WIDTH=t.STAGE.stageWidth,t.STAGE_HEIGHT=t.STAGE.stageHeight,t.DISPLAY_WIDTH=t.STAGE_WIDTH,t.DISPLAY_HEIGHT=t.STAGE_HEIGHT,t.DEV_MODEL&&(e.Debug.log="---- GlobalSetting Info Size ----",e.Debug.log="STAGE_WIDTH="+t.STAGE_WIDTH+", STAGE_HEIGHT="+t.STAGE_HEIGHT)},t.isNative=function(){return t.RUNTIME==t.RUNTIME_NATIVE},t.DEV_MODEL=!0,t.SYSTEM_DATE=0,t.VOLUME_OPEN=!0,t.FRAME_RATE=30,t.STAGE=null,t.STAGE_WIDTH=1920,t.STAGE_HEIGHT=1080,t.DISPLAY_WIDTH=1920,t.DISPLAY_HEIGHT=1080,t.VIEW_MINI_WIDTH=300,t.VIEW_MINI_HEIGHT=300,t.LOADING_THREAD_MAX=5,t.CHECK_IDLE_LOADING=15,t.REPORT=!1,t.REPORT_UI=!1,t.REPORT_URL="",t.APP_NAME="",t.APP_PRODUCT="",t.APP_DEVICE="",t.APP_RATE=0,t.APP_RATE_NAME=0,t.APP_CHANNEL="",t.APP_VERSION="",t.APP_PROVIDE=0,t.APP_STORAGE="local",t.STORAGE_LOCAL="local",t.STORAGE_NET="net",t.STORAGE_LOCAL_NET="local_net",t.RUNTIME="web",t.RUNTIME_WEB="web",t.RUNTIME_NATIVE="native",t.STATS_VIEW=!1,t.STATS_WIN=!1,t.STATS_BTN=!1,t.STATS_MC=!1,t.STATS_LIST=!1,t.CDN_RES="resource/",t}();e.GlobalSetting=t,__reflect(t.prototype,"codeBase.GlobalSetting",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){}return t.onEnterFrame=function(i){var n=0,o=0,r=null,a=1;if(t._lastTime>0&&t._eplasedTime>0){var s=Math.floor(egret.getTimer()-t._lastTime-t._eplasedTime);s>0&&(t._cumulativeTime+=s,t._cumulativeTime>t._eplasedTime&&(a+=Math.floor(t._cumulativeTime/t._eplasedTime),t._cumulativeTime=t._cumulativeTime%t._eplasedTime))}for(var l=0;a>l;l++)for(o=t._listeners.length-1,n=o;n>=0;n--)r=t._listeners[n],r.frameIndex++,r.del?(t._listeners.splice(n,1),e.ObjectPool.recycleClass(r)):(r.frameCount<=1||r.frameIndex%r.frameCount==0)&&(r.loopcount++,r.loop>0&&r.loopcount>=r.loop&&(r.del=!0),t._functionCallList.unshift(r));for(o=t._functionCallList.length,n=0;o>n;n++)r=t._functionCallList.pop(),t.executeFunCall(r);0==t._listeners.length&&e.GlobalSetting.STAGE.removeEventListener(egret.Event.ENTER_FRAME,t.onEnterFrame,t),t._lastTime=egret.getTimer()},t.executeFunCall=function(e){e.param&&e.param.length>0?e.func.apply(e.thisArg,e.param):0==e.func.length?e.func.call(e.thisArg):e.func.call(e.thisArg,e.del)},t.addListener=function(n,o,r,a,s,l,h){if(void 0===r&&(r=1),void 0===a&&(a=-1),void 0===s&&(s=0),void 0===l&&(l=null),void 0===h&&(h=!1),null==o||t.hasListener(n,o))return!1;var c=e.ObjectPool.getByClass(i);return 0>=r&&(r=1),c.setData(n,o,r,a,s,l),t._listeners.push(c),h&&(c.loopcount++,t.executeFunCall(c)),t._lastTime=egret.getTimer(),e.GlobalSetting.STAGE.addEventListener(egret.Event.ENTER_FRAME,t.onEnterFrame,t),!0},t.removeListener=function(e,i){var n=0;for(n=0;n<t._listeners.length;n++)if(t._listeners[n].func==i&&t._listeners[n].thisArg==e){t._listeners[n].del=!0;break}},t.hasListener=function(e,i){var n=0;for(n=0;n<t._listeners.length;n++)if(t._listeners[n].thisArg==e&&t._listeners[n].func==i&&!t._listeners[n].del)return!0;return!1},t.getHearBeatLenght=function(){return t._listeners.length},t.init=function(){0==t._eplasedTime&&(t._eplasedTime=1e3/e.GlobalSetting.FRAME_RATE)},t.dispose=function(){var i,n=0;for(e.GlobalSetting.STAGE.removeEventListener(egret.Event.ENTER_FRAME,t.onEnterFrame,t),n=0;n<t._listeners.length;n++)i=t._listeners[n],e.ObjectPool.recycleClass(i);t._listeners.length=0,t._functionCallList.length=0,t._lastTime=0,t._eplasedTime=0,t._cumulativeTime=0},t.getHearBeatTrace=function(){var e=0,i="",n=null;for(i+="总数:"+t._listeners.length+"\n",i+="========================================================\n",e=0;e<t._listeners.length;e++)n=t._listeners[e],n&&(i+="基本信息 ("+e+"): ",i+="del="+n.del+", count="+n.frameCount+", index="+n.frameIndex+", loop="+n.loop+", loopCount="+n.loopcount+"\n",i+="------------------------------------\n");return i+="========================================================\n"},t._listeners=new Array,t._functionCallList=new Array,t._MAX_EXECUTE_COUNT=20,t.isInit=!1,t._lastTime=0,t._eplasedTime=0,t._cumulativeTime=0,t.nowTime=0,t.realFrame=0,t.item=null,t.endCall=!1,t}();e.HeartBeat=t,__reflect(t.prototype,"codeBase.HeartBeat",[]);var i=function(){function e(){this.func=null,this.thisArg=null,this.param=null,this.frameCount=0,this.frameIndex=0,this.loop=0,this.loopcount=0,this.delay=0,this.del=!1,this.traceMsg=null}return e.prototype.setData=function(e,t,i,n,o,r){this.thisArg=e,this.func=t,this.frameCount=i,this.loop=n,this.delay=o,this.frameIndex=0,this.loopcount=0,this.del=!1,this.param=r},e}();__reflect(i.prototype,"codeBase.BeatItem",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){}return e.dump=function(e){var t=e.position,i="",n="";e.position=0;for(var o=0;o<e.length;o++){o%16==0&&(i+=("0000"+o.toString(16)).substr(-4,4)+" "),o%8==0&&(i+=" ");var r=e.readByte();i+=("0"+r.toString(16)).substr(-2,2)+" ",n+=32>r||r>126?".":String.fromCharCode(r),((o+1)%16==0||o==e.length-1)&&(i+=" |"+n+"|\r\n",n="")}return e.position=t,i},e}();e.HexUtil=t,__reflect(t.prototype,"codeBase.HexUtil",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){}return e.setLocalData=function(e,t){egret.localStorage.setItem(e,t)},e.getLocalData=function(e){return egret.localStorage.getItem(e)},e.deleteLocalData=function(e){egret.localStorage.removeItem(e)},e.clearLocalData=function(){egret.localStorage.clear()},e}();e.LocalStorage=t,__reflect(t.prototype,"codeBase.LocalStorage",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){this.mapObj={}}return e.prototype.setValue=function(e,t){var i=this;""!=e?i.mapObj[e]=t:console.log("key键值不能为空字符串!")},e.prototype.getValue=function(e){return""!=e?this.mapObj[e]:null},e.prototype.dispose=function(){var e,t=this;for(e in t.mapObj)t.mapObj[e]&&(delete t.mapObj[e],t.mapObj[e]=null);t.mapObj={}},e}();e.MapUtil=t,__reflect(t.prototype,"codeBase.MapUtil",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){}return t.random=function(e,t,i){void 0===i&&(i=0);var n=t-e,o=Math.random(),r=e+o*n;return parseFloat(r.toFixed(i))},t.changeObjectRotation=function(e,t){var i;i="x"==t?360-e.rotation:180-e.rotation,e.rotation=i},t.lookTo=function(e,i){var n=i.localToGlobal(i.anchorOffsetX,i.anchorOffsetY);n=e.parent.globalToLocal(n.x,n.y);var o=Math.atan2(n.y-e.y,n.x-e.x),r=o*t.RADIAN_TO_ANGEL;e.rotation=r+90},t.lookToPosition=function(e,i,n){var o=e.parent.localToGlobal(e.x,e.y),r=Math.atan2(n-o.y,i-o.x),a=r*t.RADIAN_TO_ANGEL;e.rotation=a+90},t.prototype.clampRotation=function(e){return e%=360,e>180?e-=360:-180>e&&(e+=360),e},t.calculateAngle=function(e,t,i,n){return i==e&&n==t?0:Math.atan2(n-t,i-e)},t.distance=function(e,t,i,n){var o,r;return o=n-t,r=i-e,Math.sqrt(o*o+r*r)},t.hitTest=function(e,t){var i=e.getBounds(),n=t.getBounds();return i.x=e.x,i.y=e.y,n.x=t.x,n.y=t.y,i.intersects(n)},t.cos=function(e){return egret.NumberUtils.cos(e)},t.sin=function(e){return egret.NumberUtils.sin(e)},t.speedXY=function(t,i,n){var o=egret.Point.distance(t,i),r=Math.floor(e.GlobalSetting.FRAME_RATE*o/n)-1;r=0>=r?1:r;var a=i.y-t.y,s=i.x-t.x;return new egret.Point(Math.round(s/r*100)/100,Math.round(a/r*100)/100)},t.DOUBLE_PI=2*Math.PI,t.TRIBLE_PI=3*Math.PI,t.HALF_PI=Math.PI/2,t.TRIBLE_HALF_PI=3*t.HALF_PI,t.QUATER_PI=Math.PI/4,t.QUATER_TRIBLE_PI=t.TRIBLE_PI/4,t.ANGEL_TO_RADIAN=Math.PI/180,t.RADIAN_TO_ANGEL=180/Math.PI,t}();e.MathUtil=t,__reflect(t.prototype,"codeBase.MathUtil",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){}return t.start=function(t,i,n,o,r){if(void 0===i&&(i=!0),void 0===n&&(n=0),void 0===o&&(o=9999),void 0===r&&(r=!0),!this._moveObject||this._moveObject!=t){if(this._moveObject=t,i){var a=egret.MainContext.instance.stage;a.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),a.addEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this),a.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)}else this._moveObject.touchEnabled=!0,this._moveObject.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),this._moveObject.addEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this),this._moveObject.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this);r&&e.TweenEffect.setAnchorXY(this._moveObject),this._minScale=n,this._maxScale=o}},t.mouseDown=function(e){if(null==this._touchPoints[e.touchPointID]&&(this._touchPoints[e.touchPointID]=new egret.Point(e.stageX,e.stageY),this._touchPoints.names.push(e.touchPointID)),this._touchCount++,1==this._touchCount){var t=(this._touchPoints.names,this._moveObject.parent.globalToLocal(e.stageX,e.stageY));this._oldX=t.x-this._moveObject.x,this._oldY=t.y-this._moveObject.y,this._firstTouchId=e.touchPointID}2==this._touchCount&&(this._distance=this.getTouchDistance(),this._angle=this.getTouchAngle(),console.log("_distance:"+this._distance))},t.mouseMove=function(e){if(this._touchPoints[e.touchPointID].x=e.stageX,this._touchPoints[e.touchPointID].y=e.stageY,e.touchPointID==this._firstTouchId){var t=this._moveObject.parent.globalToLocal(e.stageX,e.stageY);this._moveObject.x=t.x-this._oldX,this._moveObject.y=t.y-this._oldY}if(2==this._touchCount){var i=this.getTouchDistance(),n=Math.abs(i/this._distance-1);n*=.1,console.log("tempScale:"+n),this.currentScale+=i>this._currentDistance?n:-n;var o=this.currentScale;o<this._minScale&&(o=this._minScale),o>this._maxScale&&(o=this._maxScale),this.currentScale=o,this._currentDistance=i,console.log("scale:"+o),this._moveObject.scaleX=o,this._moveObject.scaleY=o;var r=this.getTouchAngle();this._moveObject.rotation=r-this._angle+this._currentRotation}},t.mouseUp=function(e){delete this._touchPoints[e.touchPointID];var t=this._touchPoints.names.indexOf(e.touchPointID);t>=0&&this._touchPoints.names.splice(t,1),this._touchCount--,this.currentScale=this._moveObject.scaleX,this._currentRotation=this._moveObject.rotation},t.getTouchDistance=function(){var e=this._touchPoints.names,t=0;return t=egret.Point.distance(this._touchPoints[e[e.length-1]],this._touchPoints[e[e.length-2]])},t.getTouchAngle=function(){var e=0,t=this._touchPoints.names,i=this._touchPoints[t[t.length-1]],n=this._touchPoints[t[t.length-2]];return e=180*Math.atan2(i.y-n.y,i.x-n.x)/Math.PI},t._touchPoints={names:[]},t._distance=0,t._angle=0,t._touchCount=0,t._currentRotation=0,t._currentDistance=0,t._moveObject=null,t._isMiddle=!0,t._minScale=0,t.currentScale=1,t._maxScale=0,t._oldX=0,t._oldY=0,t._firstTouchId=0,t}();e.MoreTouch=t,__reflect(t.prototype,"codeBase.MoreTouch",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){}return e.dump=function(e){for(var t="",i="",n=0;n<e.length;n++){n%16==0&&(t+=("0000"+n.toString(16)).substring(-4,4)+" "),n%8==0&&(t+=" ");var o=e[n];t+=("0"+o.toString(16)).substring(-2,2)+" ",((n+1)%16==0||n==e.length-1)&&(t+=" |"+i+"|\n",i="")}return t},e.isUsage=function(e){return void 0==e||null==e||""==e||"undefined"==e||""==e.trim()?!1:!0},e.randomRange=function(e,t){return void 0===t&&(t=0),Math.floor(e+Math.random()*(t-e))},e.changToMoney=function(e,t){void 0===t&&(t=!1);var i=0,n=0,o="";for(t&&e.charCodeAt(0)>=48&&e.charCodeAt(0)<=57&&(e="+"+e),i=e.length-1;i>=0;i--)o=e.charAt(i)+o,e.charCodeAt(i)>=48&&e.charCodeAt(i)<=57?e.charCodeAt(i-1)>=48&&e.charCodeAt(i-1)<=57&&(n++,3==n&&(o=","+o,n=0)):n=0;return o},e.getMatchesCount=function(e,t){var i=0,n=t.lastIndexOf(e),o=t.indexOf(e);if(o==n&&n>=0)return 1;if(o!=n&&n>=0)for(++i;o!=n;)o=t.indexOf(e,o+e.length-1),-1!=o&&++i;return i},e.changeIntToText=function(e){void 0===e&&(e=0);var t="";return t+=e>=1e4?Math.ceil(e/1e4).toFixed(0)+"万":0>e?"0":e.toFixed(0)},e.convertColor2Html=function(e){void 0===e&&(e=0);var t="#000000",i="";try{for(i=e.toString(16);i.length<6;)i="0"+i;t="#"+i}catch(n){}return t},e.htmlESC=function(t){if(e.isUsage(t)){var i=/&/g,n=/</g,o=/>/g;return t=t.replace(i,"&amp;"),t=t.replace(n,"&lt;"),t=t.replace(o,"&gt;")}return null},e.replaceNumberToArray=function(e){for(var t=new Array,i=e.toString(),n=i.length,o=0;n>o;o++)t.push(i.charAt(o));return t},e.replace=function(t,i,n){if(!e.isUsage(t))return"";for(;t.indexOf(i)>=0;)t=t.replace(i,n);return t},e.splitStrArr=function(t,i){var n=[];if(e.isUsage(t))for(var o=t.split(i),r=0;r<o.length;r++)e.isUsage(o[r])&&n.push(o[r]);return n},e.parserStrToObj=function(t,i,n,o){void 0===i&&(i=null),void 0===n&&(n="@"),void 0===o&&(o=";");var r={};if(i&&(r=i),!e.isUsage(t))return r;for(var a=e.splitStrArr(t,o),s=null,l=0;l<a.length;l++)if(s=e.splitStrArr(a[l],n),2==s.length){var h=typeof r[s[0]];"number"==h?r[s[0]]=parseInt(s[1]):"boolean"==h?r[s[0]]="true"==s[1]:r[s[0]]instanceof Array?r[s[0]]=e.splitStrArr(s[1],","):r[s[0]]=s[1]}return r},e.parserObjToStr=function(e,t,i){void 0===t&&(t="@"),void 0===i&&(i=";");var n="";for(var o in e)"__class__"!=o&&"hashCode"!=o&&"__types__"!=o&&"__proto__"!=o&&(e[o]instanceof Function||(n+=o+t+e[o]+i));return n},e.isPhone=function(t){if(e.isUsage(t)&&11==t.length){var i=parseInt(t);if(""+i==t)return!0}return!1},e.formatTime=function(e,t){void 0===t&&(t=":");var i="",n=Math.floor(e/60);i=10>n?"0"+n:""+n,i+=t;var o=Math.floor(e%60);return i+=10>o?"0"+o:""+o},e.dateFormat=function(e,t){var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in i)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return t},e}();e.StringUtil=t,__reflect(t.prototype,"codeBase.StringUtil",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function e(){this.hexcase=0,this.b64pad=""}return e.prototype.hex_md5=function(e){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(e)))},e.prototype.b64_md5=function(e){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(e)))},e.prototype.any_md5=function(e,t){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(e)),t)},e.prototype.hex_hmac_md5=function(e,t){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},e.prototype.b64_hmac_md5=function(e,t){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},e.prototype.any_hmac_md5=function(e,t,i){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)),i)},e.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},e.prototype.rstr_md5=function(e){return this.binl2rstr(this.binl_md5(this.rstr2binl(e),8*e.length))},e.prototype.rstr_hmac_md5=function(e,t){var i=this.rstr2binl(e);i.length>16&&(i=this.binl_md5(i,8*e.length));for(var n=Array(16),o=Array(16),r=0;16>r;r++)n[r]=909522486^i[r],o[r]=1549556828^i[r];var a=this.binl_md5(n.concat(this.rstr2binl(t)),512+8*t.length);return this.binl2rstr(this.binl_md5(o.concat(a),640))},e.prototype.rstr2hex=function(e){try{this.hexcase}catch(t){this.hexcase=0}for(var i,n=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",o="",r=0;r<e.length;r++)i=e.charCodeAt(r),o+=n.charAt(i>>>4&15)+n.charAt(15&i);return o},e.prototype.rstr2b64=function(e){try{this.b64pad}catch(t){this.b64pad=""}for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",o=e.length,r=0;o>r;r+=3)for(var a=e.charCodeAt(r)<<16|(o>r+1?e.charCodeAt(r+1)<<8:0)|(o>r+2?e.charCodeAt(r+2):0),s=0;4>s;s++)n+=8*r+6*s>8*e.length?this.b64pad:i.charAt(a>>>6*(3-s)&63);return n},e.prototype.rstr2any=function(e,t){var i,n,o,r,a,s=t.length,l=Array(Math.ceil(e.length/2));for(i=0;i<l.length;i++)l[i]=e.charCodeAt(2*i)<<8|e.charCodeAt(2*i+1);var h=Math.ceil(8*e.length/(Math.log(t.length)/Math.log(2))),c=Array(h);for(n=0;h>n;n++){for(a=Array(),r=0,i=0;i<l.length;i++)r=(r<<16)+l[i],o=Math.floor(r/s),r-=o*s,(a.length>0||o>0)&&(a[a.length]=o);c[n]=r,l=a}var d="";for(i=c.length-1;i>=0;i--)d+=t.charAt(c[i]);return d},e.prototype.str2rstr_utf8=function(e){for(var t,i,n="",o=-1;++o<e.length;)t=e.charCodeAt(o),i=o+1<e.length?e.charCodeAt(o+1):0,t>=55296&&56319>=t&&i>=56320&&57343>=i&&(t=65536+((1023&t)<<10)+(1023&i),o++),127>=t?n+=String.fromCharCode(t):2047>=t?n+=String.fromCharCode(192|t>>>6&31,128|63&t):65535>=t?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):2097151>=t&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return n},e.prototype.str2rstr_utf16le=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(255&e.charCodeAt(i),e.charCodeAt(i)>>>8&255);return t},e.prototype.str2rstr_utf16be=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e.charCodeAt(i)>>>8&255,255&e.charCodeAt(i));return t},e.prototype.rstr2binl=function(e){for(var t=Array(e.length>>2),i=0;i<t.length;i++)t[i]=0;for(var i=0;i<8*e.length;i+=8)t[i>>5]|=(255&e.charCodeAt(i/8))<<i%32;
return t},e.prototype.binl2rstr=function(e){for(var t="",i=0;i<32*e.length;i+=8)t+=String.fromCharCode(e[i>>5]>>>i%32&255);return t},e.prototype.binl_md5=function(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var i=1732584193,n=-271733879,o=-1732584194,r=271733878,a=0;a<e.length;a+=16){var s=i,l=n,h=o,c=r;i=this.md5_ff(i,n,o,r,e[a+0],7,-680876936),r=this.md5_ff(r,i,n,o,e[a+1],12,-389564586),o=this.md5_ff(o,r,i,n,e[a+2],17,606105819),n=this.md5_ff(n,o,r,i,e[a+3],22,-1044525330),i=this.md5_ff(i,n,o,r,e[a+4],7,-176418897),r=this.md5_ff(r,i,n,o,e[a+5],12,1200080426),o=this.md5_ff(o,r,i,n,e[a+6],17,-1473231341),n=this.md5_ff(n,o,r,i,e[a+7],22,-45705983),i=this.md5_ff(i,n,o,r,e[a+8],7,1770035416),r=this.md5_ff(r,i,n,o,e[a+9],12,-1958414417),o=this.md5_ff(o,r,i,n,e[a+10],17,-42063),n=this.md5_ff(n,o,r,i,e[a+11],22,-1990404162),i=this.md5_ff(i,n,o,r,e[a+12],7,1804603682),r=this.md5_ff(r,i,n,o,e[a+13],12,-40341101),o=this.md5_ff(o,r,i,n,e[a+14],17,-1502002290),n=this.md5_ff(n,o,r,i,e[a+15],22,1236535329),i=this.md5_gg(i,n,o,r,e[a+1],5,-165796510),r=this.md5_gg(r,i,n,o,e[a+6],9,-1069501632),o=this.md5_gg(o,r,i,n,e[a+11],14,643717713),n=this.md5_gg(n,o,r,i,e[a+0],20,-373897302),i=this.md5_gg(i,n,o,r,e[a+5],5,-701558691),r=this.md5_gg(r,i,n,o,e[a+10],9,38016083),o=this.md5_gg(o,r,i,n,e[a+15],14,-660478335),n=this.md5_gg(n,o,r,i,e[a+4],20,-405537848),i=this.md5_gg(i,n,o,r,e[a+9],5,568446438),r=this.md5_gg(r,i,n,o,e[a+14],9,-1019803690),o=this.md5_gg(o,r,i,n,e[a+3],14,-187363961),n=this.md5_gg(n,o,r,i,e[a+8],20,1163531501),i=this.md5_gg(i,n,o,r,e[a+13],5,-1444681467),r=this.md5_gg(r,i,n,o,e[a+2],9,-51403784),o=this.md5_gg(o,r,i,n,e[a+7],14,1735328473),n=this.md5_gg(n,o,r,i,e[a+12],20,-1926607734),i=this.md5_hh(i,n,o,r,e[a+5],4,-378558),r=this.md5_hh(r,i,n,o,e[a+8],11,-2022574463),o=this.md5_hh(o,r,i,n,e[a+11],16,1839030562),n=this.md5_hh(n,o,r,i,e[a+14],23,-35309556),i=this.md5_hh(i,n,o,r,e[a+1],4,-1530992060),r=this.md5_hh(r,i,n,o,e[a+4],11,1272893353),o=this.md5_hh(o,r,i,n,e[a+7],16,-155497632),n=this.md5_hh(n,o,r,i,e[a+10],23,-1094730640),i=this.md5_hh(i,n,o,r,e[a+13],4,681279174),r=this.md5_hh(r,i,n,o,e[a+0],11,-358537222),o=this.md5_hh(o,r,i,n,e[a+3],16,-722521979),n=this.md5_hh(n,o,r,i,e[a+6],23,76029189),i=this.md5_hh(i,n,o,r,e[a+9],4,-640364487),r=this.md5_hh(r,i,n,o,e[a+12],11,-421815835),o=this.md5_hh(o,r,i,n,e[a+15],16,530742520),n=this.md5_hh(n,o,r,i,e[a+2],23,-995338651),i=this.md5_ii(i,n,o,r,e[a+0],6,-198630844),r=this.md5_ii(r,i,n,o,e[a+7],10,1126891415),o=this.md5_ii(o,r,i,n,e[a+14],15,-1416354905),n=this.md5_ii(n,o,r,i,e[a+5],21,-57434055),i=this.md5_ii(i,n,o,r,e[a+12],6,1700485571),r=this.md5_ii(r,i,n,o,e[a+3],10,-1894986606),o=this.md5_ii(o,r,i,n,e[a+10],15,-1051523),n=this.md5_ii(n,o,r,i,e[a+1],21,-2054922799),i=this.md5_ii(i,n,o,r,e[a+8],6,1873313359),r=this.md5_ii(r,i,n,o,e[a+15],10,-30611744),o=this.md5_ii(o,r,i,n,e[a+6],15,-1560198380),n=this.md5_ii(n,o,r,i,e[a+13],21,1309151649),i=this.md5_ii(i,n,o,r,e[a+4],6,-145523070),r=this.md5_ii(r,i,n,o,e[a+11],10,-1120210379),o=this.md5_ii(o,r,i,n,e[a+2],15,718787259),n=this.md5_ii(n,o,r,i,e[a+9],21,-343485551),i=this.safe_add(i,s),n=this.safe_add(n,l),o=this.safe_add(o,h),r=this.safe_add(r,c)}return[i,n,o,r]},e.prototype.md5_cmn=function(e,t,i,n,o,r){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t,e),this.safe_add(n,r)),o),i)},e.prototype.md5_ff=function(e,t,i,n,o,r,a){return this.md5_cmn(t&i|~t&n,e,t,o,r,a)},e.prototype.md5_gg=function(e,t,i,n,o,r,a){return this.md5_cmn(t&n|i&~n,e,t,o,r,a)},e.prototype.md5_hh=function(e,t,i,n,o,r,a){return this.md5_cmn(t^i^n,e,t,o,r,a)},e.prototype.md5_ii=function(e,t,i,n,o,r,a){return this.md5_cmn(i^(t|~n),e,t,o,r,a)},e.prototype.safe_add=function(e,t){var i=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(i>>16);return n<<16|65535&i},e.prototype.bit_rol=function(e,t){return e<<t|e>>>32-t},e}();__reflect(t.prototype,"codeBase.md5",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(e){function t(i,n,o,r){void 0===n&&(n=!0);var a=e.call(this)||this;a.videoWidth=580,a.videoHeight=444,a.videoURL="",a.autoPlay=!0;var s=a;return t.rewrite||(t.rewrite=!0,s.rewriteFunction()),s.videoURL=i,s.autoPlay=n,s.videoWidth=o||580,s.videoHeight=r||444,a}return __extends(t,e),t.prototype.rewriteFunction=function(){egret.Video.prototype.checkFullScreen=function(e){var t=this.video;e?(null==t.parentElement&&(t.removeAttribute("webkit-playsinline"),document.body.appendChild(t)),egret.stopTick(this.markDirty,this),this.goFullscreen()):(null!=t.parentElement&&t.parentElement.removeChild(t),t.setAttribute("webkit-playsinline","true"),this.setFullScreenMonitor(!1),egret.startTick(this.markDirty,this)),this.videoPlay()},Object.defineProperty(egret.Video.prototype,"fullscreen",{get:function(){return this._fullscreen},set:function(e){this._fullscreen=!!e,this.video&&0==this.video.paused&&this.checkFullScreen(this._fullscreen)},enumerable:!0,configurable:!0})},t.prototype.show=function(e,t,i,n,o,r){void 0===n&&(n=null),void 0===o&&(o=null),void 0===r&&(r=!1);var a=this;a._egretVideo=new egret.Video,a._egretVideo.width=a.videoWidth,a._egretVideo.height=a.videoHeight,a._egretVideo.fullscreen=!1,a.calllFun=n,a.funObj=o,a.addChild(a._egretVideo),a._egretVideo.x=0,a._egretVideo.y=0,a.width=a.videoWidth,a.height=a.videoHeight,a._loop=r,e.addChild(a),a.x=t,a.y=i,a.loadVideo(a.videoURL,a._loop)},t.prototype.hide=function(){var e=this;e.parent&&(e.parent.removeChild(e),e.dispose())},t.prototype.loadVideo=function(e,t){void 0===t&&(t=!1);var i=this;i._loop=t,i._pauseTime=0,i.videoURL=e;var n=new egret.URLLoader;n.dataFormat=egret.URLLoaderDataFormat.BINARY;var o=new egret.URLRequest;o.url=i.videoURL,n.load(o),n.addEventListener(egret.Event.COMPLETE,i.urlLoaderComplete,i)},t.prototype.urlLoaderComplete=function(e){var t=this,i=new File([e.target.data],"");t.obj_url&&(URL.revokeObjectURL(t.obj_url),t.obj_url=null),t.obj_url=window.URL.createObjectURL(i),t._egretVideo.load(t.obj_url),t._egretVideo.addEventListener(egret.Event.COMPLETE,t.loadCompleted,t)},t.prototype.loadCompleted=function(e){var t=this;t._egretVideo.removeEventListener(egret.Event.COMPLETE,t.loadCompleted,t),t.autoPlay&&t.playVideo(t._loop,t._pauseTime)},t.prototype.playVideo=function(e,t){void 0===t&&(t=0);var i=this;i._egretVideo&&(i._egretVideo.play(t,e),i._egretVideo.addEventListener(egret.Event.ENDED,i.onComplete,i))},t.prototype.onComplete=function(e){var t=this;t._egretVideo.removeEventListener(egret.Event.ENDED,t.onComplete,t),t.calllFun&&t.funObj&&t.calllFun.call(t.funObj)},t.prototype.pauseVideo=function(){var e=this;e._pauseTime=e._egretVideo.position,e._egretVideo.pause()},t.prototype.stopVideo=function(){var e=this;e._pauseTime=0,e._egretVideo.pause(),e._egretVideo.removeEventListener(egret.Event.ENDED,e.onComplete,e)},t.prototype.dispose=function(){var e=this;e._egretVideo&&e._egretVideo.close(),e.obj_url&&(URL.revokeObjectURL(e.obj_url),e.obj_url=null)},t.prototype.switchVideo=function(e,t){void 0===t&&(t=!1);var i=this;i.stopVideo(),i.loadVideo(e,t)},t.prototype.setTransform=function(e,t,i,n){var o=this;o.x=e,o.y=t,o.width=i,o.height=n,o._egretVideo.x=0,o._egretVideo.y=0,o._egretVideo.width=i,o._egretVideo.height=n},t.rewrite=!1,t}(egret.Sprite);e.EgretVideo=t,__reflect(t.prototype,"codeBase.EgretVideo",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){this.videoWidth=0,this.videoHeight=0,this.validVideo=!1}return t.prototype.show=function(e,t,i,n,o,r,a){void 0===r&&(r=null),void 0===a&&(a=null);var s=this;s.stage=egret.MainContext.instance.stage,s.canvas=document.body.getElementsByTagName("canvas")[0],s.videoWidth=i,s.videoHeight=n,s.videoURL=o,s.px=e,s.py=t,s.relyDisplayObject=r,s.offsetPoint=a,s.validVideo=!1,egret.setTimeout(function(){s.createVideo(e,t,i,n,o),s.stage.addEventListener(egret.Event.RESIZE,s.resetVideo,s),s.resetVideo()},s,50)},t.prototype.setFinishCallBack=function(e,t){var i=this;i.finishFun=e,i.finishFunObj=t},t.prototype.closeVideo=function(){var e=this;e.hide(),e.finishFun&&e.finishFunObj&&e.finishFun.call(e.finishFunObj)},t.prototype.playFinish=function(){var e=this;e.closeVideo()},t.prototype.createVideo=function(e,t,i,n,o){var r=this,a=document.createElement("video");document.body.appendChild(a),r.video=a;var s=new egret.URLLoader;s.dataFormat=egret.URLLoaderDataFormat.BINARY;var l=new egret.URLRequest;l.url=o,s.load(l),s.addEventListener(egret.Event.COMPLETE,r.onLoadDataComplete,r)},t.prototype.onLoadDataComplete=function(e){var t=this,i=new File([e.target.data],"");t.obj_url&&(URL.revokeObjectURL(t.obj_url),t.obj_url=null),t.obj_url=window.URL.createObjectURL(i);var n=t.video;n.src=t.obj_url,n.setAttribute("autoplay","autoplay"),n.setAttribute("webkit-playsinline","true"),n.setAttribute("muted","false"),n.setAttribute("crossorigin","anonymous"),t.playVideo=t.playVideo.bind(t),n.addEventListener("canplay",t.playVideo),t.playFinish=t.playFinish.bind(t),n.addEventListener("ended",t.playFinish),n.controls=!1,n.style.position="absolute",n.style.zIndex="100000",n.style.pointerEvents="none"},t.prototype.playVideo=function(){var e=this;e.video&&e.video.play()},t.prototype.resetVideo=function(){var t=this;egret.setTimeout(function(){var i=t.video,n=1/egret.sys.DisplayList.$canvasScaleFactor,o=t.canvas.width*n/e.SceneManager.instance.designWidth,r=t.canvas.height*n/e.SceneManager.instance.designHeight,a=1;a=r>o?o:r;var s=t.videoWidth*a,l=t.videoHeight*a;i.style.width=s+"px",i.style.height=l+"px";var h=t.px,c=t.py;if(t.relyDisplayObject&&t.relyDisplayObject.parent){var d=t.relyDisplayObject.parent.localToGlobal(t.relyDisplayObject.x,t.relyDisplayObject.y);t.offsetPoint&&(d.x+=t.offsetPoint.x*e.SceneManager.instance.gameScale,d.y+=t.offsetPoint.y*e.SceneManager.instance.gameScale),h=d.x,c=d.y}else h*=o,c*=r;var u=e.GameUtil.Instance.splitMatrix(t.canvas.style.transform),p=e.GameUtil.Instance.getMatrixRotation(u[0],u[1],u[2],u[3],u[4],u[5]);i.style.transform="rotate("+p+"deg)",90==p?(i.style.left=t.canvas.height-c-l+(l-s>>1)+"px",i.style.top=h+(s-l>>1)+"px"):(i.style.left=h+"px",i.style.top=c+"px")},t,50)},t.prototype.hide=function(){var e=this;e.obj_url&&(URL.revokeObjectURL(e.obj_url),e.obj_url=null),e.video&&(e.video.removeEventListener("canplay",e.playVideo),e.video.removeEventListener("ended",e.playFinish),e.video.parentNode&&e.video.parentNode.removeChild(e.video)),e.validVideo=!1},t}();e.NativeVideo=t,__reflect(t.prototype,"codeBase.NativeVideo",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(e){function t(t){var i=e.call(this)||this;return i.loaded=!1,i.closed=!1,i.heightSet=0/0,i.widthSet=0/0,i.waiting=!1,i.userPause=!1,i.userPlay=!1,i.isPlayed=!1,i._fullscreen=!0,i.onVideoLoaded=function(){i.video.removeEventListener("canplay",i.onVideoLoaded);var e=i.video;i.loaded=!0,i.posterData&&(i.posterData.width=i.getPlayWidth(),i.posterData.height=i.getPlayHeight()),e.width=e.videoWidth,e.height=e.videoHeight,window.setTimeout(function(){i.dispatchEventWith(egret.Event.COMPLETE)},200)},i.$renderNode=new egret.sys.BitmapNode,i.src=t,i.once(egret.Event.ADDED_TO_STAGE,i.loadPoster,i),t&&i.load(),i}return __extends(t,e),t.prototype.load=function(e){var t=this;if(e=e||this.src,this.src=e,!this.video||this.video.src!=e){var i;!this.video||egret.Capabilities.isMobile?(i=document.createElement("video"),this.video=i,i.controls=null):i=this.video,i.src=e,i.setAttribute("autoplay","autoplay"),i.setAttribute("webkit-playsinline","true"),i.setAttribute("playsinline","true"),i.setAttribute("muted","false"),i.setAttribute("crossorigin","anonymous"),i.setAttribute("x5-video-player-type","h5-page"),i.addEventListener("canplay",this.onVideoLoaded),i.addEventListener("error",function(){return t.onVideoError()}),i.addEventListener("ended",function(){return t.onVideoEnded()}),i.load(),i.style.position="absolute",i.style.top="0px",i.style.zIndex="-88888",i.style.left="0px",i.height=1,i.width=1}},t.prototype.play=function(e,t){var i=this;if(void 0===t&&(t=!1),0==this.loaded)return this.load(this.src),void this.once(egret.Event.COMPLETE,function(n){return i.play(e,t)},this);if(!this.isPlayed){var n=this.video;void 0!=e&&(n.currentTime=+e||0),n.loop=!!t,egret.Capabilities.isMobile?n.style.zIndex="-88888":n.style.zIndex="9999",n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.height=n.videoHeight,n.width=n.videoWidth,"Windows PC"!=egret.Capabilities.os&&"Mac OS"!=egret.Capabilities.os&&window.setTimeout(function(){n.width=0},1e3),this.video.play(),this.isPlayed=!0,egret.startTick(this.markDirty,this)}},t.prototype.onVideoEnded=function(){this.pause(),this.isPlayed=!1,this.dispatchEventWith(egret.Event.ENDED)},t.prototype.onVideoError=function(){console.error("video errorCode:",this.video.error.code),this.dispatchEventWith(egret.IOErrorEvent.IO_ERROR)},t.prototype.close=function(){var e=this;this.closed=!0,this.video.removeEventListener("canplay",this.onVideoLoaded),this.video.removeEventListener("error",function(){return e.onVideoError()}),this.video.removeEventListener("ended",function(){return e.onVideoEnded()}),this.pause(),this.isPlayed=!1,egret.stopTick(this.markDirty,this),0==this.loaded&&this.video&&(this.video.src=""),this.video&&this.video.parentElement&&(this.video.parentElement.removeChild(this.video),this.video=null),this.loaded=!1},t.prototype.pause=function(){this.isPlayed&&(this.video.pause(),this.isPlayed=!1,egret.stopTick(this.markDirty,this))},Object.defineProperty(t.prototype,"volume",{get:function(){return this.video?this.video.volume:1},set:function(e){this.video&&(this.video.volume=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.video?this.video.currentTime:0},set:function(e){this.video&&(this.video.currentTime=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullscreen",{get:function(){return this._fullscreen},set:function(e){egret.Capabilities.isMobile||(this._fullscreen=!!e,this.video&&0==this.video.paused)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapData",{get:function(){return this.video&&this.loaded?(this._bitmapData||(this.video.width=this.video.videoWidth,this.video.height=this.video.videoHeight,this._bitmapData=new egret.BitmapData(this.video),this._bitmapData.$deleteSource=!1),this._bitmapData):null},enumerable:!1,configurable:!0}),t.prototype.loadPoster=function(){var e=this,t=this.poster;if(t){var i=new egret.ImageLoader;i.once(egret.Event.COMPLETE,function(t){e.posterData=i.data,e.$renderDirty=!0,e.posterData.width=e.getPlayWidth(),e.posterData.height=e.getPlayHeight()},this),i.load(t)}},t.prototype.$measureContentBounds=function(e){var t=this.bitmapData,i=this.posterData;t?e.setTo(0,0,this.getPlayWidth(),this.getPlayHeight()):i?e.setTo(0,0,this.getPlayWidth(),this.getPlayHeight()):e.setEmpty()},t.prototype.getPlayWidth=function(){return isNaN(this.widthSet)?this.bitmapData?this.bitmapData.width:this.posterData?this.posterData.width:0/0:this.widthSet},t.prototype.getPlayHeight=function(){return isNaN(this.heightSet)?this.bitmapData?this.bitmapData.height:this.posterData?this.posterData.height:0/0:this.heightSet},t.prototype.$updateRenderNode=function(){var e=this.$renderNode,t=this.bitmapData,i=this.posterData,n=this.getPlayWidth(),o=this.getPlayHeight();this.isPlayed&&!egret.Capabilities.isMobile||!i?this.isPlayed&&t&&(e.image=t,e.imageWidth=t.width,e.imageHeight=t.height,egret.WebGLUtils.deleteWebGLTexture(t.webGLTexture),t.webGLTexture=null,e.drawImage(0,0,t.width,t.height,0,0,n,o)):(e.image=i,e.imageWidth=n,e.imageHeight=o,e.drawImage(0,0,i.width,i.height,0,0,n,o))},t.prototype.markDirty=function(){return this.$renderDirty=!0,!0},t.prototype.$setHeight=function(t){if(this.heightSet=t,this.paused){var i=this;this.$renderDirty=!0,window.setTimeout(function(){i.$renderDirty=!1},200)}e.prototype.$setHeight.call(this,t)},t.prototype.$setWidth=function(t){if(this.widthSet=t,this.paused){var i=this;this.$renderDirty=!0,window.setTimeout(function(){i.$renderDirty=!1},200)}e.prototype.$setWidth.call(this,t)},Object.defineProperty(t.prototype,"paused",{get:function(){return this.video?this.video.paused:!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){if(this.video)return this.video.duration;throw new Error("Video not loaded!")},enumerable:!1,configurable:!0}),t}(egret.DisplayObject);e.VideoBox=t,__reflect(t.prototype,"codeBase.VideoBox",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t;!function(e){e[e.kids=1]="kids",e[e.pupil=2]="pupil"}(t||(t={})),window.InteractionType=t;var i=function(i){function n(){var e=i.call(this)||this;return e.interactionType=t.pupil,e.currentDragTarget=null,e.currentDragTargetRenderIndex=0,e.currentDragTargetIndex=-1,e.dragTargetLeavePos=new egret.Point,e._distance=new egret.Point(0,0),e.gameStage=0,e.wrongCounter=0,e.counter=0,e}return __extends(n,i),n.prototype.initData=function(){i.prototype.initData.call(this),this.showScene()},n.prototype.showScene=function(){var t=this;t.bg=new e.Image,t.bg.texture=RES.getRes("bg_png"),t.bg.width=1920,t.bg.height=1080,t.addChild(t.bg),e.GameUtil.Instance.setScreenAuto(t.bg),t.group_play=new e.Group,t.addChild(t.group_play),t.group_play.width=1920,t.group_play.height=1080,t.group_play.horizontalCenter=0,t.group_play.verticalCenter=0;var i=new e.Group;i.width=300,i.height=200,i.x=600,i.y=600,t.group_play.addChild(i),i.showBg=!0,i.border=!0;var n=new e.Label;n.text="这是一个具有布局约束的文本",t.group_play.addChild(n),n.left=50,n.top=500,n.showBg=!0,console.log("label.width:"+n.width+"  label.height:"+n.height),egret.setTimeout(function(){n.text="一个具有布局约束的文本00000000000"},t,100);var o=new e.Image;o.texture=RES.getRes("comRes_1_json.hand"),t.group_play.addChild(o),o.left=0,o.top=300,console.log("hand.width:"+o.width+"  hand.height:"+o.height);var r=new e.TextInput;r.width=100,r.height=60,t.group_play.addChild(r),r.x=1e3,r.y=650,r.showBg=!0,r.paddingLeft=10,r.paddingTop=5,r.paddingRight=10,r.paddingBottom=5,r.vAlign=egret.VerticalAlign.MIDDLE;var a=new e.TextArea;a.width=300,a.height=300,t.group_play.addChild(a),a.x=50,a.y=100,a.showBg=!0,a.text="1月1日";var s=new e.Button;t.group_play.addChild(s),s.setStatus([RES.getRes("A_png"),RES.getRes("A点击_png")]),s.setClickFunction(function(){e.EffectUtil.playEffect(o,1)},t),s.x=0,s.y=t.group_play.height-s.height,console.log("button.width:"+s.width+"  button.height:"+s.height),e.EffectUtil.breatheEffect(s);var l=e.UICreator.createBitmap("A点击_png");t.group_play.addChild(l),l.x=500,l.y=t.group_play.height-l.height,e.EffectUtil.breatheEffect(l);for(var h=new e.BaseGroup,c=[RES.getRes("A_png"),RES.getRes("A点击_png")],d=function(i){s=e.UICreator.createToggleButton(c,"abc",function(e){console.log(i),console.log(e)},t),h.addChild(s),s.x=0,s.y=0+i*(s.height+20)},u=0;3>u;++u)d(u);h.width=s.width,h.height=s.y+s.height+50;var p=new e.Image;p.texture=RES.getRes("slider_bar_v_png");var f=new e.Scroller(h.width,500,h,e.Style.VERTICAL,p,!0);f.x=1e3,f.y=600,t.group_play.addChild(f),f.setMouseWheelEnable(!0);var g=[{res:"A_png"},{res:"A点击_png"},{res:"A_png"},{res:"A点击_png"},{res:"A_png"},{res:"A点击_png"},{res:"A_png"},{res:"A点击_png"},{res:"A_png"},{res:"A点击_png"},{res:"A_png"},{res:"A点击_png"}],_=new e.List;t.group_play.addChild(_),_.x=1300,_.y=0,_.width=700,_.height=600,_.itemRenderer=e.ListItemRenderer,_.gap=100,_.line=2,_.lineGap=20,_.data=g,_.addEventListener(e.List.ITEM_SELECTED,function(e){console.log(e.data)},t);var v=new e.ListGroup(322,600,e.Style.VERTICAL,20);v.renderList(e.ListItemRenderer,g,!0),t.group_play.addChild(v),v.x=600,v.y=0,v.scrollBar.sliderBarSkins(e.UICreator.createBitmap("slider_bar_v_png"),e.UICreator.createBitmap("slider_bar_h_png"));var y=e.UICreator.createBitmap("A_png");t.group_play.addChild(y),y.x=0,y.y=0},n.prototype.virtualKeyBoardCall=function(e){var t=this;"up"==e?t.keyUp(38):"down"==e&&t.keyUp(40)},n.prototype.virtualKeyBoardBeginCall=function(e){var t=this;"up"==e?t.keyDown(38):"down"==e&&t.keyDown(40)},n.prototype.tweeObjectAlpha=function(e,t,i,n,o,r){void 0===o&&(o=null),void 0===r&&(r=null),e.scaleX=1,e.scaleY=1,e.alpha=t,o&&r?egret.Tween.get(e).to({alpha:i},n).call(o.bind(r),this):egret.Tween.get(e).to({alpha:i},n)},n.prototype.gameStart=function(){},n.prototype.restart=function(){},n.prototype.selectOptions=function(e){},n.prototype.hide=function(){i.prototype.hide.call(this);var t=this;t.isClear||(t.isClear=!0,t.removeEventListener(egret.Event.ENTER_FRAME,t.update,t),e.isMobile()||(document.removeEventListener("keydown",t.onkeydown),document.removeEventListener("keyup",t.onkeyup)))},n.prototype.gameFinished=function(){var e=this;e.gameStage>0||(e.gameStage=1,e.hide(),e.removeEventListener(egret.Event.ENTER_FRAME,e.update,e),egret.setTimeout(function(){},this,2500))},n.prototype.update=function(){},n.prototype.onkeydown=function(e){var t=this;t.keyDown(e.keyCode)},n.prototype.keyDown=function(e){},n.prototype.keyUp=function(e){},n.prototype.onkeyup=function(e){var t=this;t.keyUp(e.keyCode)},n.prototype.mouseMoveOver=function(e){},n.prototype.mouseMoveOut=function(e){},n.prototype.comfirmButtonCall=function(){},n.prototype.notifyVideoClose=function(){this.restart()},n.prototype.onMove=function(e){},n.prototype.sceneTouchMoveCall=function(e){var t=this;if(null!=t.currentDragTarget){var i=t.group_play.globalToLocal(e.stageX,e.stageY);t.currentDragTarget.x=i.x-t._distance.x,t.currentDragTarget.y=i.y-t._distance.y}},n.prototype.dragTargetBeginCall=function(e){var t=this,i=e.target;t.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,t.sceneTouchMoveCall,t),t.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.dragTargetEndCall,t),t.currentDragTarget=i,t.dragTargetLeavePos.x=t.currentDragTarget.x,t.dragTargetLeavePos.y=t.currentDragTarget.y,t._distance.x=e.localX,t._distance.y=e.localY},n.prototype.dragTargetEndCall=function(e){var t=this;t.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,t.sceneTouchMoveCall,t),t.stage.removeEventListener(egret.TouchEvent.TOUCH_END,t.dragTargetEndCall,t)},n}(e.BaseScene);e.MainScene=i,__reflect(i.prototype,"codeBase.MainScene",[])}(i||(i={})),window.codeBase=i},function(e,t){var i,i=window.codeBase;!function(e){var t=function(){function t(){this.gameScale=1,this.designWidth=1920,this.designHeight=1080,this.fixDisplayArr=[]}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.Init=function(){var t=this;t._stage=e.curStage(),t.gameLayer=new egret.Sprite,t.gameLayer.width=t.designWidth,t.gameLayer.height=t.designHeight,t._stage.addChildAt(t.gameLayer,0),t._stage.addEventListener(egret.Event.RESIZE,t.contentSizeChanged,t,!1,1e3),t.contentSizeChanged()},t.prototype.contentSizeChanged=function(){var e=this,t=e._stage.stageWidth,i=e._stage.stageHeight,n=t/e.designWidth,o=i/e.designHeight;o>n?e.gameScale=n:e.gameScale=o,e.gameLayer&&(e.gameLayer.width=e.designWidth,e.gameLayer.height=e.designHeight,e.gameLayer.scaleX=e.gameLayer.scaleY=e.gameScale,e.gameLayer.x=(t-e.gameLayer.width*e.gameScale)/2,e.gameLayer.y=(i-e.gameLayer.height*e.gameScale)/2),e.fixLayout()},t.prototype.fixListen=function(t,n,o,r,a,s){void 0===n&&(n=0/0),void 0===o&&(o=0/0),void 0===r&&(r=0/0),void 0===a&&(a=0/0),void 0===s&&(s=null);for(var l,h=this,c=-1,d=0;d<h.fixDisplayArr.length;++d)if(h.fixDisplayArr[d].display==t){c=d,l=h.fixDisplayArr[d];break}n!=n&&o!=o&&r!=r&&a!=a?l&&(h.fixDisplayArr.splice(c,1),e.ObjectPool.recycleClass(l)):(l||(l=e.ObjectPool.getByClass(i),h.fixDisplayArr.push(l)),l.display=t,l.left=n,l.right=o,l.top=r,l.bottom=a,l.relativeParent=s),h.fixLayout()},t.prototype.fixLayout=function(){for(var e,t,i,n,o,r,a,s,l,h,c=this,d=c.fixDisplayArr.length,u=0;d>u;++u)e=c.fixDisplayArr[u],r=e.relativeParent?e.relativeParent:c._stage,t=r==c._stage?c._stage.stageWidth:r.width,i=r==c._stage?c._stage.stageHeight:r.height,n=e.display.width,n=e.display.height,(isNaN(t)||void 0==i)&&(t=0),(isNaN(i)||void 0==i)&&(i=0),(isNaN(n)||void 0==n)&&(n=0),(isNaN(o)||void 0==o)&&(n=0),!isNaN(e.left)&&isNaN(e.right)?(h=r.localToGlobal(e.left,0),l=e.display.parent.globalToLocal(h.x,h.y),a=l.x):!isNaN(e.right)&&isNaN(e.left)?(h=r.localToGlobal(t-e.right,0),l=e.display.parent.globalToLocal(h.x,h.y),a=l.x):isNaN(e.left)||isNaN(e.right)||(h=r.localToGlobal(e.left,0),l=e.display.parent.globalToLocal(h.x,h.y),a=l.x,h=r.localToGlobal(t-e.right,0),l=e.display.parent.globalToLocal(h.x,h.y),n=l.x-a),!isNaN(e.top)&&isNaN(e.bottom)?(h=r.localToGlobal(0,e.top),l=e.display.parent.globalToLocal(h.x,h.y),s=l.y):!isNaN(e.bottom)&&isNaN(e.top)?(h=r.localToGlobal(0,i-e.bottom),l=e.display.parent.globalToLocal(h.x,h.y),s=l.y):isNaN(e.top)||isNaN(e.bottom)||(h=r.localToGlobal(0,e.top),l=e.display.parent.globalToLocal(h.x,h.y),s=l.y,h=r.localToGlobal(0,i-e.bottom),l=e.display.parent.globalToLocal(h.x,h.y),o=l.y-s),e.display.x=a,e.display.y=s,e.display.width!=n&&(e.display.width=n),e.display.height!=o&&(e.display.height=o)},t.prototype.showScene=function(e){var t=this;e&&(t.gameLayer.addChild(e),t.setCurrentScene(e))},t.prototype.setCurrentScene=function(e){var t=this;t.currentScene&&(t.removeScene(t.currentScene),t.fixListen(t.currentScene,0/0,0/0,0/0,0/0)),t.currentScene=e,t.fixListen(t.currentScene,0,0,0,0)},t.prototype.removeScene=function(e){var t=this;e&&e.parent==t.gameLayer&&(t.gameLayer.removeChild(e),e=null)},t.prototype.dispose=function(){for(var t=this,i=t.gameLayer.numChildren;i>0;){var n=t.gameLayer.getChildAt(0);n instanceof e.BaseScene?t.removeScene(n):t.gameLayer.removeChild(n),i-=1}t.gameLayer&&t.gameLayer.parent==t._stage&&(t._stage.removeChild(t.gameLayer),t.gameLayer=null),t.currentScene=null,t._stage.removeEventListener(egret.Event.RESIZE,t.contentSizeChanged,t)},t}();e.SceneManager=t,__reflect(t.prototype,"codeBase.SceneManager",[]);var i=function(){function e(){}return e}();__reflect(i.prototype,"codeBase.FixDisplay",[])}(i||(i={})),window.codeBase=i}]);